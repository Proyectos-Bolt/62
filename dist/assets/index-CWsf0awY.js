var uN=Object.defineProperty;var cN=(t,e,n)=>e in t?uN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>cN(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var NV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a3={exports:{}},B0={},l3={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=Symbol.for("react.element"),fN=Symbol.for("react.portal"),dN=Symbol.for("react.fragment"),pN=Symbol.for("react.strict_mode"),mN=Symbol.for("react.profiler"),gN=Symbol.for("react.provider"),yN=Symbol.for("react.context"),vN=Symbol.for("react.forward_ref"),_N=Symbol.for("react.suspense"),wN=Symbol.for("react.memo"),bN=Symbol.for("react.lazy"),Rv=Symbol.iterator;function xN(t){return t===null||typeof t!="object"?null:(t=Rv&&t[Rv]||t["@@iterator"],typeof t=="function"?t:null)}var u3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c3=Object.assign,h3={};function Xc(t,e,n){this.props=t,this.context=e,this.refs=h3,this.updater=n||u3}Xc.prototype.isReactComponent={};Xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f3(){}f3.prototype=Xc.prototype;function B2(t,e,n){this.props=t,this.context=e,this.refs=h3,this.updater=n||u3}var z2=B2.prototype=new f3;z2.constructor=B2;c3(z2,Xc.prototype);z2.isPureReactComponent=!0;var Dv=Array.isArray,d3=Object.prototype.hasOwnProperty,q2={current:null},p3={key:!0,ref:!0,__self:!0,__source:!0};function m3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)d3.call(e,r)&&!p3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qf,type:t,key:s,ref:o,props:i,_owner:q2.current}}function AN(t,e){return{$$typeof:Qf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qf}function SN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ov=/\/+/g;function q1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SN(""+t.key):e.toString(36)}function mp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qf:case fN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+q1(o,0):r,Dv(i)?(n="",t!=null&&(n=t.replace(Ov,"$&/")+"/"),mp(i,e,n,"",function(u){return u})):i!=null&&($2(i)&&(i=AN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ov,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+q1(s,a);o+=mp(s,e,n,l,i)}else if(l=xN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+q1(s,a++),o+=mp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dd(t,e,n){if(t==null)return t;var r=[],i=0;return mp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ti={current:null},gp={transition:null},IN={ReactCurrentDispatcher:Ti,ReactCurrentBatchConfig:gp,ReactCurrentOwner:q2};function g3(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!$2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=Xc;qt.Fragment=dN;qt.Profiler=mN;qt.PureComponent=B2;qt.StrictMode=pN;qt.Suspense=_N;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;qt.act=g3;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=c3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=q2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)d3.call(e,l)&&!p3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qf,type:t.type,key:i,ref:s,props:r,_owner:o}};qt.createContext=function(t){return t={$$typeof:yN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gN,_context:t},t.Consumer=t};qt.createElement=m3;qt.createFactory=function(t){var e=m3.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:vN,render:t}};qt.isValidElement=$2;qt.lazy=function(t){return{$$typeof:bN,_payload:{_status:-1,_result:t},_init:EN}};qt.memo=function(t,e){return{$$typeof:wN,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=gp.transition;gp.transition={};try{t()}finally{gp.transition=e}};qt.unstable_act=g3;qt.useCallback=function(t,e){return Ti.current.useCallback(t,e)};qt.useContext=function(t){return Ti.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return Ti.current.useDeferredValue(t)};qt.useEffect=function(t,e){return Ti.current.useEffect(t,e)};qt.useId=function(){return Ti.current.useId()};qt.useImperativeHandle=function(t,e,n){return Ti.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return Ti.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return Ti.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return Ti.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return Ti.current.useReducer(t,e,n)};qt.useRef=function(t){return Ti.current.useRef(t)};qt.useState=function(t){return Ti.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return Ti.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return Ti.current.useTransition()};qt.version="18.3.1";l3.exports=qt;var $e=l3.exports;const Mv=hN($e);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN=$e,TN=Symbol.for("react.element"),kN=Symbol.for("react.fragment"),PN=Object.prototype.hasOwnProperty,CN=NN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LN={key:!0,ref:!0,__self:!0,__source:!0};function y3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PN.call(e,r)&&!LN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TN,type:t,key:s,ref:o,props:i,_owner:CN.current}}B0.Fragment=kN;B0.jsx=y3;B0.jsxs=y3;a3.exports=B0;var O=a3.exports,v3={exports:{}},ps={},_3={exports:{}},w3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,le){var we=J.length;J.push(le);e:for(;0<we;){var _e=we-1>>>1,F=J[_e];if(0<i(F,le))J[_e]=le,J[we]=F,we=_e;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],we=J.pop();if(we!==le){J[0]=we;e:for(var _e=0,F=J.length,W=F>>>1;_e<W;){var Q=2*(_e+1)-1,te=J[Q],re=Q+1,oe=J[re];if(0>i(te,we))re<F&&0>i(oe,te)?(J[_e]=oe,J[re]=we,_e=re):(J[_e]=te,J[Q]=we,_e=Q);else if(re<F&&0>i(oe,we))J[_e]=oe,J[re]=we,_e=re;else break e}}return le}function i(J,le){var we=J.sortIndex-le.sortIndex;return we!==0?we:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,g=null,v=3,p=!1,k=!1,E=!1,B=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(J){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=J)r(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(u)}}function U(J){if(E=!1,R(J),!k)if(n(l)!==null)k=!0,me(Z);else{var le=n(u);le!==null&&ye(U,le.startTime-J)}}function Z(J,le){k=!1,E&&(E=!1,x(I),I=-1),p=!0;var we=v;try{for(R(le),g=n(l);g!==null&&(!(g.expirationTime>le)||J&&!w());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,v=g.priorityLevel;var F=_e(g.expirationTime<=le);le=t.unstable_now(),typeof F=="function"?g.callback=F:g===n(l)&&r(l),R(le)}else r(l);g=n(l)}if(g!==null)var W=!0;else{var Q=n(u);Q!==null&&ye(U,Q.startTime-le),W=!1}return W}finally{g=null,v=we,p=!1}}var ie=!1,M=null,I=-1,S=5,D=-1;function w(){return!(t.unstable_now()-D<S)}function N(){if(M!==null){var J=t.unstable_now();D=J;var le=!0;try{le=M(!0,J)}finally{le?T():(ie=!1,M=null)}}else ie=!1}var T;if(typeof P=="function")T=function(){P(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ce=X.port2;X.port1.onmessage=N,T=function(){ce.postMessage(null)}}else T=function(){B(N,0)};function me(J){M=J,ie||(ie=!0,T())}function ye(J,le){I=B(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){k||p||(k=!0,me(Z))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var we=v;v=le;try{return J()}finally{v=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var we=v;v=J;try{return le()}finally{v=we}},t.unstable_scheduleCallback=function(J,le,we){var _e=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?_e+we:_e):we=_e,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=we+F,J={id:d++,callback:le,priorityLevel:J,startTime:we,expirationTime:F,sortIndex:-1},we>_e?(J.sortIndex=we,e(u,J),n(l)===null&&J===n(u)&&(E?(x(I),I=-1):E=!0,ye(U,we-_e))):(J.sortIndex=F,e(l,J),k||p||(k=!0,me(Z))),J},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(J){var le=v;return function(){var we=v;v=le;try{return J.apply(this,arguments)}finally{v=we}}}})(w3);_3.exports=w3;var RN=_3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=$e,ds=RN;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b3=new Set,mf={};function Au(t,e){Dc(t,e),Dc(t+"Capture",e)}function Dc(t,e){for(mf[t]=e,t=0;t<e.length;t++)b3.add(e[t])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,ON=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fv={},jv={};function MN(t){return sg.call(jv,t)?!0:sg.call(Fv,t)?!1:ON.test(t)?jv[t]=!0:(Fv[t]=!0,!1)}function FN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jN(t,e,n,r){if(e===null||typeof e>"u"||FN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ki(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kr[t]=new ki(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kr[e]=new ki(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kr[t]=new ki(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kr[t]=new ki(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kr[t]=new ki(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kr[t]=new ki(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kr[t]=new ki(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kr[t]=new ki(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kr[t]=new ki(t,5,!1,t.toLowerCase(),null,!1,!1)});var H2=/[\-:]([a-z])/g;function W2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H2,W2);Kr[e]=new ki(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H2,W2);Kr[e]=new ki(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H2,W2);Kr[e]=new ki(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kr[t]=new ki(t,1,!1,t.toLowerCase(),null,!1,!1)});Kr.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kr[t]=new ki(t,1,!1,t.toLowerCase(),null,!0,!0)});function G2(t,e,n,r){var i=Kr.hasOwnProperty(e)?Kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jN(e,n,i,r)&&(n=null),r||i===null?MN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xa=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Od=Symbol.for("react.element"),rc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),K2=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),x3=Symbol.for("react.provider"),A3=Symbol.for("react.context"),Y2=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),lg=Symbol.for("react.suspense_list"),Q2=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),S3=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function Th(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var Kn=Object.assign,$1;function Vh(t){if($1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$1=e&&e[1]||""}return`
`+$1+t}var H1=!1;function W1(t,e){if(!t||H1)return"";H1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{H1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vh(t):""}function VN(t){switch(t.tag){case 5:return Vh(t.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return t=W1(t.type,!1),t;case 11:return t=W1(t.type.render,!1),t;case 1:return t=W1(t.type,!0),t;default:return""}}function ug(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ic:return"Fragment";case rc:return"Portal";case og:return"Profiler";case K2:return"StrictMode";case ag:return"Suspense";case lg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A3:return(t.displayName||"Context")+".Consumer";case x3:return(t._context.displayName||"Context")+".Provider";case Y2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q2:return e=t.displayName||null,e!==null?e:ug(t.type)||"Memo";case Ga:e=t._payload,t=t._init;try{return ug(t(e))}catch{}}return null}function UN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ug(e);case 8:return e===K2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BN(t){var e=E3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Md(t){t._valueTracker||(t._valueTracker=BN(t))}function I3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=E3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $p(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cg(t,e){var n=e.checked;return Kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N3(t,e){e=e.checked,e!=null&&G2(t,"checked",e,!1)}function hg(t,e){N3(t,e);var n=bl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fg(t,e.type,n):e.hasOwnProperty("defaultValue")&&fg(t,e.type,bl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fg(t,e,n){(e!=="number"||$p(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uh=Array.isArray;function gc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Kn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(Uh(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bl(n)}}function T3(t,e){var n=bl(e.value),r=bl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fd,P3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fd=Fd||document.createElement("div"),Fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zN=["Webkit","ms","Moz","O"];Object.keys(Yh).forEach(function(t){zN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yh[e]=Yh[t]})});function C3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yh.hasOwnProperty(t)&&Yh[t]?(""+e).trim():e+"px"}function L3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qN=Kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mg(t,e){if(e){if(qN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function gg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yg=null;function X2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vg=null,yc=null,vc=null;function $v(t){if(t=Zf(t)){if(typeof vg!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=W0(e),vg(t.stateNode,t.type,e))}}function R3(t){yc?vc?vc.push(t):vc=[t]:yc=t}function D3(){if(yc){var t=yc,e=vc;if(vc=yc=null,$v(t),e)for(t=0;t<e.length;t++)$v(e[t])}}function O3(t,e){return t(e)}function M3(){}var G1=!1;function F3(t,e,n){if(G1)return t(e,n);G1=!0;try{return O3(t,e,n)}finally{G1=!1,(yc!==null||vc!==null)&&(M3(),D3())}}function yf(t,e){var n=t.stateNode;if(n===null)return null;var r=W0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var _g=!1;if(pa)try{var kh={};Object.defineProperty(kh,"passive",{get:function(){_g=!0}}),window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{_g=!1}function $N(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Qh=!1,Hp=null,Wp=!1,wg=null,HN={onError:function(t){Qh=!0,Hp=t}};function WN(t,e,n,r,i,s,o,a,l){Qh=!1,Hp=null,$N.apply(HN,arguments)}function GN(t,e,n,r,i,s,o,a,l){if(WN.apply(this,arguments),Qh){if(Qh){var u=Hp;Qh=!1,Hp=null}else throw Error(Oe(198));Wp||(Wp=!0,wg=u)}}function Su(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hv(t){if(Su(t)!==t)throw Error(Oe(188))}function KN(t){var e=t.alternate;if(!e){if(e=Su(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hv(i),t;if(s===r)return Hv(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function V3(t){return t=KN(t),t!==null?U3(t):null}function U3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U3(t);if(e!==null)return e;t=t.sibling}return null}var B3=ds.unstable_scheduleCallback,Wv=ds.unstable_cancelCallback,YN=ds.unstable_shouldYield,QN=ds.unstable_requestPaint,ar=ds.unstable_now,XN=ds.unstable_getCurrentPriorityLevel,J2=ds.unstable_ImmediatePriority,z3=ds.unstable_UserBlockingPriority,Gp=ds.unstable_NormalPriority,JN=ds.unstable_LowPriority,q3=ds.unstable_IdlePriority,z0=null,To=null;function ZN(t){if(To&&typeof To.onCommitFiberRoot=="function")try{To.onCommitFiberRoot(z0,t,void 0,(t.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:nT,eT=Math.log,tT=Math.LN2;function nT(t){return t>>>=0,t===0?32:31-(eT(t)/tT|0)|0}var jd=64,Vd=4194304;function Bh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bh(a):(s&=o,s!==0&&(r=Bh(s)))}else o=n&~i,o!==0?r=Bh(o):s!==0&&(r=Bh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qs(e),i=1<<n,r|=t[n],e&=~i;return r}function rT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=rT(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $3(){var t=jd;return jd<<=1,!(jd&4194240)&&(jd=64),t}function K1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qs(e),t[e]=n}function sT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Z2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gn=0;function H3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var W3,ey,G3,K3,Y3,xg=!1,Ud=[],ol=null,al=null,ll=null,vf=new Map,_f=new Map,Ya=[],oT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gv(t,e){switch(t){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_f.delete(e.pointerId)}}function Ph(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zf(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aT(t,e,n,r,i){switch(e){case"focusin":return ol=Ph(ol,t,e,n,r,i),!0;case"dragenter":return al=Ph(al,t,e,n,r,i),!0;case"mouseover":return ll=Ph(ll,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vf.set(s,Ph(vf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_f.set(s,Ph(_f.get(s)||null,t,e,n,r,i)),!0}return!1}function Q3(t){var e=Ql(t.target);if(e!==null){var n=Su(e);if(n!==null){if(e=n.tag,e===13){if(e=j3(n),e!==null){t.blockedOn=e,Y3(t.priority,function(){G3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yg=r,n.target.dispatchEvent(r),yg=null}else return e=Zf(n),e!==null&&ey(e),t.blockedOn=n,!1;e.shift()}return!0}function Kv(t,e,n){yp(t)&&n.delete(e)}function lT(){xg=!1,ol!==null&&yp(ol)&&(ol=null),al!==null&&yp(al)&&(al=null),ll!==null&&yp(ll)&&(ll=null),vf.forEach(Kv),_f.forEach(Kv)}function Ch(t,e){t.blockedOn===e&&(t.blockedOn=null,xg||(xg=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,lT)))}function wf(t){function e(i){return Ch(i,t)}if(0<Ud.length){Ch(Ud[0],t);for(var n=1;n<Ud.length;n++){var r=Ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ol!==null&&Ch(ol,t),al!==null&&Ch(al,t),ll!==null&&Ch(ll,t),vf.forEach(e),_f.forEach(e),n=0;n<Ya.length;n++)r=Ya[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)Q3(n),n.blockedOn===null&&Ya.shift()}var _c=xa.ReactCurrentBatchConfig,Yp=!0;function uT(t,e,n,r){var i=gn,s=_c.transition;_c.transition=null;try{gn=1,ty(t,e,n,r)}finally{gn=i,_c.transition=s}}function cT(t,e,n,r){var i=gn,s=_c.transition;_c.transition=null;try{gn=4,ty(t,e,n,r)}finally{gn=i,_c.transition=s}}function ty(t,e,n,r){if(Yp){var i=Ag(t,e,n,r);if(i===null)im(t,e,r,Qp,n),Gv(t,r);else if(aT(i,t,e,n,r))r.stopPropagation();else if(Gv(t,r),e&4&&-1<oT.indexOf(t)){for(;i!==null;){var s=Zf(i);if(s!==null&&W3(s),s=Ag(t,e,n,r),s===null&&im(t,e,r,Qp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else im(t,e,r,null,n)}}var Qp=null;function Ag(t,e,n,r){if(Qp=null,t=X2(r),t=Ql(t),t!==null)if(e=Su(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qp=t,null}function X3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XN()){case J2:return 1;case z3:return 4;case Gp:case JN:return 16;case q3:return 536870912;default:return 16}default:return 16}}var tl=null,ny=null,vp=null;function J3(){if(vp)return vp;var t,e=ny,n=e.length,r,i="value"in tl?tl.value:tl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vp=i.slice(t,1<r?1-r:void 0)}function _p(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bd(){return!0}function Yv(){return!1}function ms(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bd:Yv,this.isPropagationStopped=Yv,this}return Kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),e}var Jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=ms(Jc),Jf=Kn({},Jc,{view:0,detail:0}),hT=ms(Jf),Y1,Q1,Lh,q0=Kn({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lh&&(Lh&&t.type==="mousemove"?(Y1=t.screenX-Lh.screenX,Q1=t.screenY-Lh.screenY):Q1=Y1=0,Lh=t),Y1)},movementY:function(t){return"movementY"in t?t.movementY:Q1}}),Qv=ms(q0),fT=Kn({},q0,{dataTransfer:0}),dT=ms(fT),pT=Kn({},Jf,{relatedTarget:0}),X1=ms(pT),mT=Kn({},Jc,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=ms(mT),yT=Kn({},Jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vT=ms(yT),_T=Kn({},Jc,{data:0}),Xv=ms(_T),wT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xT[t])?!!e[t]:!1}function iy(){return AT}var ST=Kn({},Jf,{key:function(t){if(t.key){var e=wT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_p(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(t){return t.type==="keypress"?_p(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_p(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ET=ms(ST),IT=Kn({},q0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jv=ms(IT),NT=Kn({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),TT=ms(NT),kT=Kn({},Jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=ms(kT),CT=Kn({},q0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LT=ms(CT),RT=[9,13,27,32],sy=pa&&"CompositionEvent"in window,Xh=null;pa&&"documentMode"in document&&(Xh=document.documentMode);var DT=pa&&"TextEvent"in window&&!Xh,Z3=pa&&(!sy||Xh&&8<Xh&&11>=Xh),Zv=" ",e_=!1;function ex(t,e){switch(t){case"keyup":return RT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sc=!1;function OT(t,e){switch(t){case"compositionend":return tx(e);case"keypress":return e.which!==32?null:(e_=!0,Zv);case"textInput":return t=e.data,t===Zv&&e_?null:t;default:return null}}function MT(t,e){if(sc)return t==="compositionend"||!sy&&ex(t,e)?(t=J3(),vp=ny=tl=null,sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z3&&e.locale!=="ko"?null:e.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FT[t.type]:e==="textarea"}function nx(t,e,n,r){R3(r),e=Xp(e,"onChange"),0<e.length&&(n=new ry("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jh=null,bf=null;function jT(t){dx(t,0)}function $0(t){var e=lc(t);if(I3(e))return t}function VT(t,e){if(t==="change")return e}var rx=!1;if(pa){var J1;if(pa){var Z1="oninput"in document;if(!Z1){var n_=document.createElement("div");n_.setAttribute("oninput","return;"),Z1=typeof n_.oninput=="function"}J1=Z1}else J1=!1;rx=J1&&(!document.documentMode||9<document.documentMode)}function r_(){Jh&&(Jh.detachEvent("onpropertychange",ix),bf=Jh=null)}function ix(t){if(t.propertyName==="value"&&$0(bf)){var e=[];nx(e,bf,t,X2(t)),F3(jT,e)}}function UT(t,e,n){t==="focusin"?(r_(),Jh=e,bf=n,Jh.attachEvent("onpropertychange",ix)):t==="focusout"&&r_()}function BT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $0(bf)}function zT(t,e){if(t==="click")return $0(e)}function qT(t,e){if(t==="input"||t==="change")return $0(e)}function $T(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zs=typeof Object.is=="function"?Object.is:$T;function xf(t,e){if(Zs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sg.call(e,i)||!Zs(t[i],e[i]))return!1}return!0}function i_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s_(t,e){var n=i_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i_(n)}}function sx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ox(){for(var t=window,e=$p();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$p(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HT(t){var e=ox(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sx(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=s_(n,s);var o=s_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WT=pa&&"documentMode"in document&&11>=document.documentMode,oc=null,Sg=null,Zh=null,Eg=!1;function o_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eg||oc==null||oc!==$p(r)||(r=oc,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zh&&xf(Zh,r)||(Zh=r,r=Xp(Sg,"onSelect"),0<r.length&&(e=new ry("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oc)))}function zd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ac={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},em={},ax={};pa&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function H0(t){if(em[t])return em[t];if(!ac[t])return t;var e=ac[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ax)return em[t]=e[n];return t}var lx=H0("animationend"),ux=H0("animationiteration"),cx=H0("animationstart"),hx=H0("transitionend"),fx=new Map,a_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(t,e){fx.set(t,e),Au(e,[t])}for(var tm=0;tm<a_.length;tm++){var nm=a_[tm],GT=nm.toLowerCase(),KT=nm[0].toUpperCase()+nm.slice(1);Ll(GT,"on"+KT)}Ll(lx,"onAnimationEnd");Ll(ux,"onAnimationIteration");Ll(cx,"onAnimationStart");Ll("dblclick","onDoubleClick");Ll("focusin","onFocus");Ll("focusout","onBlur");Ll(hx,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function l_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GN(r,e,void 0,t),t.currentTarget=null}function dx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;l_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;l_(i,a,u),s=l}}}if(Wp)throw t=wg,Wp=!1,wg=null,t}function jn(t,e){var n=e[Pg];n===void 0&&(n=e[Pg]=new Set);var r=t+"__bubble";n.has(r)||(px(e,t,2,!1),n.add(r))}function rm(t,e,n){var r=0;e&&(r|=4),px(n,t,r,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[qd]){t[qd]=!0,b3.forEach(function(n){n!=="selectionchange"&&(YT.has(n)||rm(n,!1,t),rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,rm("selectionchange",!1,e))}}function px(t,e,n,r){switch(X3(e)){case 1:var i=uT;break;case 4:i=cT;break;default:i=ty}n=i.bind(null,e,n,t),i=void 0,!_g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function im(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ql(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F3(function(){var u=s,d=X2(n),g=[];e:{var v=fx.get(t);if(v!==void 0){var p=ry,k=t;switch(t){case"keypress":if(_p(n)===0)break e;case"keydown":case"keyup":p=ET;break;case"focusin":k="focus",p=X1;break;case"focusout":k="blur",p=X1;break;case"beforeblur":case"afterblur":p=X1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TT;break;case lx:case ux:case cx:p=gT;break;case hx:p=PT;break;case"scroll":p=hT;break;case"wheel":p=LT;break;case"copy":case"cut":case"paste":p=vT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jv}var E=(e&4)!==0,B=!E&&t==="scroll",x=E?v!==null?v+"Capture":null:v;E=[];for(var P=u,R;P!==null;){R=P;var U=R.stateNode;if(R.tag===5&&U!==null&&(R=U,x!==null&&(U=yf(P,x),U!=null&&E.push(Sf(P,U,R)))),B)break;P=P.return}0<E.length&&(v=new p(v,k,null,n,d),g.push({event:v,listeners:E}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",v&&n!==yg&&(k=n.relatedTarget||n.fromElement)&&(Ql(k)||k[ma]))break e;if((p||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,p?(k=n.relatedTarget||n.toElement,p=u,k=k?Ql(k):null,k!==null&&(B=Su(k),k!==B||k.tag!==5&&k.tag!==6)&&(k=null)):(p=null,k=u),p!==k)){if(E=Qv,U="onMouseLeave",x="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(E=Jv,U="onPointerLeave",x="onPointerEnter",P="pointer"),B=p==null?v:lc(p),R=k==null?v:lc(k),v=new E(U,P+"leave",p,n,d),v.target=B,v.relatedTarget=R,U=null,Ql(d)===u&&(E=new E(x,P+"enter",k,n,d),E.target=R,E.relatedTarget=B,U=E),B=U,p&&k)t:{for(E=p,x=k,P=0,R=E;R;R=Wu(R))P++;for(R=0,U=x;U;U=Wu(U))R++;for(;0<P-R;)E=Wu(E),P--;for(;0<R-P;)x=Wu(x),R--;for(;P--;){if(E===x||x!==null&&E===x.alternate)break t;E=Wu(E),x=Wu(x)}E=null}else E=null;p!==null&&u_(g,v,p,E,!1),k!==null&&B!==null&&u_(g,B,k,E,!0)}}e:{if(v=u?lc(u):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var Z=VT;else if(t_(v))if(rx)Z=qT;else{Z=BT;var ie=UT}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Z=zT);if(Z&&(Z=Z(t,u))){nx(g,Z,n,d);break e}ie&&ie(t,v,u),t==="focusout"&&(ie=v._wrapperState)&&ie.controlled&&v.type==="number"&&fg(v,"number",v.value)}switch(ie=u?lc(u):window,t){case"focusin":(t_(ie)||ie.contentEditable==="true")&&(oc=ie,Sg=u,Zh=null);break;case"focusout":Zh=Sg=oc=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,o_(g,n,d);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":o_(g,n,d)}var M;if(sy)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else sc?ex(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Z3&&n.locale!=="ko"&&(sc||I!=="onCompositionStart"?I==="onCompositionEnd"&&sc&&(M=J3()):(tl=d,ny="value"in tl?tl.value:tl.textContent,sc=!0)),ie=Xp(u,I),0<ie.length&&(I=new Xv(I,t,null,n,d),g.push({event:I,listeners:ie}),M?I.data=M:(M=tx(n),M!==null&&(I.data=M)))),(M=DT?OT(t,n):MT(t,n))&&(u=Xp(u,"onBeforeInput"),0<u.length&&(d=new Xv("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:u}),d.data=M))}dx(g,e)})}function Sf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yf(t,n),s!=null&&r.unshift(Sf(t,s,i)),s=yf(t,e),s!=null&&r.push(Sf(t,s,i))),t=t.return}return r}function Wu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yf(n,s),l!=null&&o.unshift(Sf(n,l,a))):i||(l=yf(n,s),l!=null&&o.push(Sf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(QT,`
`).replace(XT,"")}function $d(t,e,n){if(e=c_(e),c_(t)!==e&&n)throw Error(Oe(425))}function Jp(){}var Ig=null,Ng=null;function Tg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(ek)}:kg;function ek(t){setTimeout(function(){throw t})}function sm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wf(e)}function ul(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zc=Math.random().toString(36).slice(2),Eo="__reactFiber$"+Zc,Ef="__reactProps$"+Zc,ma="__reactContainer$"+Zc,Pg="__reactEvents$"+Zc,tk="__reactListeners$"+Zc,nk="__reactHandles$"+Zc;function Ql(t){var e=t[Eo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ma]||n[Eo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f_(t);t!==null;){if(n=t[Eo])return n;t=f_(t)}return e}t=n,n=t.parentNode}return null}function Zf(t){return t=t[Eo]||t[ma],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function W0(t){return t[Ef]||null}var Cg=[],uc=-1;function Rl(t){return{current:t}}function Bn(t){0>uc||(t.current=Cg[uc],Cg[uc]=null,uc--)}function Dn(t,e){uc++,Cg[uc]=t.current,t.current=e}var xl={},pi=Rl(xl),zi=Rl(!1),cu=xl;function Oc(t,e){var n=t.type.contextTypes;if(!n)return xl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qi(t){return t=t.childContextTypes,t!=null}function Zp(){Bn(zi),Bn(pi)}function d_(t,e,n){if(pi.current!==xl)throw Error(Oe(168));Dn(pi,e),Dn(zi,n)}function mx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,UN(t)||"Unknown",i));return Kn({},n,r)}function e0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xl,cu=pi.current,Dn(pi,t),Dn(zi,zi.current),!0}function p_(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=mx(t,e,cu),r.__reactInternalMemoizedMergedChildContext=t,Bn(zi),Bn(pi),Dn(pi,t)):Bn(zi),Dn(zi,n)}var ia=null,G0=!1,om=!1;function gx(t){ia===null?ia=[t]:ia.push(t)}function rk(t){G0=!0,gx(t)}function Dl(){if(!om&&ia!==null){om=!0;var t=0,e=gn;try{var n=ia;for(gn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ia=null,G0=!1}catch(i){throw ia!==null&&(ia=ia.slice(t+1)),B3(J2,Dl),i}finally{gn=e,om=!1}}return null}var cc=[],hc=0,t0=null,n0=0,Is=[],Ns=0,hu=null,la=1,ua="";function Hl(t,e){cc[hc++]=n0,cc[hc++]=t0,t0=t,n0=e}function yx(t,e,n){Is[Ns++]=la,Is[Ns++]=ua,Is[Ns++]=hu,hu=t;var r=la;t=ua;var i=32-Qs(r)-1;r&=~(1<<i),n+=1;var s=32-Qs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,la=1<<32-Qs(e)+i|n<<i|r,ua=s+t}else la=1<<s|n<<i|r,ua=t}function ay(t){t.return!==null&&(Hl(t,1),yx(t,1,0))}function ly(t){for(;t===t0;)t0=cc[--hc],cc[hc]=null,n0=cc[--hc],cc[hc]=null;for(;t===hu;)hu=Is[--Ns],Is[Ns]=null,ua=Is[--Ns],Is[Ns]=null,la=Is[--Ns],Is[Ns]=null}var hs=null,ls=null,$n=!1,Ws=null;function vx(t,e){var n=Cs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hs=t,ls=ul(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hs=t,ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hu!==null?{id:la,overflow:ua}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hs=t,ls=null,!0):!1;default:return!1}}function Lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rg(t){if($n){var e=ls;if(e){var n=e;if(!m_(t,e)){if(Lg(t))throw Error(Oe(418));e=ul(n.nextSibling);var r=hs;e&&m_(t,e)?vx(r,n):(t.flags=t.flags&-4097|2,$n=!1,hs=t)}}else{if(Lg(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,$n=!1,hs=t}}}function g_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hs=t}function Hd(t){if(t!==hs)return!1;if(!$n)return g_(t),$n=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tg(t.type,t.memoizedProps)),e&&(e=ls)){if(Lg(t))throw _x(),Error(Oe(418));for(;e;)vx(t,e),e=ul(e.nextSibling)}if(g_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ls=ul(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ls=null}}else ls=hs?ul(t.stateNode.nextSibling):null;return!0}function _x(){for(var t=ls;t;)t=ul(t.nextSibling)}function Mc(){ls=hs=null,$n=!1}function uy(t){Ws===null?Ws=[t]:Ws.push(t)}var ik=xa.ReactCurrentBatchConfig;function Rh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Wd(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y_(t){var e=t._init;return e(t._payload)}function wx(t){function e(x,P){if(t){var R=x.deletions;R===null?(x.deletions=[P],x.flags|=16):R.push(P)}}function n(x,P){if(!t)return null;for(;P!==null;)e(x,P),P=P.sibling;return null}function r(x,P){for(x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function i(x,P){return x=dl(x,P),x.index=0,x.sibling=null,x}function s(x,P,R){return x.index=R,t?(R=x.alternate,R!==null?(R=R.index,R<P?(x.flags|=2,P):R):(x.flags|=2,P)):(x.flags|=1048576,P)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,P,R,U){return P===null||P.tag!==6?(P=dm(R,x.mode,U),P.return=x,P):(P=i(P,R),P.return=x,P)}function l(x,P,R,U){var Z=R.type;return Z===ic?d(x,P,R.props.children,U,R.key):P!==null&&(P.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ga&&y_(Z)===P.type)?(U=i(P,R.props),U.ref=Rh(x,P,R),U.return=x,U):(U=Ip(R.type,R.key,R.props,null,x.mode,U),U.ref=Rh(x,P,R),U.return=x,U)}function u(x,P,R,U){return P===null||P.tag!==4||P.stateNode.containerInfo!==R.containerInfo||P.stateNode.implementation!==R.implementation?(P=pm(R,x.mode,U),P.return=x,P):(P=i(P,R.children||[]),P.return=x,P)}function d(x,P,R,U,Z){return P===null||P.tag!==7?(P=ou(R,x.mode,U,Z),P.return=x,P):(P=i(P,R),P.return=x,P)}function g(x,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return P=dm(""+P,x.mode,R),P.return=x,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Od:return R=Ip(P.type,P.key,P.props,null,x.mode,R),R.ref=Rh(x,null,P),R.return=x,R;case rc:return P=pm(P,x.mode,R),P.return=x,P;case Ga:var U=P._init;return g(x,U(P._payload),R)}if(Uh(P)||Th(P))return P=ou(P,x.mode,R,null),P.return=x,P;Wd(x,P)}return null}function v(x,P,R,U){var Z=P!==null?P.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Z!==null?null:a(x,P,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Od:return R.key===Z?l(x,P,R,U):null;case rc:return R.key===Z?u(x,P,R,U):null;case Ga:return Z=R._init,v(x,P,Z(R._payload),U)}if(Uh(R)||Th(R))return Z!==null?null:d(x,P,R,U,null);Wd(x,R)}return null}function p(x,P,R,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return x=x.get(R)||null,a(P,x,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Od:return x=x.get(U.key===null?R:U.key)||null,l(P,x,U,Z);case rc:return x=x.get(U.key===null?R:U.key)||null,u(P,x,U,Z);case Ga:var ie=U._init;return p(x,P,R,ie(U._payload),Z)}if(Uh(U)||Th(U))return x=x.get(R)||null,d(P,x,U,Z,null);Wd(P,U)}return null}function k(x,P,R,U){for(var Z=null,ie=null,M=P,I=P=0,S=null;M!==null&&I<R.length;I++){M.index>I?(S=M,M=null):S=M.sibling;var D=v(x,M,R[I],U);if(D===null){M===null&&(M=S);break}t&&M&&D.alternate===null&&e(x,M),P=s(D,P,I),ie===null?Z=D:ie.sibling=D,ie=D,M=S}if(I===R.length)return n(x,M),$n&&Hl(x,I),Z;if(M===null){for(;I<R.length;I++)M=g(x,R[I],U),M!==null&&(P=s(M,P,I),ie===null?Z=M:ie.sibling=M,ie=M);return $n&&Hl(x,I),Z}for(M=r(x,M);I<R.length;I++)S=p(M,x,I,R[I],U),S!==null&&(t&&S.alternate!==null&&M.delete(S.key===null?I:S.key),P=s(S,P,I),ie===null?Z=S:ie.sibling=S,ie=S);return t&&M.forEach(function(w){return e(x,w)}),$n&&Hl(x,I),Z}function E(x,P,R,U){var Z=Th(R);if(typeof Z!="function")throw Error(Oe(150));if(R=Z.call(R),R==null)throw Error(Oe(151));for(var ie=Z=null,M=P,I=P=0,S=null,D=R.next();M!==null&&!D.done;I++,D=R.next()){M.index>I?(S=M,M=null):S=M.sibling;var w=v(x,M,D.value,U);if(w===null){M===null&&(M=S);break}t&&M&&w.alternate===null&&e(x,M),P=s(w,P,I),ie===null?Z=w:ie.sibling=w,ie=w,M=S}if(D.done)return n(x,M),$n&&Hl(x,I),Z;if(M===null){for(;!D.done;I++,D=R.next())D=g(x,D.value,U),D!==null&&(P=s(D,P,I),ie===null?Z=D:ie.sibling=D,ie=D);return $n&&Hl(x,I),Z}for(M=r(x,M);!D.done;I++,D=R.next())D=p(M,x,I,D.value,U),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?I:D.key),P=s(D,P,I),ie===null?Z=D:ie.sibling=D,ie=D);return t&&M.forEach(function(N){return e(x,N)}),$n&&Hl(x,I),Z}function B(x,P,R,U){if(typeof R=="object"&&R!==null&&R.type===ic&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Od:e:{for(var Z=R.key,ie=P;ie!==null;){if(ie.key===Z){if(Z=R.type,Z===ic){if(ie.tag===7){n(x,ie.sibling),P=i(ie,R.props.children),P.return=x,x=P;break e}}else if(ie.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Ga&&y_(Z)===ie.type){n(x,ie.sibling),P=i(ie,R.props),P.ref=Rh(x,ie,R),P.return=x,x=P;break e}n(x,ie);break}else e(x,ie);ie=ie.sibling}R.type===ic?(P=ou(R.props.children,x.mode,U,R.key),P.return=x,x=P):(U=Ip(R.type,R.key,R.props,null,x.mode,U),U.ref=Rh(x,P,R),U.return=x,x=U)}return o(x);case rc:e:{for(ie=R.key;P!==null;){if(P.key===ie)if(P.tag===4&&P.stateNode.containerInfo===R.containerInfo&&P.stateNode.implementation===R.implementation){n(x,P.sibling),P=i(P,R.children||[]),P.return=x,x=P;break e}else{n(x,P);break}else e(x,P);P=P.sibling}P=pm(R,x.mode,U),P.return=x,x=P}return o(x);case Ga:return ie=R._init,B(x,P,ie(R._payload),U)}if(Uh(R))return k(x,P,R,U);if(Th(R))return E(x,P,R,U);Wd(x,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,P!==null&&P.tag===6?(n(x,P.sibling),P=i(P,R),P.return=x,x=P):(n(x,P),P=dm(R,x.mode,U),P.return=x,x=P),o(x)):n(x,P)}return B}var Fc=wx(!0),bx=wx(!1),r0=Rl(null),i0=null,fc=null,cy=null;function hy(){cy=fc=i0=null}function fy(t){var e=r0.current;Bn(r0),t._currentValue=e}function Dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wc(t,e){i0=t,cy=fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ui=!0),t.firstContext=null)}function Ds(t){var e=t._currentValue;if(cy!==t)if(t={context:t,memoizedValue:e,next:null},fc===null){if(i0===null)throw Error(Oe(308));fc=t,i0.dependencies={lanes:0,firstContext:t}}else fc=fc.next=t;return e}var Xl=null;function dy(t){Xl===null?Xl=[t]:Xl.push(t)}function xx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dy(e)):(n.next=i.next,i.next=n),e.interleaved=n,ga(t,r)}function ga(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ka=!1;function py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ax(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ga(t,n)}return i=r.interleaved,i===null?(e.next=e,dy(r)):(e.next=i.next,i.next=e),r.interleaved=e,ga(t,n)}function wp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Z2(t,n)}}function v_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function s0(t,e,n,r){var i=t.updateQueue;Ka=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,d=u=l=null,a=s;do{var v=a.lane,p=a.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,E=a;switch(v=e,p=n,E.tag){case 1:if(k=E.payload,typeof k=="function"){g=k.call(p,g,v);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=E.payload,v=typeof k=="function"?k.call(p,g,v):k,v==null)break e;g=Kn({},g,v);break e;case 2:Ka=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else p={eventTime:p,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=g):d=d.next=p,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);du|=o,t.lanes=o,t.memoizedState=g}}function __(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var ed={},ko=Rl(ed),If=Rl(ed),Nf=Rl(ed);function Jl(t){if(t===ed)throw Error(Oe(174));return t}function my(t,e){switch(Dn(Nf,e),Dn(If,t),Dn(ko,ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pg(e,t)}Bn(ko),Dn(ko,e)}function jc(){Bn(ko),Bn(If),Bn(Nf)}function Sx(t){Jl(Nf.current);var e=Jl(ko.current),n=pg(e,t.type);e!==n&&(Dn(If,t),Dn(ko,n))}function gy(t){If.current===t&&(Bn(ko),Bn(If))}var Wn=Rl(0);function o0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var am=[];function yy(){for(var t=0;t<am.length;t++)am[t]._workInProgressVersionPrimary=null;am.length=0}var bp=xa.ReactCurrentDispatcher,lm=xa.ReactCurrentBatchConfig,fu=0,Gn=null,Sr=null,Dr=null,a0=!1,ef=!1,Tf=0,sk=0;function ii(){throw Error(Oe(321))}function vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zs(t[n],e[n]))return!1;return!0}function _y(t,e,n,r,i,s){if(fu=s,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bp.current=t===null||t.memoizedState===null?uk:ck,t=n(r,i),ef){s=0;do{if(ef=!1,Tf=0,25<=s)throw Error(Oe(301));s+=1,Dr=Sr=null,e.updateQueue=null,bp.current=hk,t=n(r,i)}while(ef)}if(bp.current=l0,e=Sr!==null&&Sr.next!==null,fu=0,Dr=Sr=Gn=null,a0=!1,e)throw Error(Oe(300));return t}function wy(){var t=Tf!==0;return Tf=0,t}function xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Gn.memoizedState=Dr=t:Dr=Dr.next=t,Dr}function Os(){if(Sr===null){var t=Gn.alternate;t=t!==null?t.memoizedState:null}else t=Sr.next;var e=Dr===null?Gn.memoizedState:Dr.next;if(e!==null)Dr=e,Sr=t;else{if(t===null)throw Error(Oe(310));Sr=t,t={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Dr===null?Gn.memoizedState=Dr=t:Dr=Dr.next=t}return Dr}function kf(t,e){return typeof e=="function"?e(t):e}function um(t){var e=Os(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=Sr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((fu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,Gn.lanes|=d,du|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Zs(r,e.memoizedState)||(Ui=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Gn.lanes|=s,du|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cm(t){var e=Os(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zs(s,e.memoizedState)||(Ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ex(){}function Ix(t,e){var n=Gn,r=Os(),i=e(),s=!Zs(r.memoizedState,i);if(s&&(r.memoizedState=i,Ui=!0),r=r.queue,by(kx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dr!==null&&Dr.memoizedState.tag&1){if(n.flags|=2048,Pf(9,Tx.bind(null,n,r,i,e),void 0,null),Mr===null)throw Error(Oe(349));fu&30||Nx(n,e,i)}return i}function Nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Tx(t,e,n,r){e.value=n,e.getSnapshot=r,Px(e)&&Cx(t)}function kx(t,e,n){return n(function(){Px(e)&&Cx(t)})}function Px(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zs(t,n)}catch{return!0}}function Cx(t){var e=ga(t,1);e!==null&&Xs(e,t,1,-1)}function w_(t){var e=xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},e.queue=t,t=t.dispatch=lk.bind(null,Gn,t),[e.memoizedState,t]}function Pf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lx(){return Os().memoizedState}function xp(t,e,n,r){var i=xo();Gn.flags|=t,i.memoizedState=Pf(1|e,n,void 0,r===void 0?null:r)}function K0(t,e,n,r){var i=Os();r=r===void 0?null:r;var s=void 0;if(Sr!==null){var o=Sr.memoizedState;if(s=o.destroy,r!==null&&vy(r,o.deps)){i.memoizedState=Pf(e,n,s,r);return}}Gn.flags|=t,i.memoizedState=Pf(1|e,n,s,r)}function b_(t,e){return xp(8390656,8,t,e)}function by(t,e){return K0(2048,8,t,e)}function Rx(t,e){return K0(4,2,t,e)}function Dx(t,e){return K0(4,4,t,e)}function Ox(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mx(t,e,n){return n=n!=null?n.concat([t]):null,K0(4,4,Ox.bind(null,e,t),n)}function xy(){}function Fx(t,e){var n=Os();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jx(t,e){var n=Os();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vx(t,e,n){return fu&21?(Zs(n,e)||(n=$3(),Gn.lanes|=n,du|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ui=!0),t.memoizedState=n)}function ok(t,e){var n=gn;gn=n!==0&&4>n?n:4,t(!0);var r=lm.transition;lm.transition={};try{t(!1),e()}finally{gn=n,lm.transition=r}}function Ux(){return Os().memoizedState}function ak(t,e,n){var r=fl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bx(t))zx(e,n);else if(n=xx(t,e,n,r),n!==null){var i=Ii();Xs(n,t,r,i),qx(n,e,r)}}function lk(t,e,n){var r=fl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bx(t))zx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zs(a,o)){var l=e.interleaved;l===null?(i.next=i,dy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xx(t,e,i,r),n!==null&&(i=Ii(),Xs(n,t,r,i),qx(n,e,r))}}function Bx(t){var e=t.alternate;return t===Gn||e!==null&&e===Gn}function zx(t,e){ef=a0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Z2(t,n)}}var l0={readContext:Ds,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},uk={readContext:Ds,useCallback:function(t,e){return xo().memoizedState=[t,e===void 0?null:e],t},useContext:Ds,useEffect:b_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xp(4194308,4,Ox.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xp(4194308,4,t,e)},useInsertionEffect:function(t,e){return xp(4,2,t,e)},useMemo:function(t,e){var n=xo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ak.bind(null,Gn,t),[r.memoizedState,t]},useRef:function(t){var e=xo();return t={current:t},e.memoizedState=t},useState:w_,useDebugValue:xy,useDeferredValue:function(t){return xo().memoizedState=t},useTransition:function(){var t=w_(!1),e=t[0];return t=ok.bind(null,t[1]),xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gn,i=xo();if($n){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Mr===null)throw Error(Oe(349));fu&30||Nx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,b_(kx.bind(null,r,s,t),[t]),r.flags|=2048,Pf(9,Tx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xo(),e=Mr.identifierPrefix;if($n){var n=ua,r=la;n=(r&~(1<<32-Qs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ck={readContext:Ds,useCallback:Fx,useContext:Ds,useEffect:by,useImperativeHandle:Mx,useInsertionEffect:Rx,useLayoutEffect:Dx,useMemo:jx,useReducer:um,useRef:Lx,useState:function(){return um(kf)},useDebugValue:xy,useDeferredValue:function(t){var e=Os();return Vx(e,Sr.memoizedState,t)},useTransition:function(){var t=um(kf)[0],e=Os().memoizedState;return[t,e]},useMutableSource:Ex,useSyncExternalStore:Ix,useId:Ux,unstable_isNewReconciler:!1},hk={readContext:Ds,useCallback:Fx,useContext:Ds,useEffect:by,useImperativeHandle:Mx,useInsertionEffect:Rx,useLayoutEffect:Dx,useMemo:jx,useReducer:cm,useRef:Lx,useState:function(){return cm(kf)},useDebugValue:xy,useDeferredValue:function(t){var e=Os();return Sr===null?e.memoizedState=t:Vx(e,Sr.memoizedState,t)},useTransition:function(){var t=cm(kf)[0],e=Os().memoizedState;return[t,e]},useMutableSource:Ex,useSyncExternalStore:Ix,useId:Ux,unstable_isNewReconciler:!1};function $s(t,e){if(t&&t.defaultProps){e=Kn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Og(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Y0={isMounted:function(t){return(t=t._reactInternals)?Su(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ii(),i=fl(t),s=fa(r,i);s.payload=e,n!=null&&(s.callback=n),e=cl(t,s,i),e!==null&&(Xs(e,t,i,r),wp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ii(),i=fl(t),s=fa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cl(t,s,i),e!==null&&(Xs(e,t,i,r),wp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ii(),r=fl(t),i=fa(n,r);i.tag=2,e!=null&&(i.callback=e),e=cl(t,i,r),e!==null&&(Xs(e,t,r,n),wp(e,t,r))}};function x_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xf(n,r)||!xf(i,s):!0}function $x(t,e,n){var r=!1,i=xl,s=e.contextType;return typeof s=="object"&&s!==null?s=Ds(s):(i=qi(e)?cu:pi.current,r=e.contextTypes,s=(r=r!=null)?Oc(t,i):xl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Y0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function A_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Y0.enqueueReplaceState(e,e.state,null)}function Mg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ds(s):(s=qi(e)?cu:pi.current,i.context=Oc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Og(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Y0.enqueueReplaceState(i,i.state,null),s0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=VN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function Hx(t,e,n){n=fa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){c0||(c0=!0,Gg=r),Fg(t,e)},n}function Wx(t,e,n){n=fa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fg(t,e),typeof r!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function S_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ik.bind(null,t,e,n),e.then(t,t))}function E_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fa(-1,1),e.tag=2,cl(n,e,1))),n.lanes|=1),t)}var dk=xa.ReactCurrentOwner,Ui=!1;function Si(t,e,n,r){e.child=t===null?bx(e,null,n,r):Fc(e,t.child,n,r)}function N_(t,e,n,r,i){n=n.render;var s=e.ref;return wc(e,i),r=_y(t,e,n,r,s,i),n=wy(),t!==null&&!Ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ya(t,e,i)):($n&&n&&ay(e),e.flags|=1,Si(t,e,r,i),e.child)}function T_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Py(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gx(t,e,s,r,i)):(t=Ip(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xf,n(o,r)&&t.ref===e.ref)return ya(t,e,i)}return e.flags|=1,t=dl(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xf(s,r)&&t.ref===e.ref)if(Ui=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ui=!0);else return e.lanes=t.lanes,ya(t,e,i)}return jg(t,e,n,r,i)}function Kx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(pc,os),os|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dn(pc,os),os|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Dn(pc,os),os|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Dn(pc,os),os|=r;return Si(t,e,i,n),e.child}function Yx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jg(t,e,n,r,i){var s=qi(n)?cu:pi.current;return s=Oc(e,s),wc(e,i),n=_y(t,e,n,r,s,i),r=wy(),t!==null&&!Ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ya(t,e,i)):($n&&r&&ay(e),e.flags|=1,Si(t,e,n,i),e.child)}function k_(t,e,n,r,i){if(qi(n)){var s=!0;e0(e)}else s=!1;if(wc(e,i),e.stateNode===null)Ap(t,e),$x(e,n,r),Mg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ds(u):(u=qi(n)?cu:pi.current,u=Oc(e,u));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&A_(e,o,r,u),Ka=!1;var v=e.memoizedState;o.state=v,s0(e,r,o,i),l=e.memoizedState,a!==r||v!==l||zi.current||Ka?(typeof d=="function"&&(Og(e,n,d,r),l=e.memoizedState),(a=Ka||x_(e,n,a,r,v,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ax(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$s(e.type,a),o.props=u,g=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ds(l):(l=qi(n)?cu:pi.current,l=Oc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||v!==l)&&A_(e,o,r,l),Ka=!1,v=e.memoizedState,o.state=v,s0(e,r,o,i);var k=e.memoizedState;a!==g||v!==k||zi.current||Ka?(typeof p=="function"&&(Og(e,n,p,r),k=e.memoizedState),(u=Ka||x_(e,n,u,r,v,k,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Vg(t,e,n,r,s,i)}function Vg(t,e,n,r,i,s){Yx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&p_(e,n,!1),ya(t,e,s);r=e.stateNode,dk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fc(e,t.child,null,s),e.child=Fc(e,null,a,s)):Si(t,e,a,s),e.memoizedState=r.state,i&&p_(e,n,!0),e.child}function Qx(t){var e=t.stateNode;e.pendingContext?d_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d_(t,e.context,!1),my(t,e.containerInfo)}function P_(t,e,n,r,i){return Mc(),uy(i),e.flags|=256,Si(t,e,n,r),e.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function Bg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xx(t,e,n){var r=e.pendingProps,i=Wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dn(Wn,i&1),t===null)return Rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=J0(o,r,0,null),t=ou(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bg(n),e.memoizedState=Ug,t):Ay(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=dl(a,s):(s=ou(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ug,r}return s=t.child,t=s.sibling,r=dl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ay(t,e){return e=J0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gd(t,e,n,r){return r!==null&&uy(r),Fc(e,t.child,null,n),t=Ay(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hm(Error(Oe(422))),Gd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=J0({mode:"visible",children:r.children},i,0,null),s=ou(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fc(e,t.child,null,o),e.child.memoizedState=Bg(o),e.memoizedState=Ug,s);if(!(e.mode&1))return Gd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=hm(s,r,void 0),Gd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ui||a){if(r=Mr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ga(t,i),Xs(r,t,i,-1))}return ky(),r=hm(Error(Oe(421))),Gd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Nk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ls=ul(i.nextSibling),hs=e,$n=!0,Ws=null,t!==null&&(Is[Ns++]=la,Is[Ns++]=ua,Is[Ns++]=hu,la=t.id,ua=t.overflow,hu=e),e=Ay(e,r.children),e.flags|=4096,e)}function C_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dg(t.return,e,n)}function fm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Si(t,e,r.children,n),r=Wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C_(t,n,e);else if(t.tag===19)C_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dn(Wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&o0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&o0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fm(e,!0,n,null,s);break;case"together":fm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ya(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),du|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=dl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mk(t,e,n){switch(e.tag){case 3:Qx(e),Mc();break;case 5:Sx(e);break;case 1:qi(e.type)&&e0(e);break;case 4:my(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dn(r0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dn(Wn,Wn.current&1),e.flags|=128,null):n&e.child.childLanes?Xx(t,e,n):(Dn(Wn,Wn.current&1),t=ya(t,e,n),t!==null?t.sibling:null);Dn(Wn,Wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(Wn,Wn.current),r)break;return null;case 22:case 23:return e.lanes=0,Kx(t,e,n)}return ya(t,e,n)}var Zx,zg,eA,tA;Zx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zg=function(){};eA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jl(ko.current);var s=null;switch(n){case"input":i=cg(t,i),r=cg(t,r),s=[];break;case"select":i=Kn({},i,{value:void 0}),r=Kn({},r,{value:void 0}),s=[];break;case"textarea":i=dg(t,i),r=dg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jp)}mg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&jn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dh(t,e){if(!$n)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function si(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gk(t,e,n){var r=e.pendingProps;switch(ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(e),null;case 1:return qi(e.type)&&Zp(),si(e),null;case 3:return r=e.stateNode,jc(),Bn(zi),Bn(pi),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(Qg(Ws),Ws=null))),zg(t,e),si(e),null;case 5:gy(e);var i=Jl(Nf.current);if(n=e.type,t!==null&&e.stateNode!=null)eA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return si(e),null}if(t=Jl(ko.current),Hd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Eo]=e,r[Ef]=s,t=(e.mode&1)!==0,n){case"dialog":jn("cancel",r),jn("close",r);break;case"iframe":case"object":case"embed":jn("load",r);break;case"video":case"audio":for(i=0;i<zh.length;i++)jn(zh[i],r);break;case"source":jn("error",r);break;case"img":case"image":case"link":jn("error",r),jn("load",r);break;case"details":jn("toggle",r);break;case"input":Uv(r,s),jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jn("invalid",r);break;case"textarea":zv(r,s),jn("invalid",r)}mg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$d(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$d(r.textContent,a,t),i=["children",""+a]):mf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jn("scroll",r)}switch(n){case"input":Md(r),Bv(r,s,!0);break;case"textarea":Md(r),qv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Eo]=e,t[Ef]=r,Zx(t,e,!1,!1),e.stateNode=t;e:{switch(o=gg(n,r),n){case"dialog":jn("cancel",t),jn("close",t),i=r;break;case"iframe":case"object":case"embed":jn("load",t),i=r;break;case"video":case"audio":for(i=0;i<zh.length;i++)jn(zh[i],t);i=r;break;case"source":jn("error",t),i=r;break;case"img":case"image":case"link":jn("error",t),jn("load",t),i=r;break;case"details":jn("toggle",t),i=r;break;case"input":Uv(t,r),i=cg(t,r),jn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kn({},r,{value:void 0}),jn("invalid",t);break;case"textarea":zv(t,r),i=dg(t,r),jn("invalid",t);break;default:i=r}mg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?L3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gf(t,l):typeof l=="number"&&gf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jn("scroll",t):l!=null&&G2(t,s,l,o))}switch(n){case"input":Md(t),Bv(t,r,!1);break;case"textarea":Md(t),qv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gc(t,!!r.multiple,s,!1):r.defaultValue!=null&&gc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return si(e),null;case 6:if(t&&e.stateNode!=null)tA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Jl(Nf.current),Jl(ko.current),Hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Eo]=e,(s=r.nodeValue!==n)&&(t=hs,t!==null))switch(t.tag){case 3:$d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$d(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Eo]=e,e.stateNode=r}return si(e),null;case 13:if(Bn(Wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($n&&ls!==null&&e.mode&1&&!(e.flags&128))_x(),Mc(),e.flags|=98560,s=!1;else if(s=Hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[Eo]=e}else Mc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;si(e),s=!1}else Ws!==null&&(Qg(Ws),Ws=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wn.current&1?Er===0&&(Er=3):ky())),e.updateQueue!==null&&(e.flags|=4),si(e),null);case 4:return jc(),zg(t,e),t===null&&Af(e.stateNode.containerInfo),si(e),null;case 10:return fy(e.type._context),si(e),null;case 17:return qi(e.type)&&Zp(),si(e),null;case 19:if(Bn(Wn),s=e.memoizedState,s===null)return si(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Dh(s,!1);else{if(Er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=o0(t),o!==null){for(e.flags|=128,Dh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dn(Wn,Wn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ar()>Uc&&(e.flags|=128,r=!0,Dh(s,!1),e.lanes=4194304)}else{if(!r)if(t=o0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$n)return si(e),null}else 2*ar()-s.renderingStartTime>Uc&&n!==1073741824&&(e.flags|=128,r=!0,Dh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ar(),e.sibling=null,n=Wn.current,Dn(Wn,r?n&1|2:n&1),e):(si(e),null);case 22:case 23:return Ty(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?os&1073741824&&(si(e),e.subtreeFlags&6&&(e.flags|=8192)):si(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function yk(t,e){switch(ly(e),e.tag){case 1:return qi(e.type)&&Zp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jc(),Bn(zi),Bn(pi),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(Bn(Wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));Mc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn(Wn),null;case 4:return jc(),null;case 10:return fy(e.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var Kd=!1,fi=!1,vk=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function dc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zn(t,e,r)}else n.current=null}function qg(t,e,n){try{n()}catch(r){Zn(t,e,r)}}var L_=!1;function _k(t,e){if(Ig=Yp,t=ox(),oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,g=t,v=null;t:for(;;){for(var p;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(p=g.firstChild)!==null;)v=g,g=p;for(;;){if(g===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++d===r&&(l=o),(p=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},Yp=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var E=k.memoizedProps,B=k.memoizedState,x=e.stateNode,P=x.getSnapshotBeforeUpdate(e.elementType===e.type?E:$s(e.type,E),B);x.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(U){Zn(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return k=L_,L_=!1,k}function tf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qg(e,n,s)}i=i.next}while(i!==r)}}function Q0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nA(t){var e=t.alternate;e!==null&&(t.alternate=null,nA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Eo],delete e[Ef],delete e[Pg],delete e[tk],delete e[nk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rA(t){return t.tag===5||t.tag===3||t.tag===4}function R_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jp));else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}function Wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wg(t,e,n),t=t.sibling;t!==null;)Wg(t,e,n),t=t.sibling}var qr=null,Hs=!1;function qa(t,e,n){for(n=n.child;n!==null;)iA(t,e,n),n=n.sibling}function iA(t,e,n){if(To&&typeof To.onCommitFiberUnmount=="function")try{To.onCommitFiberUnmount(z0,n)}catch{}switch(n.tag){case 5:fi||dc(n,e);case 6:var r=qr,i=Hs;qr=null,qa(t,e,n),qr=r,Hs=i,qr!==null&&(Hs?(t=qr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qr.removeChild(n.stateNode));break;case 18:qr!==null&&(Hs?(t=qr,n=n.stateNode,t.nodeType===8?sm(t.parentNode,n):t.nodeType===1&&sm(t,n),wf(t)):sm(qr,n.stateNode));break;case 4:r=qr,i=Hs,qr=n.stateNode.containerInfo,Hs=!0,qa(t,e,n),qr=r,Hs=i;break;case 0:case 11:case 14:case 15:if(!fi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qg(n,e,o),i=i.next}while(i!==r)}qa(t,e,n);break;case 1:if(!fi&&(dc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zn(n,e,a)}qa(t,e,n);break;case 21:qa(t,e,n);break;case 22:n.mode&1?(fi=(r=fi)||n.memoizedState!==null,qa(t,e,n),fi=r):qa(t,e,n);break;default:qa(t,e,n)}}function D_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vk),e.forEach(function(r){var i=Tk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qr=a.stateNode,Hs=!1;break e;case 3:qr=a.stateNode.containerInfo,Hs=!0;break e;case 4:qr=a.stateNode.containerInfo,Hs=!0;break e}a=a.return}if(qr===null)throw Error(Oe(160));iA(s,o,i),qr=null,Hs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Zn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sA(e,t),e=e.sibling}function sA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zs(e,t),_o(t),r&4){try{tf(3,t,t.return),Q0(3,t)}catch(E){Zn(t,t.return,E)}try{tf(5,t,t.return)}catch(E){Zn(t,t.return,E)}}break;case 1:zs(e,t),_o(t),r&512&&n!==null&&dc(n,n.return);break;case 5:if(zs(e,t),_o(t),r&512&&n!==null&&dc(n,n.return),t.flags&32){var i=t.stateNode;try{gf(i,"")}catch(E){Zn(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&N3(i,s),gg(a,o);var u=gg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],g=l[o+1];d==="style"?L3(i,g):d==="dangerouslySetInnerHTML"?P3(i,g):d==="children"?gf(i,g):G2(i,d,g,u)}switch(a){case"input":hg(i,s);break;case"textarea":T3(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?gc(i,!!s.multiple,p,!1):v!==!!s.multiple&&(s.defaultValue!=null?gc(i,!!s.multiple,s.defaultValue,!0):gc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ef]=s}catch(E){Zn(t,t.return,E)}}break;case 6:if(zs(e,t),_o(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Zn(t,t.return,E)}}break;case 3:if(zs(e,t),_o(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(E){Zn(t,t.return,E)}break;case 4:zs(e,t),_o(t);break;case 13:zs(e,t),_o(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iy=ar())),r&4&&D_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fi=(u=fi)||d,zs(e,t),fi=u):zs(e,t),_o(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ye=t,d=t.child;d!==null;){for(g=Ye=d;Ye!==null;){switch(v=Ye,p=v.child,v.tag){case 0:case 11:case 14:case 15:tf(4,v,v.return);break;case 1:dc(v,v.return);var k=v.stateNode;if(typeof k.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(E){Zn(r,n,E)}}break;case 5:dc(v,v.return);break;case 22:if(v.memoizedState!==null){M_(g);continue}}p!==null?(p.return=v,Ye=p):M_(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C3("display",o))}catch(E){Zn(t,t.return,E)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(E){Zn(t,t.return,E)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:zs(e,t),_o(t),r&4&&D_(t);break;case 21:break;default:zs(e,t),_o(t)}}function _o(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rA(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gf(i,""),r.flags&=-33);var s=R_(t);Wg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R_(t);Hg(t,a,o);break;default:throw Error(Oe(161))}}catch(l){Zn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wk(t,e,n){Ye=t,oA(t)}function oA(t,e,n){for(var r=(t.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Kd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||fi;a=Kd;var u=fi;if(Kd=o,(fi=l)&&!u)for(Ye=i;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?F_(i):l!==null?(l.return=o,Ye=l):F_(i);for(;s!==null;)Ye=s,oA(s),s=s.sibling;Ye=i,Kd=a,fi=u}O_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):O_(t)}}function O_(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fi||Q0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$s(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&__(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}__(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&wf(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}fi||e.flags&512&&$g(e)}catch(v){Zn(e,e.return,v)}}if(e===t){Ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function M_(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}function F_(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Q0(4,e)}catch(l){Zn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zn(e,i,l)}}var s=e.return;try{$g(e)}catch(l){Zn(e,s,l)}break;case 5:var o=e.return;try{$g(e)}catch(l){Zn(e,o,l)}}}catch(l){Zn(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var bk=Math.ceil,u0=xa.ReactCurrentDispatcher,Sy=xa.ReactCurrentOwner,Ls=xa.ReactCurrentBatchConfig,rn=0,Mr=null,mr=null,Gr=0,os=0,pc=Rl(0),Er=0,Cf=null,du=0,X0=0,Ey=0,nf=null,Vi=null,Iy=0,Uc=1/0,na=null,c0=!1,Gg=null,hl=null,Yd=!1,nl=null,h0=0,rf=0,Kg=null,Sp=-1,Ep=0;function Ii(){return rn&6?ar():Sp!==-1?Sp:Sp=ar()}function fl(t){return t.mode&1?rn&2&&Gr!==0?Gr&-Gr:ik.transition!==null?(Ep===0&&(Ep=$3()),Ep):(t=gn,t!==0||(t=window.event,t=t===void 0?16:X3(t.type)),t):1}function Xs(t,e,n,r){if(50<rf)throw rf=0,Kg=null,Error(Oe(185));Xf(t,n,r),(!(rn&2)||t!==Mr)&&(t===Mr&&(!(rn&2)&&(X0|=n),Er===4&&Qa(t,Gr)),$i(t,r),n===1&&rn===0&&!(e.mode&1)&&(Uc=ar()+500,G0&&Dl()))}function $i(t,e){var n=t.callbackNode;iT(t,e);var r=Kp(t,t===Mr?Gr:0);if(r===0)n!==null&&Wv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wv(n),e===1)t.tag===0?rk(j_.bind(null,t)):gx(j_.bind(null,t)),ZT(function(){!(rn&6)&&Dl()}),n=null;else{switch(H3(r)){case 1:n=J2;break;case 4:n=z3;break;case 16:n=Gp;break;case 536870912:n=q3;break;default:n=Gp}n=pA(n,aA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aA(t,e){if(Sp=-1,Ep=0,rn&6)throw Error(Oe(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var r=Kp(t,t===Mr?Gr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=f0(t,r);else{e=r;var i=rn;rn|=2;var s=uA();(Mr!==t||Gr!==e)&&(na=null,Uc=ar()+500,su(t,e));do try{Sk();break}catch(a){lA(t,a)}while(!0);hy(),u0.current=s,rn=i,mr!==null?e=0:(Mr=null,Gr=0,e=Er)}if(e!==0){if(e===2&&(i=bg(t),i!==0&&(r=i,e=Yg(t,i))),e===1)throw n=Cf,su(t,0),Qa(t,r),$i(t,ar()),n;if(e===6)Qa(t,r);else{if(i=t.current.alternate,!(r&30)&&!xk(i)&&(e=f0(t,r),e===2&&(s=bg(t),s!==0&&(r=s,e=Yg(t,s))),e===1))throw n=Cf,su(t,0),Qa(t,r),$i(t,ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:Wl(t,Vi,na);break;case 3:if(Qa(t,r),(r&130023424)===r&&(e=Iy+500-ar(),10<e)){if(Kp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ii(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kg(Wl.bind(null,t,Vi,na),e);break}Wl(t,Vi,na);break;case 4:if(Qa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bk(r/1960))-r,10<r){t.timeoutHandle=kg(Wl.bind(null,t,Vi,na),r);break}Wl(t,Vi,na);break;case 5:Wl(t,Vi,na);break;default:throw Error(Oe(329))}}}return $i(t,ar()),t.callbackNode===n?aA.bind(null,t):null}function Yg(t,e){var n=nf;return t.current.memoizedState.isDehydrated&&(su(t,e).flags|=256),t=f0(t,e),t!==2&&(e=Vi,Vi=n,e!==null&&Qg(e)),t}function Qg(t){Vi===null?Vi=t:Vi.push.apply(Vi,t)}function xk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qa(t,e){for(e&=~Ey,e&=~X0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qs(e),r=1<<n;t[n]=-1,e&=~r}}function j_(t){if(rn&6)throw Error(Oe(327));bc();var e=Kp(t,0);if(!(e&1))return $i(t,ar()),null;var n=f0(t,e);if(t.tag!==0&&n===2){var r=bg(t);r!==0&&(e=r,n=Yg(t,r))}if(n===1)throw n=Cf,su(t,0),Qa(t,e),$i(t,ar()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wl(t,Vi,na),$i(t,ar()),null}function Ny(t,e){var n=rn;rn|=1;try{return t(e)}finally{rn=n,rn===0&&(Uc=ar()+500,G0&&Dl())}}function pu(t){nl!==null&&nl.tag===0&&!(rn&6)&&bc();var e=rn;rn|=1;var n=Ls.transition,r=gn;try{if(Ls.transition=null,gn=1,t)return t()}finally{gn=r,Ls.transition=n,rn=e,!(rn&6)&&Dl()}}function Ty(){os=pc.current,Bn(pc)}function su(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JT(n)),mr!==null)for(n=mr.return;n!==null;){var r=n;switch(ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zp();break;case 3:jc(),Bn(zi),Bn(pi),yy();break;case 5:gy(r);break;case 4:jc();break;case 13:Bn(Wn);break;case 19:Bn(Wn);break;case 10:fy(r.type._context);break;case 22:case 23:Ty()}n=n.return}if(Mr=t,mr=t=dl(t.current,null),Gr=os=e,Er=0,Cf=null,Ey=X0=du=0,Vi=nf=null,Xl!==null){for(e=0;e<Xl.length;e++)if(n=Xl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xl=null}return t}function lA(t,e){do{var n=mr;try{if(hy(),bp.current=l0,a0){for(var r=Gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}a0=!1}if(fu=0,Dr=Sr=Gn=null,ef=!1,Tf=0,Sy.current=null,n===null||n.return===null){Er=1,Cf=e,mr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=E_(o);if(p!==null){p.flags&=-257,I_(p,o,a,s,e),p.mode&1&&S_(s,u,e),e=p,l=u;var k=e.updateQueue;if(k===null){var E=new Set;E.add(l),e.updateQueue=E}else k.add(l);break e}else{if(!(e&1)){S_(s,u,e),ky();break e}l=Error(Oe(426))}}else if($n&&a.mode&1){var B=E_(o);if(B!==null){!(B.flags&65536)&&(B.flags|=256),I_(B,o,a,s,e),uy(Vc(l,a));break e}}s=l=Vc(l,a),Er!==4&&(Er=2),nf===null?nf=[s]:nf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Hx(s,l,e);v_(s,x);break e;case 1:a=l;var P=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof P.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(hl===null||!hl.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=Wx(s,a,e);v_(s,U);break e}}s=s.return}while(s!==null)}hA(n)}catch(Z){e=Z,mr===n&&n!==null&&(mr=n=n.return);continue}break}while(!0)}function uA(){var t=u0.current;return u0.current=l0,t===null?l0:t}function ky(){(Er===0||Er===3||Er===2)&&(Er=4),Mr===null||!(du&268435455)&&!(X0&268435455)||Qa(Mr,Gr)}function f0(t,e){var n=rn;rn|=2;var r=uA();(Mr!==t||Gr!==e)&&(na=null,su(t,e));do try{Ak();break}catch(i){lA(t,i)}while(!0);if(hy(),rn=n,u0.current=r,mr!==null)throw Error(Oe(261));return Mr=null,Gr=0,Er}function Ak(){for(;mr!==null;)cA(mr)}function Sk(){for(;mr!==null&&!YN();)cA(mr)}function cA(t){var e=dA(t.alternate,t,os);t.memoizedProps=t.pendingProps,e===null?hA(t):mr=e,Sy.current=null}function hA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yk(n,e),n!==null){n.flags&=32767,mr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Er=6,mr=null;return}}else if(n=gk(n,e,os),n!==null){mr=n;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=t}while(e!==null);Er===0&&(Er=5)}function Wl(t,e,n){var r=gn,i=Ls.transition;try{Ls.transition=null,gn=1,Ek(t,e,n,r)}finally{Ls.transition=i,gn=r}return null}function Ek(t,e,n,r){do bc();while(nl!==null);if(rn&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sT(t,s),t===Mr&&(mr=Mr=null,Gr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yd||(Yd=!0,pA(Gp,function(){return bc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ls.transition,Ls.transition=null;var o=gn;gn=1;var a=rn;rn|=4,Sy.current=null,_k(t,n),sA(n,t),HT(Ng),Yp=!!Ig,Ng=Ig=null,t.current=n,wk(n),QN(),rn=a,gn=o,Ls.transition=s}else t.current=n;if(Yd&&(Yd=!1,nl=t,h0=i),s=t.pendingLanes,s===0&&(hl=null),ZN(n.stateNode),$i(t,ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(c0)throw c0=!1,t=Gg,Gg=null,t;return h0&1&&t.tag!==0&&bc(),s=t.pendingLanes,s&1?t===Kg?rf++:(rf=0,Kg=t):rf=0,Dl(),null}function bc(){if(nl!==null){var t=H3(h0),e=Ls.transition,n=gn;try{if(Ls.transition=null,gn=16>t?16:t,nl===null)var r=!1;else{if(t=nl,nl=null,h0=0,rn&6)throw Error(Oe(331));var i=rn;for(rn|=4,Ye=t.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ye=u;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:tf(8,d,s)}var g=d.child;if(g!==null)g.return=d,Ye=g;else for(;Ye!==null;){d=Ye;var v=d.sibling,p=d.return;if(nA(d),d===u){Ye=null;break}if(v!==null){v.return=p,Ye=v;break}Ye=p}}}var k=s.alternate;if(k!==null){var E=k.child;if(E!==null){k.child=null;do{var B=E.sibling;E.sibling=null,E=B}while(E!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ye=x;break e}Ye=s.return}}var P=t.current;for(Ye=P;Ye!==null;){o=Ye;var R=o.child;if(o.subtreeFlags&2064&&R!==null)R.return=o,Ye=R;else e:for(o=P;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Q0(9,a)}}catch(Z){Zn(a,a.return,Z)}if(a===o){Ye=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,Ye=U;break e}Ye=a.return}}if(rn=i,Dl(),To&&typeof To.onPostCommitFiberRoot=="function")try{To.onPostCommitFiberRoot(z0,t)}catch{}r=!0}return r}finally{gn=n,Ls.transition=e}}return!1}function V_(t,e,n){e=Vc(n,e),e=Hx(t,e,1),t=cl(t,e,1),e=Ii(),t!==null&&(Xf(t,1,e),$i(t,e))}function Zn(t,e,n){if(t.tag===3)V_(t,t,n);else for(;e!==null;){if(e.tag===3){V_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hl===null||!hl.has(r))){t=Vc(n,t),t=Wx(e,t,1),e=cl(e,t,1),t=Ii(),e!==null&&(Xf(e,1,t),$i(e,t));break}}e=e.return}}function Ik(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ii(),t.pingedLanes|=t.suspendedLanes&n,Mr===t&&(Gr&n)===n&&(Er===4||Er===3&&(Gr&130023424)===Gr&&500>ar()-Iy?su(t,0):Ey|=n),$i(t,e)}function fA(t,e){e===0&&(t.mode&1?(e=Vd,Vd<<=1,!(Vd&130023424)&&(Vd=4194304)):e=1);var n=Ii();t=ga(t,e),t!==null&&(Xf(t,e,n),$i(t,n))}function Nk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fA(t,n)}function Tk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),fA(t,n)}var dA;dA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zi.current)Ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ui=!1,mk(t,e,n);Ui=!!(t.flags&131072)}else Ui=!1,$n&&e.flags&1048576&&yx(e,n0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ap(t,e),t=e.pendingProps;var i=Oc(e,pi.current);wc(e,n),i=_y(null,e,r,t,i,n);var s=wy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qi(r)?(s=!0,e0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,py(e),i.updater=Y0,e.stateNode=i,i._reactInternals=e,Mg(e,r,t,n),e=Vg(null,e,r,!0,s,n)):(e.tag=0,$n&&s&&ay(e),Si(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ap(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pk(r),t=$s(r,t),i){case 0:e=jg(null,e,r,t,n);break e;case 1:e=k_(null,e,r,t,n);break e;case 11:e=N_(null,e,r,t,n);break e;case 14:e=T_(null,e,r,$s(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),jg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),k_(t,e,r,i,n);case 3:e:{if(Qx(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ax(t,e),s0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vc(Error(Oe(423)),e),e=P_(t,e,r,n,i);break e}else if(r!==i){i=Vc(Error(Oe(424)),e),e=P_(t,e,r,n,i);break e}else for(ls=ul(e.stateNode.containerInfo.firstChild),hs=e,$n=!0,Ws=null,n=bx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mc(),r===i){e=ya(t,e,n);break e}Si(t,e,r,n)}e=e.child}return e;case 5:return Sx(e),t===null&&Rg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tg(r,i)?o=null:s!==null&&Tg(r,s)&&(e.flags|=32),Yx(t,e),Si(t,e,o,n),e.child;case 6:return t===null&&Rg(e),null;case 13:return Xx(t,e,n);case 4:return my(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fc(e,null,r,n):Si(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),N_(t,e,r,i,n);case 7:return Si(t,e,e.pendingProps,n),e.child;case 8:return Si(t,e,e.pendingProps.children,n),e.child;case 12:return Si(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Dn(r0,r._currentValue),r._currentValue=o,s!==null)if(Zs(s.value,o)){if(s.children===i.children&&!zi.current){e=ya(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=fa(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Si(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wc(e,n),i=Ds(i),r=r(i),e.flags|=1,Si(t,e,r,n),e.child;case 14:return r=e.type,i=$s(r,e.pendingProps),i=$s(r.type,i),T_(t,e,r,i,n);case 15:return Gx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$s(r,i),Ap(t,e),e.tag=1,qi(r)?(t=!0,e0(e)):t=!1,wc(e,n),$x(e,r,i),Mg(e,r,i,n),Vg(null,e,r,!0,t,n);case 19:return Jx(t,e,n);case 22:return Kx(t,e,n)}throw Error(Oe(156,e.tag))};function pA(t,e){return B3(t,e)}function kk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(t,e,n,r){return new kk(t,e,n,r)}function Py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pk(t){if(typeof t=="function")return Py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y2)return 11;if(t===Q2)return 14}return 2}function dl(t,e){var n=t.alternate;return n===null?(n=Cs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ip(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ic:return ou(n.children,i,s,e);case K2:o=8,i|=8;break;case og:return t=Cs(12,n,e,i|2),t.elementType=og,t.lanes=s,t;case ag:return t=Cs(13,n,e,i),t.elementType=ag,t.lanes=s,t;case lg:return t=Cs(19,n,e,i),t.elementType=lg,t.lanes=s,t;case S3:return J0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x3:o=10;break e;case A3:o=9;break e;case Y2:o=11;break e;case Q2:o=14;break e;case Ga:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Cs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ou(t,e,n,r){return t=Cs(7,t,r,e),t.lanes=n,t}function J0(t,e,n,r){return t=Cs(22,t,r,e),t.elementType=S3,t.lanes=n,t.stateNode={isHidden:!1},t}function dm(t,e,n){return t=Cs(6,t,null,e),t.lanes=n,t}function pm(t,e,n){return e=Cs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ck(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K1(0),this.expirationTimes=K1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cy(t,e,n,r,i,s,o,a,l){return t=new Ck(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(s),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mA(t){if(!t)return xl;t=t._reactInternals;e:{if(Su(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(qi(n))return mx(t,n,e)}return e}function gA(t,e,n,r,i,s,o,a,l){return t=Cy(n,r,!0,t,i,s,o,a,l),t.context=mA(null),n=t.current,r=Ii(),i=fl(n),s=fa(r,i),s.callback=e??null,cl(n,s,i),t.current.lanes=i,Xf(t,i,r),$i(t,r),t}function Z0(t,e,n,r){var i=e.current,s=Ii(),o=fl(i);return n=mA(n),e.context===null?e.context=n:e.pendingContext=n,e=fa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cl(i,e,o),t!==null&&(Xs(t,i,o,s),wp(t,i,o)),o}function d0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ly(t,e){U_(t,e),(t=t.alternate)&&U_(t,e)}function Rk(){return null}var yA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ry(t){this._internalRoot=t}e1.prototype.render=Ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));Z0(t,e,null,null)};e1.prototype.unmount=Ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pu(function(){Z0(null,t,null,null)}),e[ma]=null}};function e1(t){this._internalRoot=t}e1.prototype.unstable_scheduleHydration=function(t){if(t){var e=K3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ya.length&&e!==0&&e<Ya[n].priority;n++);Ya.splice(n,0,t),n===0&&Q3(t)}};function Dy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function t1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B_(){}function Dk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=d0(o);s.call(u)}}var o=gA(e,r,t,0,null,!1,!1,"",B_);return t._reactRootContainer=o,t[ma]=o.current,Af(t.nodeType===8?t.parentNode:t),pu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=d0(l);a.call(u)}}var l=Cy(t,0,!1,null,null,!1,!1,"",B_);return t._reactRootContainer=l,t[ma]=l.current,Af(t.nodeType===8?t.parentNode:t),pu(function(){Z0(e,l,n,r)}),l}function n1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=d0(o);a.call(l)}}Z0(e,o,t,i)}else o=Dk(n,e,t,i,r);return d0(o)}W3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bh(e.pendingLanes);n!==0&&(Z2(e,n|1),$i(e,ar()),!(rn&6)&&(Uc=ar()+500,Dl()))}break;case 13:pu(function(){var r=ga(t,1);if(r!==null){var i=Ii();Xs(r,t,1,i)}}),Ly(t,1)}};ey=function(t){if(t.tag===13){var e=ga(t,134217728);if(e!==null){var n=Ii();Xs(e,t,134217728,n)}Ly(t,134217728)}};G3=function(t){if(t.tag===13){var e=fl(t),n=ga(t,e);if(n!==null){var r=Ii();Xs(n,t,e,r)}Ly(t,e)}};K3=function(){return gn};Y3=function(t,e){var n=gn;try{return gn=t,e()}finally{gn=n}};vg=function(t,e,n){switch(e){case"input":if(hg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=W0(r);if(!i)throw Error(Oe(90));I3(r),hg(r,i)}}}break;case"textarea":T3(t,n);break;case"select":e=n.value,e!=null&&gc(t,!!n.multiple,e,!1)}};O3=Ny;M3=pu;var Ok={usingClientEntryPoint:!1,Events:[Zf,lc,W0,R3,D3,Ny]},Oh={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mk={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V3(t),t===null?null:t.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||Rk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{z0=Qd.inject(Mk),To=Qd}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;ps.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dy(e))throw Error(Oe(200));return Lk(t,e,null,n)};ps.createRoot=function(t,e){if(!Dy(t))throw Error(Oe(299));var n=!1,r="",i=yA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cy(t,1,!1,null,null,n,!1,r,i),t[ma]=e.current,Af(t.nodeType===8?t.parentNode:t),new Ry(e)};ps.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=V3(e),t=t===null?null:t.stateNode,t};ps.flushSync=function(t){return pu(t)};ps.hydrate=function(t,e,n){if(!t1(e))throw Error(Oe(200));return n1(null,t,e,!0,n)};ps.hydrateRoot=function(t,e,n){if(!Dy(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=yA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gA(e,null,t,1,n??null,i,!1,s,o),t[ma]=e.current,Af(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new e1(e)};ps.render=function(t,e,n){if(!t1(e))throw Error(Oe(200));return n1(null,t,e,!1,n)};ps.unmountComponentAtNode=function(t){if(!t1(t))throw Error(Oe(40));return t._reactRootContainer?(pu(function(){n1(null,null,t,!1,function(){t._reactRootContainer=null,t[ma]=null})}),!0):!1};ps.unstable_batchedUpdates=Ny;ps.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!t1(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return n1(t,e,n,!1,r)};ps.version="18.3.1-next-f1338f8080-20240426";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),v3.exports=ps;var Fk=v3.exports,_A,z_=Fk;_A=z_.createRoot,z_.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),er=(t,e)=>{const n=$e.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>$e.createElement("svg",{ref:d,...jk,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Vk(t)}`,a].join(" "),...u},[...e.map(([g,v])=>$e.createElement(g,v)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=er("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=er("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=er("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=er("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=er("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=er("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=er("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=er("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=er("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=er("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=er("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=er("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=er("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=er("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=er("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=er("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=er("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=er("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=er("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=er("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=er("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=er("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=()=>{};var X_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,g=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(v=64)),r.push(n[d],n[g],n[v],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||g==null)throw new tP;const v=s<<2|a>>4;if(r.push(v),u!==64){const p=a<<4&240|u>>2;if(r.push(p),g!==64){const k=u<<6&192|g;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nP=function(t){const e=wA(t);return bA.encodeByteArray(e,!0)},p0=function(t){return nP(t).replace(/\./g,"")},xA=function(t){try{return bA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=()=>rP().__FIREBASE_DEFAULTS__,sP=()=>{if(typeof process>"u"||typeof X_>"u")return;const t=X_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xA(t[1]);return e&&JSON.parse(e)},r1=()=>{try{return Zk()||iP()||sP()||oP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AA=t=>{var e,n;return(n=(e=r1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aP=t=>{const e=AA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SA=()=>{var t;return(t=r1())==null?void 0:t.config},EA=t=>{var e;return(e=r1())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[p0(JSON.stringify(n)),p0(JSON.stringify(o)),""].join(".")}const sf={};function cP(){const t={prod:[],emulator:[]};for(const e of Object.keys(sf))sf[e]?t.emulator.push(e):t.prod.push(e);return t}function hP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let J_=!1;function NA(t,e){if(typeof window>"u"||typeof document>"u"||!eh(window.location.host)||sf[t]===e||sf[t]||J_)return;sf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=cP().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function l(v,p){v.setAttribute("width","24"),v.setAttribute("id",p),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{J_=!0,o()},v}function d(v,p){v.setAttribute("id",p),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=hP(r),p=n("text"),k=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),B=document.getElementById(E)||document.createElement("a"),x=n("preprendIcon"),P=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;a(R),d(B,E);const U=u();l(P,x),R.append(P,k,B,U),document.body.appendChild(R)}s?(k.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function dP(){var e;const t=(e=r1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gP(){const t=mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yP(){return!dP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function vP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_P,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ro(i,a,r)}}function wP(t,e){return t.replace(bP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bP=/\{\$([^}]+)}/g;function xP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Al(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Z_(s)&&Z_(o)){if(!Al(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AP(t,e){const n=new SP(t,e);return n.subscribe.bind(n)}class SP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mm),i.error===void 0&&(i.error=mm),i.complete===void 0&&(i.complete=mm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1e3,NP=2,TP=4*60*60*1e3,kP=.5;function ew(t,e=IP,n=NP){const r=e*Math.pow(n,t),i=Math.round(kP*r*(Math.random()-.5)*2);return Math.min(TP,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LP(e))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CP(t){return t===Gl?void 0:t}function LP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Wt||(Wt={}));const DP={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},OP=Wt.INFO,MP={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},FP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i1{constructor(e){this.name=e,this._logLevel=OP,this._logHandler=FP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const jP=(t,e)=>e.some(n=>t instanceof n);let tw,nw;function VP(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UP(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CA=new WeakMap,Xg=new WeakMap,LA=new WeakMap,gm=new WeakMap,Oy=new WeakMap;function BP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CA.set(n,t)}).catch(()=>{}),Oy.set(e,t),e}function zP(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qP(t){Jg=t(Jg)}function $P(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ym(this),e,...n);return LA.set(r,e.sort?e.sort():[e]),pl(r)}:UP().includes(t)?function(...e){return t.apply(ym(this),e),pl(CA.get(this))}:function(...e){return pl(t.apply(ym(this),e))}}function HP(t){return typeof t=="function"?$P(t):(t instanceof IDBTransaction&&zP(t),jP(t,VP())?new Proxy(t,Jg):t)}function pl(t){if(t instanceof IDBRequest)return BP(t);if(gm.has(t))return gm.get(t);const e=HP(t);return e!==t&&(gm.set(t,e),Oy.set(e,t)),e}const ym=t=>Oy.get(t);function RA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=pl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pl(o.result),l.oldVersion,l.newVersion,pl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const WP=["get","getKey","getAll","getAllKeys","count"],GP=["put","add","delete","clear"],vm=new Map;function rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vm.set(e,s),s}qP(t=>({...t,get:(e,n,r)=>rw(e,n)||t.get(e,n,r),has:(e,n)=>!!rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",iw="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new i1("@firebase/app"),QP="@firebase/app-compat",XP="@firebase/analytics-compat",JP="@firebase/analytics",ZP="@firebase/app-check-compat",eC="@firebase/app-check",tC="@firebase/auth",nC="@firebase/auth-compat",rC="@firebase/database",iC="@firebase/data-connect",sC="@firebase/database-compat",oC="@firebase/functions",aC="@firebase/functions-compat",lC="@firebase/installations",uC="@firebase/installations-compat",cC="@firebase/messaging",hC="@firebase/messaging-compat",fC="@firebase/performance",dC="@firebase/performance-compat",pC="@firebase/remote-config",mC="@firebase/remote-config-compat",gC="@firebase/storage",yC="@firebase/storage-compat",vC="@firebase/firestore",_C="@firebase/ai",wC="@firebase/firestore-compat",bC="firebase",xC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="[DEFAULT]",AC={[Zg]:"fire-core",[QP]:"fire-core-compat",[JP]:"fire-analytics",[XP]:"fire-analytics-compat",[eC]:"fire-app-check",[ZP]:"fire-app-check-compat",[tC]:"fire-auth",[nC]:"fire-auth-compat",[rC]:"fire-rtdb",[iC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[oC]:"fire-fn",[aC]:"fire-fn-compat",[lC]:"fire-iid",[uC]:"fire-iid-compat",[cC]:"fire-fcm",[hC]:"fire-fcm-compat",[fC]:"fire-perf",[dC]:"fire-perf-compat",[pC]:"fire-rc",[mC]:"fire-rc-compat",[gC]:"fire-gcs",[yC]:"fire-gcs-compat",[vC]:"fire-fst",[wC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[bC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map,SC=new Map,t2=new Map;function sw(t,e){try{t.container.addComponent(e)}catch(n){va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(t2.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;t2.set(e,t);for(const n of m0.values())sw(n,t);for(const n of SC.values())sw(n,t);return!0}function Iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ml=new Eu("app","Firebase",EC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ml.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=xC;function DA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:e2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ml.create("bad-app-name",{appName:String(i)});if(n||(n=SA()),!n)throw ml.create("no-options");const s=m0.get(i);if(s){if(Al(n,s.options)&&Al(r,s.config))return s;throw ml.create("duplicate-app",{appName:i})}const o=new RP(i);for(const l of t2.values())o.addComponent(l);const a=new IC(n,r,o);return m0.set(i,a),a}function My(t=e2){const e=m0.get(t);if(!e&&t===e2&&SA())return DA();if(!e)throw ml.create("no-app",{appName:t});return e}function Rs(t,e,n){let r=AC[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(o.join(" "));return}jo(new eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebase-heartbeat-database",TC=1,Lf="firebase-heartbeat-store";let _m=null;function OA(){return _m||(_m=RA(NC,TC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ml.create("idb-open",{originalErrorMessage:t.message})})),_m}async function kC(t){try{const n=(await OA()).transaction(Lf),r=await n.objectStore(Lf).get(MA(t));return await n.done,r}catch(e){if(e instanceof ro)va.warn(e.message);else{const n=ml.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});va.warn(n.message)}}}async function ow(t,e){try{const r=(await OA()).transaction(Lf,"readwrite");await r.objectStore(Lf).put(e,MA(t)),await r.done}catch(n){if(n instanceof ro)va.warn(n.message);else{const r=ml.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});va.warn(r.message)}}}function MA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1024,CC=30;class LC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>CC){const o=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){va.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aw(),{heartbeatsToSend:r,unsentEntries:i}=RC(this._heartbeatsCache.heartbeats),s=p0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return va.warn(n),""}}}function aw(){return new Date().toISOString().substring(0,10)}function RC(t,e=PC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lw(t){return p0(JSON.stringify({version:2,heartbeats:t})).length}function OC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){jo(new eo("platform-logger",e=>new KP(e),"PRIVATE")),jo(new eo("heartbeat",e=>new LC(e),"PRIVATE")),Rs(Zg,iw,t),Rs(Zg,iw,"esm2020"),Rs("fire-js","")}MC("");var FC="firebase",jC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(FC,jC,"app");const FA="@firebase/installations",Fy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1e4,VA=`w:${Fy}`,UA="FIS_v2",VC="https://firebaseinstallations.googleapis.com/v1",UC=60*60*1e3,BC="installations",zC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mu=new Eu(BC,zC,qC);function BA(t){return t instanceof ro&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA({projectId:t}){return`${VC}/projects/${t}/installations`}function qA(t){return{token:t.token,requestStatus:2,expiresIn:HC(t.expiresIn),creationTime:Date.now()}}async function $A(t,e){const r=(await e.json()).error;return mu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $C(t,{refreshToken:e}){const n=HA(t);return n.append("Authorization",WC(e)),n}async function WA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function HC(t){return Number(t.replace("s","000"))}function WC(t){return`${UA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zA(t),i=HA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:UA,appId:t.appId,sdkVersion:VA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await WA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:qA(u.authToken)}}else throw await $A("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^[cdef][\w-]{21}$/,n2="";function QC(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XC(t);return YC.test(n)?n:n2}catch{return n2}}function XC(t){return KC(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new Map;function YA(t,e){const n=s1(t);QA(n,e),JC(n,e)}function QA(t,e){const n=KA.get(t);if(n)for(const r of n)r(e)}function JC(t,e){const n=ZC();n&&n.postMessage({key:t,fid:e}),e8()}let Zl=null;function ZC(){return!Zl&&"BroadcastChannel"in self&&(Zl=new BroadcastChannel("[Firebase] FID Change"),Zl.onmessage=t=>{QA(t.data.key,t.data.fid)}),Zl}function e8(){KA.size===0&&Zl&&(Zl.close(),Zl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="firebase-installations-database",n8=1,gu="firebase-installations-store";let wm=null;function jy(){return wm||(wm=RA(t8,n8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gu)}}})),wm}async function g0(t,e){const n=s1(t),i=(await jy()).transaction(gu,"readwrite"),s=i.objectStore(gu),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&YA(t,e.fid),e}async function XA(t){const e=s1(t),r=(await jy()).transaction(gu,"readwrite");await r.objectStore(gu).delete(e),await r.done}async function o1(t,e){const n=s1(t),i=(await jy()).transaction(gu,"readwrite"),s=i.objectStore(gu),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&YA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(t){let e;const n=await o1(t.appConfig,r=>{const i=r8(r),s=i8(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===n2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function r8(t){const e=t||{fid:QC(),registrationStatus:0};return JA(e)}function i8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(mu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=s8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:o8(t)}:{installationEntry:e}}async function s8(t,e){try{const n=await GC(t,e);return g0(t.appConfig,n)}catch(n){throw BA(n)&&n.customData.serverCode===409?await XA(t.appConfig):await g0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function o8(t){let e=await uw(t.appConfig);for(;e.registrationStatus===1;)await GA(100),e=await uw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Vy(t);return r||n}return e}function uw(t){return o1(t,e=>{if(!e)throw mu.create("installation-not-found");return JA(e)})}function JA(t){return a8(t)?{fid:t.fid,registrationStatus:0}:t}function a8(t){return t.registrationStatus===1&&t.registrationTime+jA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8({appConfig:t,heartbeatServiceProvider:e},n){const r=u8(t,n),i=$C(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:VA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await WA(()=>fetch(r,a));if(l.ok){const u=await l.json();return qA(u)}else throw await $A("Generate Auth Token",l)}function u8(t,{fid:e}){return`${zA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e=!1){let n;const r=await o1(t.appConfig,s=>{if(!ZA(s))throw mu.create("not-registered");const o=s.authToken;if(!e&&f8(o))return s;if(o.requestStatus===1)return n=c8(t,e),s;{if(!navigator.onLine)throw mu.create("app-offline");const a=p8(s);return n=h8(t,a),a}});return n?await n:r.authToken}async function c8(t,e){let n=await cw(t.appConfig);for(;n.authToken.requestStatus===1;)await GA(100),n=await cw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Uy(t,e):r}function cw(t){return o1(t,e=>{if(!ZA(e))throw mu.create("not-registered");const n=e.authToken;return m8(n)?{...e,authToken:{requestStatus:0}}:e})}async function h8(t,e){try{const n=await l8(t,e),r={...e,authToken:n};return await g0(t.appConfig,r),n}catch(n){if(BA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await g0(t.appConfig,r)}throw n}}function ZA(t){return t!==void 0&&t.registrationStatus===2}function f8(t){return t.requestStatus===2&&!d8(t)}function d8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UC}function p8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function m8(t){return t.requestStatus===1&&t.requestTime+jA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(t){const e=t,{installationEntry:n,registrationPromise:r}=await Vy(e);return r?r.catch(console.error):Uy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e=!1){const n=t;return await v8(n),(await Uy(n,e)).token}async function v8(t){const{registrationPromise:e}=await Vy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){if(!t||!t.options)throw bm("App Configuration");if(!t.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw bm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function bm(t){return mu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="installations",w8="installations-internal",b8=t=>{const e=t.getProvider("app").getImmediate(),n=_8(e),r=Iu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},x8=t=>{const e=t.getProvider("app").getImmediate(),n=Iu(e,eS).getImmediate();return{getId:()=>g8(n),getToken:i=>y8(n,i)}};function A8(){jo(new eo(eS,b8,"PUBLIC")),jo(new eo(w8,x8,"PRIVATE"))}A8();Rs(FA,Fy);Rs(FA,Fy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="analytics",S8="firebase_id",E8="origin",I8=60*1e3,N8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",By="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new i1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fs=new Eu("analytics","Analytics",T8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){if(!t.startsWith(By)){const e=fs.create("invalid-gtag-resource",{gtagURL:t});return Ni.warn(e.message),""}return t}function tS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function C8(t,e){const n=P8("firebase-js-sdk-policy",{createScriptURL:k8}),r=document.createElement("script"),i=`${By}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function L8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function R8(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await tS(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ni.error(a)}t("config",i,s)}async function D8(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await tS(n);for(const l of o){const u=a.find(g=>g.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ni.error(s)}}function O8(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await D8(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await R8(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ni.error(a)}}return i}function M8(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=O8(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function F8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(By)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=30,V8=1e3;class U8{constructor(e={},n=V8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nS=new U8;function B8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function z8(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:B8(n)},i=N8.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw fs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function q8(t,e=nS,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw fs.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw fs.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new W8;return setTimeout(async()=>{a.abort()},I8),rS({appId:r,apiKey:i,measurementId:s},o,a,e)}async function rS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=nS){var a;const{appId:s,measurementId:o}=t;try{await $8(r,e)}catch(l){if(o)return Ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await z8(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!H8(u)){if(i.deleteThrottleMetadata(s),o)return Ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw l}const d=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?ew(n,i.intervalMillis,j8):ew(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,g),Ni.debug(`Calling attemptFetch again in ${d} millis`),rS(t,g,r,i)}}function $8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function H8(t){if(!(t instanceof ro)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class W8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function G8(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function K8(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(){if(kA())try{await PA()}catch(t){return Ni.warn(fs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ni.warn(fs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Q8(t,e,n,r,i,s,o){const a=q8(t);a.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Ni.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ni.error(v)),e.push(a);const l=Y8().then(v=>{if(v)return r.getId()}),[u,d]=await Promise.all([a,l]);F8(s)||C8(s,u.measurementId),i("js",new Date);const g=(o==null?void 0:o.config)??{};return g[E8]="firebase",g.update=!0,d!=null&&(g[S8]=d),i("config",u.measurementId,g),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.app=e}_delete(){return delete xc[this.app.options.appId],Promise.resolve()}}let xc={},hw=[];const fw={};let xm="dataLayer",J8="gtag",dw,zy,pw=!1;function Z8(){const t=[];if(TA()&&t.push("This is a browser extension environment."),vP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fs.create("invalid-analytics-context",{errorInfo:e});Ni.warn(n.message)}}function eL(t,e,n){Z8();const r=t.options.appId;if(!r)throw fs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fs.create("no-api-key");if(xc[r]!=null)throw fs.create("already-exists",{id:r});if(!pw){L8(xm);const{wrappedGtag:s,gtagCore:o}=M8(xc,hw,fw,xm,J8);zy=s,dw=o,pw=!0}return xc[r]=Q8(t,hw,fw,e,dw,xm,n),new X8(t)}function tL(t=My()){t=Yr(t);const e=Iu(t,y0);return e.isInitialized()?e.getImmediate():nL(t)}function nL(t,e={}){const n=Iu(t,y0);if(n.isInitialized()){const i=n.getImmediate();if(Al(e,n.getOptions()))return i;throw fs.create("already-initialized")}return n.initialize({options:e})}function rL(t,e,n){t=Yr(t),K8(zy,xc[t.app.options.appId],e,n).catch(r=>Ni.error(r))}function iL(t,e,n,r){t=Yr(t),G8(zy,xc[t.app.options.appId],e,n,r).catch(i=>Ni.error(i))}const mw="@firebase/analytics",gw="0.10.19";function sL(){jo(new eo(y0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return eL(r,i,n)},"PUBLIC")),jo(new eo("analytics-internal",t,"PRIVATE")),Rs(mw,gw),Rs(mw,gw,"esm2020");function t(e){try{const n=e.getProvider(y0).getImmediate();return{logEvent:(r,i,s)=>iL(n,r,i,s),setUserProperties:(r,i)=>rL(n,r,i)}}catch(n){throw fs.create("interop-component-reg-failed",{reason:n})}}}sL();function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oL=iS,sS=new Eu("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new i1("@firebase/auth");function aL(t,...e){v0.logLevel<=Wt.WARN&&v0.warn(`Auth (${th}): ${t}`,...e)}function Np(t,...e){v0.logLevel<=Wt.ERROR&&v0.error(`Auth (${th}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,...e){throw $y(t,...e)}function Js(t,...e){return $y(t,...e)}function qy(t,e,n){const r={...oL(),[e]:n};return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function au(t){return qy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vo(t,"argument-error"),qy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $y(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sS.create(t,...e)}function It(t,e,...n){if(!t)throw $y(e,...n)}function ca(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Np(e),new Error(e)}function _a(t,e){t||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uL(){return yw()==="http:"||yw()==="https:"}function yw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uL()||TA()||"connection"in navigator)?navigator.onLine:!0}function hL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,_a(n>e,"Short delay should be less than long delay!"),this.isMobile=fP()||mP()}get(){return cL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){_a(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pL=new nd(3e4,6e4);function Wy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function nh(t,e,n,r,i={}){return aS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=td({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return pP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&eh(t.emulatorConfig.host)&&(u.credentials="include"),oS.fetch()(await lS(t,t.config.apiHost,n,a),u)})}async function aS(t,e,n){t._canInitEmulator=!1;const r={...fL,...e};try{const i=new gL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qy(t,d,u);Vo(t,d)}}catch(i){if(i instanceof ro)throw i;Vo(t,"network-request-failed",{message:String(i)})}}async function mL(t,e,n,r,i={}){const s=await nh(t,e,n,r,i);return"mfaPendingCredential"in s&&Vo(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function lS(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Hy(t.config,i):`${t.config.apiScheme}://${i}`;return dL.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class gL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),pL.get())})}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Js(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){return nh(t,"POST","/v1/accounts:delete",e)}async function _0(t,e){return nh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vL(t,e=!1){const n=Yr(t),r=await n.getIdToken(e),i=Gy(r);It(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:of(Am(i.auth_time)),issuedAtTime:of(Am(i.iat)),expirationTime:of(Am(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Am(t){return Number(t)*1e3}function Gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Np("JWT malformed, contained fewer than 3 sections"),null;try{const i=xA(n);return i?JSON.parse(i):(Np("Failed to decode base64 JWT payload"),null)}catch(i){return Np("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vw(t){const e=Gy(t);return It(e,"internal-error"),It(typeof e.exp<"u","internal-error"),It(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ro&&_L(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _L({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=of(this.lastLoginAt),this.creationTime=of(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(t){var g;const e=t.auth,n=await t.getIdToken(),r=await Rf(t,_0(e,{idToken:n}));It(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?uS(i.providerUserInfo):[],o=xL(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new i2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function bL(t){const e=Yr(t);await w0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){const n=await aS(t,{},async()=>{const r=td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await lS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&eh(t.emulatorConfig.host)&&(l.credentials="include"),oS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SL(t,e){return nh(t,"POST","/v2/accounts:revokeToken",Wy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){It(e.idToken,"internal-error"),It(typeof e.idToken<"u","internal-error"),It(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){It(e.length!==0,"internal-error");const n=vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await AL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ac;return r&&(It(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(It(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(It(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){It(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new wL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new i2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Rf(this,this.stsTokenManager.getToken(this.auth,e));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vL(this,e)}reload(){return bL(this)}_assign(e){this!==e&&(It(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await w0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gs(this.auth.app))return Promise.reject(au(this.auth));const e=await this.getIdToken();return await Rf(this,yL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:p,providerData:k,stsTokenManager:E}=n;It(g&&E,e,"internal-error");const B=Ac.fromJSON(this.name,E);It(typeof g=="string",e,"internal-error"),$a(r,e.name),$a(i,e.name),It(typeof v=="boolean",e,"internal-error"),It(typeof p=="boolean",e,"internal-error"),$a(s,e.name),$a(o,e.name),$a(a,e.name),$a(l,e.name),$a(u,e.name),$a(d,e.name);const x=new Ks({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:B,createdAt:u,lastLoginAt:d});return k&&Array.isArray(k)&&(x.providerData=k.map(P=>({...P}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ac;i.updateFromServerResponse(n);const s=new Ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await w0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];It(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ac;a.updateFromIdToken(r);const l=new Ks({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new i2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function ha(t){_a(t instanceof Function,"Expected a class definition");let e=_w.get(t);return e?(_a(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_w.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cS.type="NONE";const ww=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,n){return`firebase:${t}:${e}:${n}`}class Sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _0(this.auth,{idToken:e}).catch(()=>{});return n?Ks._fromGetAccountInfoResponse(this.auth,n,e):null}return Ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sc(ha(ww),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ha(ww);const o=Tp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let g;if(typeof d=="string"){const v=await _0(e,{idToken:d}).catch(()=>{});if(!v)break;g=await Ks._fromGetAccountInfoResponse(e,v,d)}else g=Ks._fromJSON(e,d);u!==s&&(a=g),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Sc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(fS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hS(t=mi()){return/firefox\//i.test(t)}function fS(t=mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(t=mi()){return/crios\//i.test(t)}function pS(t=mi()){return/iemobile/i.test(t)}function mS(t=mi()){return/android/i.test(t)}function gS(t=mi()){return/blackberry/i.test(t)}function yS(t=mi()){return/webos/i.test(t)}function Ky(t=mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EL(t=mi()){var e;return Ky(t)&&!!((e=window.navigator)!=null&&e.standalone)}function IL(){return gP()&&document.documentMode===10}function vS(t=mi()){return Ky(t)||mS(t)||yS(t)||gS(t)||/windows phone/i.test(t)||pS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e=[]){let n;switch(t){case"Browser":n=bw(mi());break;case"Worker":n=`${bw(mi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${th}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e={}){return nh(t,"GET","/v2/passwordPolicy",Wy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=6;class PL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new NL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ha(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _0(this,{idToken:e}),r=await Ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Gs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await w0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gs(this.app))return Promise.reject(au(this));const n=e?Yr(e):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&It(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gs(this.app)?Promise.reject(au(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gs(this.app)?Promise.reject(au(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TL(this),n=new PL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ha(e)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[ha(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function a1(t){return Yr(t)}class xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=AP(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(t){Yy=t}function RL(t){return Yy.loadJS(t)}function DL(){return Yy.gapiScript}function OL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e){const n=Iu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Al(s,e??{}))return i;Vo(i,"already-initialized")}return n.initialize({options:e})}function FL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ha);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jL(t,e,n){const r=a1(t);It(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=wS(e),{host:o,port:a}=VL(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){It(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),It(Al(u,r.config.emulator)&&Al(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,eh(o)?(IA(`${s}//${o}${l}`),NA("Auth",!0)):UL()}function wS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VL(t){const e=wS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Aw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Aw(o)}}}function Aw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,n){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e){return mL(t,"POST","/v1/accounts:signInWithIdp",Wy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="http://localhost";class yu extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new yu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ec(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ec(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ec(e,n)}buildRequest(){const e={requestUri:BL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends Qy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends rd{constructor(){super("facebook.com")}static credential(e){return yu._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yu._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends rd{constructor(){super("github.com")}static credential(e){return yu._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends rd{constructor(){super("twitter.com")}static credential(e,n){return yu._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.TWITTER_SIGN_IN_METHOD="twitter.com";Za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ks._fromIdTokenResponse(e,r,i),o=Sw(r);return new Bc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Sw(r);return new Bc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Sw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends ro{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,b0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new b0(e,n,r,i)}}function xS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?b0._fromErrorAndOperation(t,s,e,r):s})}async function zL(t,e,n=!1){const r=await Rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e,n=!1){const{auth:r}=t;if(Gs(r.app))return Promise.reject(au(r));const i="reauthenticate";try{const s=await Rf(t,xS(r,i,e,t),n);It(s.idToken,r,"internal-error");const o=Gy(s.idToken);It(o,r,"internal-error");const{sub:a}=o;return It(t.uid===a,r,"user-mismatch"),Bc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e,n=!1){if(Gs(t.app))return Promise.reject(au(t));const r="signIn",i=await xS(t,r,e),s=await Bc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function HL(t,e,n,r){return Yr(t).onIdTokenChanged(e,n,r)}function WL(t,e,n){return Yr(t).beforeAuthStateChanged(e,n)}function GL(t,e,n,r){return Yr(t).onAuthStateChanged(e,n,r)}function KL(t){return Yr(t).signOut()}const x0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(x0,"1"),this.storage.removeItem(x0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1e3,QL=10;class SS extends AS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SS.type="LOCAL";const XL=SS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends AS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ES.type="SESSION";const IS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new l1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await JL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}l1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Xy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(){return window}function eR(t){Po().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof Po().WorkerGlobalScope<"u"&&typeof Po().importScripts=="function"}async function tR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rR(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebaseLocalStorageDb",iR=1,A0="firebaseLocalStorage",kS="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u1(t,e){return t.transaction([A0],e?"readwrite":"readonly").objectStore(A0)}function sR(){const t=indexedDB.deleteDatabase(TS);return new id(t).toPromise()}function s2(){const t=indexedDB.open(TS,iR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(A0,{keyPath:kS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(A0)?e(r):(r.close(),await sR(),e(await s2()))})})}async function Ew(t,e,n){const r=u1(t,!0).put({[kS]:e,value:n});return new id(r).toPromise()}async function oR(t,e){const n=u1(t,!1).get(e),r=await new id(n).toPromise();return r===void 0?null:r.value}function Iw(t,e){const n=u1(t,!0).delete(e);return new id(n).toPromise()}const aR=800,lR=3;class PS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=l1._getInstance(rR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await tR(),!this.activeServiceWorker)return;this.sender=new ZL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s2();return await Ew(e,x0,"1"),await Iw(e,x0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ew(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Iw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=u1(i,!1).getAll();return new id(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PS.type="LOCAL";const uR=PS;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){return e?ha(e):(It(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends bS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ec(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ec(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cR(t){return $L(t.auth,new Jy(t),t.bypassAuthState)}function hR(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),qL(n,new Jy(t),t.bypassAuthState)}async function fR(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),zL(n,new Jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return fR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:Vo(this.auth,"internal-error")}}resolve(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new nd(2e3,1e4);async function pR(t,e,n){if(Gs(t.app))return Promise.reject(Js(t,"operation-not-supported-in-this-environment"));const r=a1(t);lL(t,e,Qy);const i=CS(r,n);return new eu(r,"signInViaPopup",e,i).executeNotNull()}class eu extends LS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,eu.currentPopupAction&&eu.currentPopupAction.cancel(),eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return It(e,this.auth,"internal-error"),e}async onExecution(){_a(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dR.get())};e()}}eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="pendingRedirect",kp=new Map;class gR extends LS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kp.get(this.auth._key());if(!e){try{const r=await yR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kp.set(this.auth._key(),e)}return this.bypassAuthState||kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yR(t,e){const n=wR(e),r=_R(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vR(t,e){kp.set(t._key(),e)}function _R(t){return ha(t._redirectPersistence)}function wR(t){return Tp(mR,t.config.apiKey,t.name)}async function bR(t,e,n=!1){if(Gs(t.app))return Promise.reject(au(t));const r=a1(t),i=CS(r,e),o=await new gR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=10*60*1e3;class AR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RS(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e={}){return nh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function TR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ER(t);for(const n of e)try{if(kR(n))return}catch{}Vo(t,"unauthorized-domain")}function kR(t){const e=r2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NR.test(n))return!1;if(IR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new nd(3e4,6e4);function Tw(){const t=Po().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CR(t){return new Promise((e,n)=>{var i,s,o;function r(){Tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tw(),n(Js(t,"network-request-failed"))},timeout:PR.get()})}if((s=(i=Po().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Po().gapi)!=null&&o.load)r();else{const a=OL("iframefcb");return Po()[a]=()=>{gapi.load?r():n(Js(t,"network-request-failed"))},RL(`${DL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pp=null,e})}let Pp=null;function LR(t){return Pp=Pp||CR(t),Pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new nd(5e3,15e3),DR="__/auth/iframe",OR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(t){const e=t.config;It(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,OR):`https://${t.config.authDomain}/${DR}`,r={apiKey:e.apiKey,appName:t.name,v:th},i=FR.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${td(r).slice(1)}`}async function VR(t){const e=await LR(t),n=Po().gapi;return It(n,t,"internal-error"),e.open({where:document.body,url:jR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Js(t,"network-request-failed"),a=Po().setTimeout(()=>{s(o)},RR.get());function l(){Po().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BR=500,zR=600,qR="_blank",$R="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HR(t,e,n,r=BR,i=zR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...UR,width:r.toString(),height:i.toString(),top:s,left:o},u=mi().toLowerCase();n&&(a=dS(u)?qR:n),hS(u)&&(e=e||$R,l.scrollbars="yes");const d=Object.entries(l).reduce((v,[p,k])=>`${v}${p}=${k},`,"");if(EL(u)&&a!=="_self")return WR(e||"",a),new kw(null);const g=window.open(e||"",a,d);It(g,t,"popup-blocked");try{g.focus()}catch{}return new kw(g)}function WR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="__/auth/handler",KR="emulator/auth/handler",YR=encodeURIComponent("fac");async function Pw(t,e,n,r,i,s){It(t.config.authDomain,t,"auth-domain-config-required"),It(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:th,eventId:i};if(e instanceof Qy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))o[d]=g}if(e instanceof rd){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${YR}=${encodeURIComponent(l)}`:"";return`${QR(t)}?${td(a).slice(1)}${u}`}function QR({config:t}){return t.emulator?Hy(t,KR):`https://${t.authDomain}/${GR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class XR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=bR,this._overrideRedirectResult=vR}async _openPopup(e,n,r,i){var o;_a((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Pw(e,n,r,r2(),i);return HR(e,s,Xy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Pw(e,n,r,r2(),i);return eR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_a(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VR(e),r=new AR(e);return n.register("authEvent",i=>(It(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Sm];s!==void 0&&n(!!s),Vo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||fS()||Ky()}}const JR=XR;var Cw="@firebase/auth",Lw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t7(t){jo(new eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;It(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(t)},u=new CL(r,i,s,l);return FL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jo(new eo("auth-internal",e=>{const n=a1(e.getProvider("auth").getImmediate());return(r=>new ZR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(Cw,Lw,e7(t)),Rs(Cw,Lw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=5*60,r7=EA("authIdTokenMaxAge")||n7;let Rw=null;const i7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r7)return;const i=n==null?void 0:n.token;Rw!==i&&(Rw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s7(t=My()){const e=Iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ML(t,{popupRedirectResolver:JR,persistence:[uR,XL,IS]}),r=EA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=i7(s.toString());WL(n,o,()=>o(n.currentUser)),HL(n,a=>o(a))}}const i=AA("auth");return i&&jL(n,`http://${i}`),n}function o7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}LL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Js("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",o7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t7("Browser");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,DS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function S(){}S.prototype=I.prototype,M.F=I.prototype,M.prototype=new S,M.prototype.constructor=M,M.D=function(D,w,N){for(var T=Array(arguments.length-2),X=2;X<arguments.length;X++)T[X-2]=arguments[X];return I.prototype[w].apply(D,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,I,S){S||(S=0);const D=Array(16);if(typeof I=="string")for(var w=0;w<16;++w)D[w]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(w=0;w<16;++w)D[w]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=M.g[0],S=M.g[1],w=M.g[2];let N=M.g[3],T;T=I+(N^S&(w^N))+D[0]+3614090360&4294967295,I=S+(T<<7&4294967295|T>>>25),T=N+(w^I&(S^w))+D[1]+3905402710&4294967295,N=I+(T<<12&4294967295|T>>>20),T=w+(S^N&(I^S))+D[2]+606105819&4294967295,w=N+(T<<17&4294967295|T>>>15),T=S+(I^w&(N^I))+D[3]+3250441966&4294967295,S=w+(T<<22&4294967295|T>>>10),T=I+(N^S&(w^N))+D[4]+4118548399&4294967295,I=S+(T<<7&4294967295|T>>>25),T=N+(w^I&(S^w))+D[5]+1200080426&4294967295,N=I+(T<<12&4294967295|T>>>20),T=w+(S^N&(I^S))+D[6]+2821735955&4294967295,w=N+(T<<17&4294967295|T>>>15),T=S+(I^w&(N^I))+D[7]+4249261313&4294967295,S=w+(T<<22&4294967295|T>>>10),T=I+(N^S&(w^N))+D[8]+1770035416&4294967295,I=S+(T<<7&4294967295|T>>>25),T=N+(w^I&(S^w))+D[9]+2336552879&4294967295,N=I+(T<<12&4294967295|T>>>20),T=w+(S^N&(I^S))+D[10]+4294925233&4294967295,w=N+(T<<17&4294967295|T>>>15),T=S+(I^w&(N^I))+D[11]+2304563134&4294967295,S=w+(T<<22&4294967295|T>>>10),T=I+(N^S&(w^N))+D[12]+1804603682&4294967295,I=S+(T<<7&4294967295|T>>>25),T=N+(w^I&(S^w))+D[13]+4254626195&4294967295,N=I+(T<<12&4294967295|T>>>20),T=w+(S^N&(I^S))+D[14]+2792965006&4294967295,w=N+(T<<17&4294967295|T>>>15),T=S+(I^w&(N^I))+D[15]+1236535329&4294967295,S=w+(T<<22&4294967295|T>>>10),T=I+(w^N&(S^w))+D[1]+4129170786&4294967295,I=S+(T<<5&4294967295|T>>>27),T=N+(S^w&(I^S))+D[6]+3225465664&4294967295,N=I+(T<<9&4294967295|T>>>23),T=w+(I^S&(N^I))+D[11]+643717713&4294967295,w=N+(T<<14&4294967295|T>>>18),T=S+(N^I&(w^N))+D[0]+3921069994&4294967295,S=w+(T<<20&4294967295|T>>>12),T=I+(w^N&(S^w))+D[5]+3593408605&4294967295,I=S+(T<<5&4294967295|T>>>27),T=N+(S^w&(I^S))+D[10]+38016083&4294967295,N=I+(T<<9&4294967295|T>>>23),T=w+(I^S&(N^I))+D[15]+3634488961&4294967295,w=N+(T<<14&4294967295|T>>>18),T=S+(N^I&(w^N))+D[4]+3889429448&4294967295,S=w+(T<<20&4294967295|T>>>12),T=I+(w^N&(S^w))+D[9]+568446438&4294967295,I=S+(T<<5&4294967295|T>>>27),T=N+(S^w&(I^S))+D[14]+3275163606&4294967295,N=I+(T<<9&4294967295|T>>>23),T=w+(I^S&(N^I))+D[3]+4107603335&4294967295,w=N+(T<<14&4294967295|T>>>18),T=S+(N^I&(w^N))+D[8]+1163531501&4294967295,S=w+(T<<20&4294967295|T>>>12),T=I+(w^N&(S^w))+D[13]+2850285829&4294967295,I=S+(T<<5&4294967295|T>>>27),T=N+(S^w&(I^S))+D[2]+4243563512&4294967295,N=I+(T<<9&4294967295|T>>>23),T=w+(I^S&(N^I))+D[7]+1735328473&4294967295,w=N+(T<<14&4294967295|T>>>18),T=S+(N^I&(w^N))+D[12]+2368359562&4294967295,S=w+(T<<20&4294967295|T>>>12),T=I+(S^w^N)+D[5]+4294588738&4294967295,I=S+(T<<4&4294967295|T>>>28),T=N+(I^S^w)+D[8]+2272392833&4294967295,N=I+(T<<11&4294967295|T>>>21),T=w+(N^I^S)+D[11]+1839030562&4294967295,w=N+(T<<16&4294967295|T>>>16),T=S+(w^N^I)+D[14]+4259657740&4294967295,S=w+(T<<23&4294967295|T>>>9),T=I+(S^w^N)+D[1]+2763975236&4294967295,I=S+(T<<4&4294967295|T>>>28),T=N+(I^S^w)+D[4]+1272893353&4294967295,N=I+(T<<11&4294967295|T>>>21),T=w+(N^I^S)+D[7]+4139469664&4294967295,w=N+(T<<16&4294967295|T>>>16),T=S+(w^N^I)+D[10]+3200236656&4294967295,S=w+(T<<23&4294967295|T>>>9),T=I+(S^w^N)+D[13]+681279174&4294967295,I=S+(T<<4&4294967295|T>>>28),T=N+(I^S^w)+D[0]+3936430074&4294967295,N=I+(T<<11&4294967295|T>>>21),T=w+(N^I^S)+D[3]+3572445317&4294967295,w=N+(T<<16&4294967295|T>>>16),T=S+(w^N^I)+D[6]+76029189&4294967295,S=w+(T<<23&4294967295|T>>>9),T=I+(S^w^N)+D[9]+3654602809&4294967295,I=S+(T<<4&4294967295|T>>>28),T=N+(I^S^w)+D[12]+3873151461&4294967295,N=I+(T<<11&4294967295|T>>>21),T=w+(N^I^S)+D[15]+530742520&4294967295,w=N+(T<<16&4294967295|T>>>16),T=S+(w^N^I)+D[2]+3299628645&4294967295,S=w+(T<<23&4294967295|T>>>9),T=I+(w^(S|~N))+D[0]+4096336452&4294967295,I=S+(T<<6&4294967295|T>>>26),T=N+(S^(I|~w))+D[7]+1126891415&4294967295,N=I+(T<<10&4294967295|T>>>22),T=w+(I^(N|~S))+D[14]+2878612391&4294967295,w=N+(T<<15&4294967295|T>>>17),T=S+(N^(w|~I))+D[5]+4237533241&4294967295,S=w+(T<<21&4294967295|T>>>11),T=I+(w^(S|~N))+D[12]+1700485571&4294967295,I=S+(T<<6&4294967295|T>>>26),T=N+(S^(I|~w))+D[3]+2399980690&4294967295,N=I+(T<<10&4294967295|T>>>22),T=w+(I^(N|~S))+D[10]+4293915773&4294967295,w=N+(T<<15&4294967295|T>>>17),T=S+(N^(w|~I))+D[1]+2240044497&4294967295,S=w+(T<<21&4294967295|T>>>11),T=I+(w^(S|~N))+D[8]+1873313359&4294967295,I=S+(T<<6&4294967295|T>>>26),T=N+(S^(I|~w))+D[15]+4264355552&4294967295,N=I+(T<<10&4294967295|T>>>22),T=w+(I^(N|~S))+D[6]+2734768916&4294967295,w=N+(T<<15&4294967295|T>>>17),T=S+(N^(w|~I))+D[13]+1309151649&4294967295,S=w+(T<<21&4294967295|T>>>11),T=I+(w^(S|~N))+D[4]+4149444226&4294967295,I=S+(T<<6&4294967295|T>>>26),T=N+(S^(I|~w))+D[11]+3174756917&4294967295,N=I+(T<<10&4294967295|T>>>22),T=w+(I^(N|~S))+D[2]+718787259&4294967295,w=N+(T<<15&4294967295|T>>>17),T=S+(N^(w|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(w+(T<<21&4294967295|T>>>11))&4294967295,M.g[2]=M.g[2]+w&4294967295,M.g[3]=M.g[3]+N&4294967295}r.prototype.v=function(M,I){I===void 0&&(I=M.length);const S=I-this.blockSize,D=this.C;let w=this.h,N=0;for(;N<I;){if(w==0)for(;N<=S;)i(this,M,N),N+=this.blockSize;if(typeof M=="string"){for(;N<I;)if(D[w++]=M.charCodeAt(N++),w==this.blockSize){i(this,D),w=0;break}}else for(;N<I;)if(D[w++]=M[N++],w==this.blockSize){i(this,D),w=0;break}}this.h=w,this.o+=I},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;I=this.o*8;for(var S=M.length-8;S<M.length;++S)M[S]=I&255,I/=256;for(this.v(M),M=Array(16),I=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)M[I++]=this.g[S]>>>D&255;return M};function s(M,I){var S=a;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=I(M)}function o(M,I){this.h=I;const S=[];let D=!0;for(let w=M.length-1;w>=0;w--){const N=M[w]|0;D&&N==I||(S[w]=N,D=!1)}this.g=S}var a={};function l(M){return-128<=M&&M<128?s(M,function(I){return new o([I|0],I<0?-1:0)}):new o([M|0],M<0?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return g;if(M<0)return B(u(-M));const I=[];let S=1;for(let D=0;M>=S;D++)I[D]=M/S|0,S*=4294967296;return new o(I,0)}function d(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return B(d(M.substring(1),I));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=u(Math.pow(I,8));let D=g;for(let N=0;N<M.length;N+=8){var w=Math.min(8,M.length-N);const T=parseInt(M.substring(N,N+w),I);w<8?(w=u(Math.pow(I,w)),D=D.j(w).add(u(T))):(D=D.j(S),D=D.add(u(T)))}return D}var g=l(0),v=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-B(this).m();let M=0,I=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);M+=(D>=0?D:4294967296+D)*I,I*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(E(this))return"-"+B(this).toString(M);const I=u(Math.pow(M,6));var S=this;let D="";for(;;){const w=U(S,I).g;S=x(S,w.j(I));let N=((S.g.length>0?S.g[0]:S.h)>>>0).toString(M);if(S=w,k(S))return N+D;for(;N.length<6;)N="0"+N;D=N+D}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(let I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function E(M){return M.h==-1}t.l=function(M){return M=x(this,M),E(M)?-1:k(M)?0:1};function B(M){const I=M.g.length,S=[];for(let D=0;D<I;D++)S[D]=~M.g[D];return new o(S,~M.h).add(v)}t.abs=function(){return E(this)?B(this):this},t.add=function(M){const I=Math.max(this.g.length,M.g.length),S=[];let D=0;for(let w=0;w<=I;w++){let N=D+(this.i(w)&65535)+(M.i(w)&65535),T=(N>>>16)+(this.i(w)>>>16)+(M.i(w)>>>16);D=T>>>16,N&=65535,T&=65535,S[w]=T<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(M,I){return M.add(B(I))}t.j=function(M){if(k(this)||k(M))return g;if(E(this))return E(M)?B(this).j(B(M)):B(B(this).j(M));if(E(M))return B(this.j(B(M)));if(this.l(p)<0&&M.l(p)<0)return u(this.m()*M.m());const I=this.g.length+M.g.length,S=[];for(var D=0;D<2*I;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let w=0;w<M.g.length;w++){const N=this.i(D)>>>16,T=this.i(D)&65535,X=M.i(w)>>>16,ce=M.i(w)&65535;S[2*D+2*w]+=T*ce,P(S,2*D+2*w),S[2*D+2*w+1]+=N*ce,P(S,2*D+2*w+1),S[2*D+2*w+1]+=T*X,P(S,2*D+2*w+1),S[2*D+2*w+2]+=N*X,P(S,2*D+2*w+2)}for(M=0;M<I;M++)S[M]=S[2*M+1]<<16|S[2*M];for(M=I;M<2*I;M++)S[M]=0;return new o(S,0)};function P(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function R(M,I){this.g=M,this.h=I}function U(M,I){if(k(I))throw Error("division by zero");if(k(M))return new R(g,g);if(E(M))return I=U(B(M),I),new R(B(I.g),B(I.h));if(E(I))return I=U(M,B(I)),new R(B(I.g),I.h);if(M.g.length>30){if(E(M)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var S=v,D=I;D.l(M)<=0;)S=Z(S),D=Z(D);var w=ie(S,1),N=ie(D,1);for(D=ie(D,2),S=ie(S,2);!k(D);){var T=N.add(D);T.l(M)<=0&&(w=w.add(S),N=T),D=ie(D,1),S=ie(S,1)}return I=x(M,w.j(I)),new R(w,I)}for(w=g;M.l(I)>=0;){for(S=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),N=u(S),T=N.j(I);E(T)||T.l(M)>0;)S-=D,N=u(S),T=N.j(I);k(N)&&(N=v),w=w.add(N),M=x(M,T)}return new R(w,M)}t.B=function(M){return U(this,M).h},t.and=function(M){const I=Math.max(this.g.length,M.g.length),S=[];for(let D=0;D<I;D++)S[D]=this.i(D)&M.i(D);return new o(S,this.h&M.h)},t.or=function(M){const I=Math.max(this.g.length,M.g.length),S=[];for(let D=0;D<I;D++)S[D]=this.i(D)|M.i(D);return new o(S,this.h|M.h)},t.xor=function(M){const I=Math.max(this.g.length,M.g.length),S=[];for(let D=0;D<I;D++)S[D]=this.i(D)^M.i(D);return new o(S,this.h^M.h)};function Z(M){const I=M.g.length+1,S=[];for(let D=0;D<I;D++)S[D]=M.i(D)<<1|M.i(D-1)>>>31;return new o(S,M.h)}function ie(M,I){const S=I>>5;I%=32;const D=M.g.length-S,w=[];for(let N=0;N<D;N++)w[N]=I>0?M.i(N+S)>>>I|M.i(N+S+1)<<32-I:M.i(N+S);return new o(w,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,gl=o}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OS,qh,MS,Cp,o2,FS,jS,VS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var _=0;_<h.length;++_){var A=h[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var A=r;h=h.split(".");for(var q=0;q<h.length-1;q++){var ue=h[q];if(!(ue in A))break e;A=A[ue]}h=h[h.length-1],q=A[h],_=_(q),_!=q&&_!=null&&e(A,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var A=[],q;for(q in _)Object.prototype.hasOwnProperty.call(_,q)&&A.push([q,_[q]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function l(h,_,A){return h.call.apply(h.bind,arguments)}function u(h,_,A){return u=l,u.apply(null,arguments)}function d(h,_){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),h.apply(this,q)}}function g(h,_){function A(){}A.prototype=_.prototype,h.Z=_.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(q,ue,pe){for(var Me=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Me[kt-2]=arguments[kt];return _.prototype[ue].apply(q,Me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const _=h.length;if(_>0){const A=Array(_);for(let q=0;q<_;q++)A[q]=h[q];return A}return[]}function k(h,_){for(let q=1;q<arguments.length;q++){const ue=arguments[q];var A=typeof ue;if(A=A!="object"?A:ue?Array.isArray(ue)?"array":A:"null",A=="array"||A=="object"&&typeof ue.length=="number"){A=h.length||0;const pe=ue.length||0;h.length=A+pe;for(let Me=0;Me<pe;Me++)h[A+Me]=ue[Me]}else h.push(ue)}}class E{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(h){o.setTimeout(()=>{throw h},0)}function x(){var h=M;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class P{constructor(){this.h=this.g=null}add(_,A){const q=R.get();q.set(_,A),this.h?this.h.next=q:this.g=q,this.h=q}}var R=new E(()=>new U,h=>h.reset());class U{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ie=!1,M=new P,I=()=>{const h=Promise.resolve(void 0);Z=()=>{h.then(S)}};function S(){for(var h;h=x();){try{h.h.call(h.g)}catch(A){B(A)}var _=R;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ie=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};o.addEventListener("test",A,_),o.removeEventListener("test",A,_)}catch{}return h}();function T(h){return/^[\s\xa0]*$/.test(h)}function X(h,_){w.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}g(X,w),X.prototype.init=function(h,_){const A=this.type=h.type,q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(A=="mouseover"?_=h.fromElement:A=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),me=0;function ye(h,_,A,q,ue){this.listener=h,this.proxy=null,this.src=_,this.type=A,this.capture=!!q,this.ha=ue,this.key=++me,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h,_,A){for(const q in h)_.call(A,h[q],q,h)}function we(h,_){for(const A in h)_.call(void 0,h[A],A,h)}function _e(h){const _={};for(const A in h)_[A]=h[A];return _}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,_){let A,q;for(let ue=1;ue<arguments.length;ue++){q=arguments[ue];for(A in q)h[A]=q[A];for(let pe=0;pe<F.length;pe++)A=F[pe],Object.prototype.hasOwnProperty.call(q,A)&&(h[A]=q[A])}}function Q(h){this.src=h,this.g={},this.h=0}Q.prototype.add=function(h,_,A,q,ue){const pe=h.toString();h=this.g[pe],h||(h=this.g[pe]=[],this.h++);const Me=re(h,_,q,ue);return Me>-1?(_=h[Me],A||(_.fa=!1)):(_=new ye(_,this.src,pe,!!q,ue),_.fa=A,h.push(_)),_};function te(h,_){const A=_.type;if(A in h.g){var q=h.g[A],ue=Array.prototype.indexOf.call(q,_,void 0),pe;(pe=ue>=0)&&Array.prototype.splice.call(q,ue,1),pe&&(J(_),h.g[A].length==0&&(delete h.g[A],h.h--))}}function re(h,_,A,q){for(let ue=0;ue<h.length;++ue){const pe=h[ue];if(!pe.da&&pe.listener==_&&pe.capture==!!A&&pe.ha==q)return ue}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),ge={};function ve(h,_,A,q,ue){if(Array.isArray(_)){for(let pe=0;pe<_.length;pe++)ve(h,_[pe],A,q,ue);return null}return A=at(A),h&&h[ce]?h.J(_,A,a(q)?!!q.capture:!!q,ue):Ie(h,_,A,!1,q,ue)}function Ie(h,_,A,q,ue,pe){if(!_)throw Error("Invalid event type");const Me=a(ue)?!!ue.capture:!!ue;let kt=Ve(h);if(kt||(h[oe]=kt=new Q(h)),A=kt.add(_,A,q,Me,pe),A.proxy)return A;if(q=Le(),A.proxy=q,q.src=h,q.listener=A,h.addEventListener)N||(ue=Me),ue===void 0&&(ue=!1),h.addEventListener(_.toString(),q,ue);else if(h.attachEvent)h.attachEvent(ot(_.toString()),q);else if(h.addListener&&h.removeListener)h.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Le(){function h(A){return _.call(h.src,h.listener,A)}const _=H;return h}function Be(h,_,A,q,ue){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)Be(h,_[pe],A,q,ue);else q=a(q)?!!q.capture:!!q,A=at(A),h&&h[ce]?(h=h.i,pe=String(_).toString(),pe in h.g&&(_=h.g[pe],A=re(_,A,q,ue),A>-1&&(J(_[A]),Array.prototype.splice.call(_,A,1),_.length==0&&(delete h.g[pe],h.h--)))):h&&(h=Ve(h))&&(_=h.g[_.toString()],h=-1,_&&(h=re(_,A,q,ue)),(A=h>-1?_[h]:null)&&je(A))}function je(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ce])te(_.i,h);else{var A=h.type,q=h.proxy;_.removeEventListener?_.removeEventListener(A,q,h.capture):_.detachEvent?_.detachEvent(ot(A),q):_.addListener&&_.removeListener&&_.removeListener(q),(A=Ve(_))?(te(A,h),A.h==0&&(A.src=null,_[oe]=null)):J(h)}}}function ot(h){return h in ge?ge[h]:ge[h]="on"+h}function H(h,_){if(h.da)h=!0;else{_=new X(_,this);const A=h.listener,q=h.ha||h.src;h.fa&&je(h),h=A.call(q,_)}return h}function Ve(h){return h=h[oe],h instanceof Q?h:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function at(h){return typeof h=="function"?h:(h[bt]||(h[bt]=function(_){return h.handleEvent(_)}),h[bt])}function Ee(){D.call(this),this.i=new Q(this),this.M=this,this.G=null}g(Ee,D),Ee.prototype[ce]=!0,Ee.prototype.removeEventListener=function(h,_,A,q){Be(this,h,_,A,q)};function He(h,_){var A,q=h.G;if(q)for(A=[];q;q=q.G)A.push(q);if(h=h.M,q=_.type||_,typeof _=="string")_=new w(_,h);else if(_ instanceof w)_.target=_.target||h;else{var ue=_;_=new w(q,h),W(_,ue)}ue=!0;let pe,Me;if(A)for(Me=A.length-1;Me>=0;Me--)pe=_.g=A[Me],ue=ze(pe,q,!0,_)&&ue;if(pe=_.g=h,ue=ze(pe,q,!0,_)&&ue,ue=ze(pe,q,!1,_)&&ue,A)for(Me=0;Me<A.length;Me++)pe=_.g=A[Me],ue=ze(pe,q,!1,_)&&ue}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const A=h.g[_];for(let q=0;q<A.length;q++)J(A[q]);delete h.g[_],h.h--}}this.G=null},Ee.prototype.J=function(h,_,A,q){return this.i.add(String(h),_,!1,A,q)},Ee.prototype.K=function(h,_,A,q){return this.i.add(String(h),_,!0,A,q)};function ze(h,_,A,q){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let ue=!0;for(let pe=0;pe<_.length;++pe){const Me=_[pe];if(Me&&!Me.da&&Me.capture==A){const kt=Me.listener,kn=Me.ha||Me.src;Me.fa&&te(h.i,Me),ue=kt.call(kn,q)!==!1&&ue}}return ue&&!q.defaultPrevented}function ft(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:o.setTimeout(h,_||0)}function rt(h){h.g=ft(()=>{h.g=null,h.i&&(h.i=!1,rt(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Yt extends D{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(h){D.call(this),this.h=h,this.g={}}g(Nt,D);var wt=[];function Lt(h){le(h.g,function(_,A){this.g.hasOwnProperty(A)&&je(_)},h),h.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),Lt(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=o.JSON.stringify,Ze=o.JSON.parse,Tt=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function We(){}function En(){}var Ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){w.call(this,"d")}g(dt,w);function Pt(){w.call(this,"c")}g(Pt,w);var Jt={},et=null;function tn(){return et=et||new Ee}Jt.Ia="serverreachability";function pt(h){w.call(this,Jt.Ia,h)}g(pt,w);function gt(h){const _=tn();He(_,new pt(_))}Jt.STAT_EVENT="statevent";function sn(h,_){w.call(this,Jt.STAT_EVENT,h),this.stat=_}g(sn,w);function lt(h){const _=tn();He(_,new sn(_,h))}Jt.Ja="timingevent";function tt(h,_){w.call(this,Jt.Ja,h),this.size=_}g(tt,w);function Mt(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},_)}function Nr(){this.g=!0}Nr.prototype.ua=function(){this.g=!1};function hr(h,_,A,q,ue,pe){h.info(function(){if(h.g)if(pe){var Me="",kt=pe.split("&");for(let Ht=0;Ht<kt.length;Ht++){var kn=kt[Ht].split("=");if(kn.length>1){const Pn=kn[0];kn=kn[1];const Cr=Pn.split("_");Me=Cr.length>=2&&Cr[1]=="type"?Me+(Pn+"="+kn+"&"):Me+(Pn+"=redacted&")}}}else Me=null;else Me=pe;return"XMLHTTP REQ ("+q+") [attempt "+ue+"]: "+_+`
`+A+`
`+Me})}function Pi(h,_,A,q,ue,pe,Me){h.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ue+"]: "+_+`
`+A+`
`+pe+" "+Me})}function wn(h,_,A,q){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wi(h,A)+(q?" "+q:"")})}function yt(h,_){h.info(function(){return"TIMEOUT: "+_})}Nr.prototype.info=function(){};function Wi(h,_){if(!h.g)return _;if(!_)return null;try{const pe=JSON.parse(_);if(pe){for(h=0;h<pe.length;h++)if(Array.isArray(pe[h])){var A=pe[h];if(!(A.length<2)){var q=A[1];if(Array.isArray(q)&&!(q.length<1)){var ue=q[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let Me=1;Me<q.length;Me++)q[Me]=""}}}}return jt(pe)}catch{return _}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fr;function yn(){}g(yn,We),yn.prototype.g=function(){return new XMLHttpRequest},Fr=new yn;function In(h){return encodeURIComponent(String(h))}function tr(h){var _=1;h=h.split(":");const A=[];for(;_>0&&h.length;)A.push(h.shift()),_--;return h.length&&A.push(h.join(":")),A}function kr(h,_,A,q){this.j=h,this.i=_,this.l=A,this.S=q||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gi}function Gi(){this.i=null,this.g="",this.h=!1}var Jr={},_r={};function jr(h,_,A){h.M=1,h.A=ei(gi(_)),h.u=A,h.R=!0,Zr(h,null)}function Zr(h,_){h.F=Date.now(),St(h),h.B=gi(h.A);var A=h.B,q=h.S;Array.isArray(q)||(q=[String(q)]),Fu(A.i,"t",q),h.C=0,A=h.j.L,h.h=new Gi,h.g=Ke(h.j,A?_:null,!h.u),h.P>0&&(h.O=new Yt(u(h.Y,h,h.g),h.P)),_=h.V,A=h.g,q=h.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(wt[0]=ue.toString()),ue=wt);for(let pe=0;pe<ue.length;pe++){const Me=ve(A,ue[pe],q||_.handleEvent,!1,_.h||_);if(!Me)break;_.g[Me.key]=Me}_=h.J?_e(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),gt(),hr(h.i,h.v,h.B,h.l,h.S,h.u)}kr.prototype.ba=function(h){h=h.target;const _=this.O;_&&Oi(h)==3?_.j():this.Y(h)},kr.prototype.Y=function(h){try{if(h==this.g)e:{const kt=Oi(this.g),kn=this.g.ya(),Ht=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||Na(this.g)))){this.K||kt!=4||kn==7||(kn==8||Ht<=0?gt(3):gt(2)),Bt(this);var _=this.g.ca();this.X=_;var A=be(this);if(this.o=_==200,Pi(this.i,this.v,this.B,this.l,this.S,kt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ue=this.g;if((q=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(q)){var pe=q;break t}}pe=null}if(h=pe)wn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,On(this,h);else{this.o=!1,this.m=3,lt(12),Xe(this),on(this);break e}}if(this.R){h=!0;let Pn;for(;!this.K&&this.C<A.length;)if(Pn=ct(this,A),Pn==_r){kt==4&&(this.m=4,lt(14),h=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Jr){this.m=4,lt(15),wn(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else wn(this.i,this.l,Pn,null),On(this,Pn);if(Re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||A.length!=0||this.h.h||(this.m=1,lt(16),h=!1),this.o=this.o&&h,!h)wn(this.i,this.l,A,"[Invalid Chunked Response]"),Xe(this),on(this);else if(A.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ka(Me),Me.P=!0,lt(11))}}else wn(this.i,this.l,A,null),On(this,A);kt==4&&Xe(this),this.o&&!this.K&&(kt==4?G(this.j,this):(this.o=!1,St(this)))}else Uu(this.g),_==400&&A.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Xe(this),on(this)}}}catch{}finally{}};function be(h){if(!Re(h))return h.g.la();const _=Na(h.g);if(_==="")return"";let A="";const q=_.length,ue=Oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Xe(h),on(h),"";h.h.i=new o.TextDecoder}for(let pe=0;pe<q;pe++)h.h.h=!0,A+=h.h.i.decode(_[pe],{stream:!(ue&&pe==q-1)});return _.length=0,h.h.g+=A,h.C=0,h.h.g}function Re(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ct(h,_){var A=h.C,q=_.indexOf(`
`,A);return q==-1?_r:(A=Number(_.substring(A,q)),isNaN(A)?Jr:(q+=1,q+A>_.length?_r:(_=_.slice(q,q+A),h.C=q+A,_)))}kr.prototype.cancel=function(){this.K=!0,Xe(this)};function St(h){h.T=Date.now()+h.H,Fe(h,h.H)}function Fe(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Mt(u(h.aa,h),_)}function Bt(h){h.D&&(o.clearTimeout(h.D),h.D=null)}kr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(yt(this.i,this.B),this.M!=2&&(gt(),lt(17)),Xe(this),this.m=2,on(this)):Fe(this,this.T-h)};function on(h){h.j.I==0||h.K||G(h.j,h)}function Xe(h){Bt(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Lt(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function On(h,_){try{var A=h.j;if(A.I!=0&&(A.g==h||Ki(A.h,h))){if(!h.L&&Ki(A.h,h)&&A.I==3){try{var q=A.Ba.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ue=q;if(ue[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)C(A),fo(A);else break e;js(A),lt(18)}}else A.xa=ue[1],0<A.xa-A.K&&ue[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Mt(u(A.Va,A),6e3));zn(A.h)<=1&&A.ta&&(A.ta=void 0)}else ae(A,11)}else if((h.L||A.g==h)&&C(A),!T(_))for(ue=A.Ba.g.parse(_),_=0;_<ue.length;_++){let Ht=ue[_];const Pn=Ht[0];if(!(Pn<=A.K))if(A.K=Pn,Ht=Ht[1],A.I==2)if(Ht[0]=="c"){A.M=Ht[1],A.ba=Ht[2];const Cr=Ht[3];Cr!=null&&(A.ka=Cr,A.j.info("VER="+A.ka));const ti=Ht[4];ti!=null&&(A.za=ti,A.j.info("SVER="+A.za));const Cn=Ht[5];Cn!=null&&typeof Cn=="number"&&Cn>0&&(q=1.5*Cn,A.O=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const ni=h.g;if(ni){const bs=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var pe=q.h;pe.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(gs(pe,pe.h),pe.h=null))}if(q.G){const Go=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(q.wa=Go,zt(q.J,q.G,Go))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),q=A;var Me=h;if(q.na=Pe(q,q.L?q.ba:null,q.W),Me.L){oo(q.h,Me);var kt=Me,kn=q.O;kn&&(kt.H=kn),kt.D&&(Bt(kt),St(kt)),q.g=Me}else Vl(q);A.i.length>0&&mo(A)}else Ht[0]!="stop"&&Ht[0]!="close"||ae(A,7);else A.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ae(A,7):ho(A):Ht[0]!="noop"&&A.l&&A.l.qa(Ht),A.A=0)}}gt(4)}catch{}}var Mn=class{constructor(h,_){this.g=h,this.map=_}};function Pr(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zn(h){return h.h?1:h.g?h.g.size:0}function Ki(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function gs(h,_){h.g?h.g.add(_):h.h=_}function oo(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Pr.prototype.cancel=function(){if(this.i=ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ao(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const A of h.g.values())_=_.concat(A.G);return _}return p(h.i)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ci(h,_){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const q=h[A].indexOf("=");let ue,pe=null;q>=0?(ue=h[A].substring(0,q),pe=h[A].substring(q+1)):ue=h[A],_(ue,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Vr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Vr?(this.l=h.l,vn(this,h.j),this.o=h.o,this.g=h.g,ln(this,h.u),this.h=h.h,hn(this,Aa(h.i)),this.m=h.m):h&&(_=String(h).match(zo))?(this.l=!1,vn(this,_[1]||"",!0),this.o=dr(_[2]||""),this.g=dr(_[3]||"",!0),ln(this,_[4]),this.h=dr(_[5]||"",!0),hn(this,_[6]||"",!0),this.m=dr(_[7]||"")):(this.l=!1,this.i=new lo(null,this.l))}Vr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(_n(_,qo,!0),":");var A=this.g;return(A||_=="file")&&(h.push("//"),(_=this.o)&&h.push(_n(_,qo,!0),"@"),h.push(In(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(_n(A,A.charAt(0)=="/"?$o:Ol,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",_n(A,Du)),h.join("")},Vr.prototype.resolve=function(h){const _=gi(this);let A=!!h.j;A?vn(_,h.j):A=!!h.o,A?_.o=h.o:A=!!h.g,A?_.g=h.g:A=h.u!=null;var q=h.h;if(A)ln(_,h.u);else if(A=!!h.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ue=_.h.lastIndexOf("/");ue!=-1&&(q=_.h.slice(0,ue+1)+q)}if(ue=q,ue==".."||ue==".")q="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){q=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const pe=[];for(let Me=0;Me<ue.length;){const kt=ue[Me++];kt=="."?q&&Me==ue.length&&pe.push(""):kt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),q&&Me==ue.length&&pe.push("")):(pe.push(kt),q=!0)}q=pe.join("/")}else q=ue}return A?_.h=q:A=h.i.toString()!=="",A?hn(_,Aa(h.i)):A=!!h.m,A&&(_.m=h.m),_};function gi(h){return new Vr(h)}function vn(h,_,A){h.j=A?dr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ln(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function hn(h,_,A){_ instanceof lo?(h.i=_,Yi(h.i,h.l)):(A||(_=_n(_,ys)),h.i=new lo(_,h.l))}function zt(h,_,A){h.i.set(_,A)}function ei(h){return zt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function dr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _n(h,_,A){return typeof h=="string"?(h=encodeURI(h).replace(_,Li),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Li(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qo=/[#\/\?@]/g,Ol=/[#\?:]/g,$o=/[#\?]/g,ys=/[#\?@]/g,Du=/#/g;function lo(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Ri(h){h.g||(h.g=new Map,h.h=0,h.i&&Ci(h.i,function(_,A){h.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}t=lo.prototype,t.add=function(h,_){Ri(this),this.i=null,h=Fs(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(_),this.h+=1,this};function uo(h,_){Ri(h),_=Fs(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ou(h,_){return Ri(h),_=Fs(h,_),h.g.has(_)}t.forEach=function(h,_){Ri(this),this.g.forEach(function(A,q){A.forEach(function(ue){h.call(_,ue,q,this)},this)},this)};function Mu(h,_){Ri(h);let A=[];if(typeof _=="string")Ou(h,_)&&(A=A.concat(h.g.get(Fs(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)A=A.concat(h[_]);return A}t.set=function(h,_){return Ri(this),this.i=null,h=Fs(this,h),Ou(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Mu(this,h),h.length>0?String(h[0]):_):_};function Fu(h,_,A){uo(h,_),A.length>0&&(h.i=null,h.g.set(Fs(h,_),p(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let q=0;q<_.length;q++){var A=_[q];const ue=In(A);A=Mu(this,A);for(let pe=0;pe<A.length;pe++){let Me=ue;A[pe]!==""&&(Me+="="+In(A[pe])),h.push(Me)}}return this.i=h.join("&")};function Aa(h){const _=new lo;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Fs(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Yi(h,_){_&&!h.j&&(Ri(h),h.i=null,h.g.forEach(function(A,q){const ue=q.toLowerCase();q!=ue&&(uo(this,q),Fu(this,ue,A))},h)),h.j=_}function hh(h,_){const A=new Nr;if(o.Image){const q=new Image;q.onload=d(Di,A,"TestLoadImage: loaded",!0,_,q),q.onerror=d(Di,A,"TestLoadImage: error",!1,_,q),q.onabort=d(Di,A,"TestLoadImage: abort",!1,_,q),q.ontimeout=d(Di,A,"TestLoadImage: timeout",!1,_,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=h}else _(!1)}function Ho(h,_){const A=new Nr,q=new AbortController,ue=setTimeout(()=>{q.abort(),Di(A,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:q.signal}).then(pe=>{clearTimeout(ue),pe.ok?Di(A,"TestPingServer: ok",!0,_):Di(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ue),Di(A,"TestPingServer: error",!1,_)})}function Di(h,_,A,q,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),q(A)}catch{}}function fh(){this.g=new Tt}function xt(h){this.i=h.Sb||null,this.h=h.ab||!1}g(xt,We),xt.prototype.g=function(){return new Sa(this.i,this.h)};function Sa(h,_){Ee.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Sa,Ee),t=Sa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,yi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||o).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ju(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ju(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Wo(this):yi(this),this.readyState==3&&ju(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Wo(this))},t.Na=function(h){this.g&&(this.response=h,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=_.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vs(h){let _="";return le(h,function(A,q){_+=q,_+=":",_+=A,_+=`\r
`}),_}function Ml(h,_,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=vs(A),typeof h=="string"?A!=null&&In(A):zt(h,_,A))}function Nn(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Nn,Ee);var Ea=/^https?$/i,Fl=["POST","PUT"];t=Nn.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fr.g(),this.g.onreadystatechange=v(u(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(pe){co(this,pe);return}if(h=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ue in q)A.set(ue,q[ue]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const pe of q.keys())A.set(pe,q.get(pe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(pe=>pe.toLowerCase()=="content-type"),ue=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call(Fl,_,void 0)>=0)||q||ue||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Me]of A)this.g.setRequestHeader(pe,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(pe){co(this,pe)}};function co(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Vu(h),Ia(h)}function Vu(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,He(this,"complete"),He(this,"abort"),Ia(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ia(this,!0)),Nn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},t.Xa=function(){_s(this)};function _s(h){if(h.h&&typeof s<"u"){if(h.v&&Oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(He(h,"readystatechange"),Oi(h)==4){h.h=!1;try{const pe=h.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var q;if(q=pe===0){let Me=String(h.D).match(zo)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),q=!Ea.test(Me?Me.toLowerCase():"")}A=q}if(A)He(h,"complete"),He(h,"success");else{h.o=6;try{var ue=Oi(h)>2?h.g.statusText:""}catch{ue=""}h.l=ue+" ["+h.ca()+"]",Vu(h)}}finally{Ia(h)}}}}function Ia(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,_||He(h,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ze(_)}};function Na(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Uu(h){const _={};h=(h.g&&Oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<h.length;q++){if(T(h[q]))continue;var A=tr(h[q]);const ue=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const pe=_[ue]||[];_[ue]=pe,pe.push(A)}we(_,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(h,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||_}function Ta(h){this.za=0,this.i=[],this.j=new Nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,h),this.Za=vi("retryDelaySeedMs",1e4,h),this.Ta=vi("forwardChannelMaxRetries",2,h),this.va=vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Pr(h&&h.concurrentRequestLimit),this.Ba=new fh,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ta.prototype,t.ka=8,t.I=1,t.connect=function(h,_,A,q){lt(0),this.W=h,this.H=_||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.J=Pe(this,null,this.W),mo(this)};function ho(h){if(po(h),h.I==3){var _=h.V++,A=gi(h.J);if(zt(A,"SID",h.M),zt(A,"RID",_),zt(A,"TYPE","terminate"),_i(h,A),_=new kr(h,h.j,_),_.M=2,_.A=ei(gi(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(_.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=_.A,A=!0),A||(_.g=Ke(_.j,null),_.g.ea(_.A)),_.F=Date.now(),St(_)}Ae(h)}function fo(h){h.g&&(ka(h),h.g.cancel(),h.g=null)}function po(h){fo(h),h.v&&(o.clearTimeout(h.v),h.v=null),C(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function mo(h){if(!fr(h.h)&&!h.m){h.m=!0;var _=h.Ea;Z||I(),ie||(Z(),ie=!0),M.add(_,h),h.D=0}}function Bu(h,_){return zn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Mt(u(h.Ea,h,_),ee(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const ue=new kr(this,this.j,h);let pe=this.o;if(this.U&&(pe?(pe=_e(pe),W(pe,this.U)):pe=this.U),this.u!==null||this.R||(ue.J=pe,pe=null),this.S)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,_>4096){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=ws(this,ue,_),A=gi(this.J),zt(A,"RID",h),zt(A,"CVER",22),this.G&&zt(A,"X-HTTP-Session-Id",this.G),_i(this,A),pe&&(this.R?_="headers="+In(vs(pe))+"&"+_:this.u&&Ml(A,this.u,pe)),gs(this.h,ue),this.Ra&&zt(A,"TYPE","init"),this.S?(zt(A,"$req",_),zt(A,"SID","null"),ue.U=!0,jr(ue,A,null)):jr(ue,A,_),this.I=2}}else this.I==3&&(h?jl(this,h):this.i.length==0||fr(this.h)||jl(this))};function jl(h,_){var A;_?A=_.l:A=h.V++;const q=gi(h.J);zt(q,"SID",h.M),zt(q,"RID",A),zt(q,"AID",h.K),_i(h,q),h.u&&h.o&&Ml(q,h.u,h.o),A=new kr(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ws(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),gs(h.h,A),jr(A,q,_)}function _i(h,_){h.H&&le(h.H,function(A,q){zt(_,q,A)}),h.l&&le({},function(A,q){zt(_,q,A)})}function ws(h,_,A){A=Math.min(h.i.length,A);const q=h.l?u(h.l.Ka,h.l,h):null;e:{var ue=h.i;let kt=-1;for(;;){const kn=["count="+A];kt==-1?A>0?(kt=ue[0].g,kn.push("ofs="+kt)):kt=0:kn.push("ofs="+kt);let Ht=!0;for(let Pn=0;Pn<A;Pn++){var pe=ue[Pn].g;const Cr=ue[Pn].map;if(pe-=kt,pe<0)kt=Math.max(0,ue[Pn].g-100),Ht=!1;else try{pe="req"+pe+"_"||"";try{var Me=Cr instanceof Map?Cr:Object.entries(Cr);for(const[ti,Cn]of Me){let ni=Cn;a(Cn)&&(ni=jt(Cn)),kn.push(pe+ti+"="+encodeURIComponent(ni))}}catch(ti){throw kn.push(pe+"type="+encodeURIComponent("_badmap")),ti}}catch{q&&q(Cr)}}if(Ht){Me=kn.join("&");break e}}Me=void 0}return h=h.i.splice(0,A),_.G=h,Me}function Vl(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;Z||I(),ie||(Z(),ie=!0),M.add(_,h),h.A=0}}function js(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Mt(u(h.Da,h),ee(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,m(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Mt(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),fo(this),m(this))};function ka(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function m(h){h.g=new kr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=gi(h.na);zt(_,"RID","rpc"),zt(_,"SID",h.M),zt(_,"AID",h.K),zt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&zt(_,"TO",h.ia),zt(_,"TYPE","xmlhttp"),_i(h,_),h.u&&h.o&&Ml(_,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=ei(gi(_)),A.u=null,A.R=!0,Zr(A,h)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),js(this),lt(19))};function C(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function G(h,_){var A=null;if(h.g==_){C(h),ka(h),h.g=null;var q=2}else if(Ki(h.h,_))A=_.G,oo(h.h,_),q=1;else return;if(h.I!=0){if(_.o)if(q==1){A=_.u?_.u.length:0,_=Date.now()-_.F;var ue=h.D;q=tn(),He(q,new tt(q,A)),mo(h)}else Vl(h);else if(ue=_.m,ue==3||ue==0&&_.X>0||!(q==1&&Bu(h,_)||q==2&&js(h)))switch(A&&A.length>0&&(_=h.h,_.i=_.i.concat(A)),ue){case 1:ae(h,5);break;case 4:ae(h,10);break;case 3:ae(h,6);break;default:ae(h,2)}}}function ee(h,_){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*_}function ae(h,_){if(h.j.info("Error code "+_),_==2){var A=u(h.bb,h),q=h.Ua;const ue=!q;q=new Vr(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vn(q,"https"),ei(q),ue?hh(q.toString(),A):Ho(q.toString(),A)}else lt(2);h.I=0,h.l&&h.l.pa(_),Ae(h),po(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Ae(h){if(h.I=0,h.ja=[],h.l){const _=ao(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function Pe(h,_,A){var q=A instanceof Vr?gi(A):new Vr(A);if(q.g!="")_&&(q.g=_+"."+q.g),ln(q,q.u);else{var ue=o.location;q=ue.protocol,_=_?_+"."+ue.hostname:ue.hostname,ue=+ue.port;const pe=new Vr(null);q&&vn(pe,q),_&&(pe.g=_),ue&&ln(pe,ue),A&&(pe.h=A),q=pe}return A=h.G,_=h.wa,A&&_&&zt(q,A,_),zt(q,"VER",h.ka),_i(h,q),q}function Ke(h,_,A){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Nn(new xt({ab:A})):new Nn(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nt(){}t=nt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _t(){}_t.prototype.g=function(h,_){return new mt(h,_)};function mt(h,_){Ee.call(this),this.g=new Ta(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!T(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!T(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new bn(this)}g(mt,Ee),mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){ho(this.g)},mt.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=jt(h),h=A);_.i.push(new Mn(_.Ya++,h)),_.I==3&&mo(_)},mt.prototype.N=function(){this.g.l=null,delete this.j,ho(this.g),delete this.g,mt.Z.N.call(this)};function $t(h){dt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const A in _){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}g($t,dt);function Tn(){Pt.call(this),this.status=1}g(Tn,Pt);function bn(h){this.g=h}g(bn,nt),bn.prototype.ra=function(){He(this.g,"a")},bn.prototype.qa=function(h){He(this.g,new $t(h))},bn.prototype.pa=function(h){He(this.g,new Tn)},bn.prototype.oa=function(){He(this.g,"b")},_t.prototype.createWebChannel=_t.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,VS=function(){return new _t},jS=function(){return tn()},FS=Jt,o2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Cp=Xr,Tr.COMPLETE="complete",MS=Tr,En.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,qh=En,Nn.prototype.listenOnce=Nn.prototype.K,Nn.prototype.getLastError=Nn.prototype.Ha,Nn.prototype.getLastErrorCode=Nn.prototype.ya,Nn.prototype.getStatus=Nn.prototype.ca,Nn.prototype.getResponseJson=Nn.prototype.La,Nn.prototype.getResponseText=Nn.prototype.la,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Fa,OS=Nn}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const Ow="@firebase/firestore",Mw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new i1("@firebase/firestore");function Xu(){return vu.logLevel}function Ge(t,...e){if(vu.logLevel<=Wt.DEBUG){const n=e.map(Zy);vu.debug(`Firestore (${rh}): ${t}`,...n)}}function wa(t,...e){if(vu.logLevel<=Wt.ERROR){const n=e.map(Zy);vu.error(`Firestore (${rh}): ${t}`,...n)}}function zc(t,...e){if(vu.logLevel<=Wt.WARN){const n=e.map(Zy);vu.warn(`Firestore (${rh}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,US(t,r,n)}function US(t,e,n){let r=`FIRESTORE (${rh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wa(r),new Error(r)}function cn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||US(e,i,r)}function Dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hi.UNAUTHENTICATED))}shutdown(){}}class l7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u7{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new da;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new da,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new da)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn(typeof r.accessToken=="string",31837,{l:r}),new BS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string",2055,{h:e}),new hi(e)}}class c7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){cn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=d7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Gt(t,e){return t<e?-1:t>e?1:0}function a2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Em(i)===Em(s)?Gt(i,s):Em(i)?1:-1}return Gt(t.length,e.length)}const p7=55296,m7=57343;function Em(t){const e=t.charCodeAt(0);return e>=p7&&e<=m7}function qc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__name__";class Ao{constructor(e,n,r){n===void 0?n=0:n>e.length&&At(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&At(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ao.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ao?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ao.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Gt(e.length,n.length)}static compareSegments(e,n){const r=Ao.isNumericId(e),i=Ao.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ao.extractNumericId(e).compare(Ao.extractNumericId(n)):a2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gl.fromString(e.substring(4,e.length-2))}}class Rn extends Ao{construct(e,n,r){return new Rn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rn(n)}static emptyPath(){return new Rn([])}}const g7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends Ao{construct(e,n,r){return new Wr(e,n,r)}static isValidIdentifier(e){return g7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jw}static keyField(){return new Wr([jw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(n)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Rn.fromString(e))}static fromName(e){return new vt(Rn.fromString(e).popFirst(5))}static empty(){return new vt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Rn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){if(!n)throw new qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y7(t,e,n,r){if(e===!0&&r===!0)throw new qe(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vw(t){if(!vt.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uw(t){if(vt.isDocumentKey(t))throw new qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function c1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At(12329,{type:typeof t})}function Sl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c1(t);throw new qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){const n={typeString:t};return e&&(n.value=e),n}function sd(t,e){if(!qS(t))throw new qe(Te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new qe(Te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=-62135596800,zw=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zw);return new Vn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bw)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zw}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sd(e,Vn._jsonSchema))return new Vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:yr("string",Vn._jsonSchemaVersion),seconds:yr("number"),nanoseconds:yr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Vn(0,0))}static max(){return new Ct(new Vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=-1;function v7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new El(i,vt.empty(),e)}function _7(t){return new El(t.readTime,t.key,Df)}class El{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new El(Ct.min(),vt.empty(),Df)}static max(){return new El(Ct.max(),vt.empty(),Df)}}function w7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:Gt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==b7)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ke((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function A7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}h1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=-1;function f1(t){return t==null}function S0(t){return t===0&&1/t==-1/0}function S7(t){return typeof t=="number"&&Number.isInteger(t)&&!S0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="";function E7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qw(e)),e=I7(t.get(n),e);return qw(e)}function I7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case $S:n+="";break;default:n+=s}}return n}function qw(t){return t+$S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){this.comparator=e,this.root=n||Hr.EMPTY}insert(e,n){return new Yn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ep(this.root,e,this.comparator,!0)}}class ep{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Hr.RED,this.left=i??Hr.EMPTY,this.right=s??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Hr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1;Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ir(this.comparator);return n.data=e,n}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new Ys([])}unionWith(e){let n=new Ir(Wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ys(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WS("Invalid base64 string: "+s):s}}(e);return new Qr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const N7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(cn(!!t,39018),typeof t=="string"){let e=0;const n=N7.exec(t);if(cn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(t.seconds),nanos:or(t.nanos)}}function or(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nl(t){return typeof t=="string"?Qr.fromBase64String(t):Qr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="server_timestamp",KS="__type__",YS="__previous_value__",QS="__local_write_time__";function n5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KS])==null?void 0:r.stringValue)===GS}function d1(t){const e=t.mapValue.fields[YS];return n5(e)?d1(e):e}function Of(t){const e=Il(t.mapValue.fields[QS].timestampValue);return new Vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const E0="(default)";class Mf{constructor(e,n){this.projectId=e,this.database=n||E0}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===E0}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="__type__",JS="__max__",tp={mapValue:{fields:{__type__:{stringValue:JS}}}},ZS="__vector__",I0="value";function Tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n5(t)?4:P7(t)?9007199254740991:k7(t)?10:11:At(28295,{value:t})}function Uo(t,e){if(t===e)return!0;const n=Tl(t);if(n!==Tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Of(t).isEqual(Of(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Il(i.timestampValue),a=Il(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nl(i.bytesValue).isEqual(Nl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return or(i.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return or(i.integerValue)===or(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=or(i.doubleValue),a=or(s.doubleValue);return o===a?S0(o)===S0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qc(t.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($w(o)!==$w(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Uo(o[l],a[l])))return!1;return!0}(t,e);default:return At(52216,{left:t})}}function Ff(t,e){return(t.values||[]).find(n=>Uo(n,e))!==void 0}function $c(t,e){if(t===e)return 0;const n=Tl(t),r=Tl(e);if(n!==r)return Gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=or(s.integerValue||s.doubleValue),l=or(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ww(t.timestampValue,e.timestampValue);case 4:return Ww(Of(t),Of(e));case 5:return a2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Nl(s),l=Nl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Gt(a[u],l[u]);if(d!==0)return d}return Gt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Gt(or(s.latitude),or(o.latitude));return a!==0?a:Gt(or(s.longitude),or(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var v,p,k,E;const a=s.fields||{},l=o.fields||{},u=(v=a[I0])==null?void 0:v.arrayValue,d=(p=l[I0])==null?void 0:p.arrayValue,g=Gt(((k=u==null?void 0:u.values)==null?void 0:k.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return g!==0?g:Gw(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tp.mapValue&&o===tp.mapValue)return 0;if(s===tp.mapValue)return 1;if(o===tp.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let g=0;g<l.length&&g<d.length;++g){const v=a2(l[g],d[g]);if(v!==0)return v;const p=$c(a[l[g]],u[d[g]]);if(p!==0)return p}return Gt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw At(23264,{he:n})}}function Ww(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Gt(t,e);const n=Il(t),r=Il(e),i=Gt(n.seconds,r.seconds);return i!==0?i:Gt(n.nanos,r.nanos)}function Gw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$c(n[i],r[i]);if(s)return s}return Gt(n.length,r.length)}function Hc(t){return l2(t)}function l2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Il(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=l2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${l2(n.fields[o])}`;return i+"}"}(t.mapValue):At(61005,{value:t})}function Lp(t){switch(Tl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=d1(t);return e?16+Lp(e):16;case 5:return 2*t.stringValue.length;case 6:return Nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Lp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Nu(r.fields,(s,o)=>{i+=s.length+Lp(o)}),i}(t.mapValue);default:throw At(13486,{value:t})}}function Kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u2(t){return!!t&&"integerValue"in t}function r5(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rp(t){return!!t&&"mapValue"in t}function k7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XS])==null?void 0:r.stringValue)===ZS}function af(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Nu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=af(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=af(t.arrayValue.values[n]);return e}return{...t}}function P7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.value=e}static empty(){return new Ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=af(n)}setAll(e){let n=Wr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=af(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Nu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ts(af(this.value))}}function eE(t){const e=[];return Nu(t.fields,(n,r)=>{const i=new Wr([n]);if(Rp(r)){const s=eE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ys(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new di(e,0,Ct.min(),Ct.min(),Ct.min(),Ts.empty(),0)}static newFoundDocument(e,n,r,i){return new di(e,1,n,Ct.min(),r,i,0)}static newNoDocument(e,n){return new di(e,2,n,Ct.min(),Ct.min(),Ts.empty(),0)}static newUnknownDocument(e,n){return new di(e,3,n,Ct.min(),Ct.min(),Ts.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.position=e,this.inclusive=n}}function Xw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=vt.comparator(vt.fromName(o.referenceValue),n.key):r=$c(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Uo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function C7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{}class gr extends tE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R7(e,n,r):n==="array-contains"?new M7(e,r):n==="in"?new F7(e,r):n==="not-in"?new j7(e,r):n==="array-contains-any"?new V7(e,r):new gr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D7(e,r):new O7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($c(n,this.value)):n!==null&&Tl(this.value)===Tl(n)&&this.matchesComparison($c(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class to extends tE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new to(e,n)}matches(e){return nE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nE(t){return t.op==="and"}function rE(t){return L7(t)&&nE(t)}function L7(t){for(const e of t.filters)if(e instanceof to)return!1;return!0}function c2(t){if(t instanceof gr)return t.field.canonicalString()+t.op.toString()+Hc(t.value);if(rE(t))return t.filters.map(e=>c2(e)).join(",");{const e=t.filters.map(n=>c2(n)).join(",");return`${t.op}(${e})`}}function iE(t,e){return t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.field.isEqual(i.field)&&Uo(r.value,i.value)}(t,e):t instanceof to?function(r,i){return i instanceof to&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iE(o,i.filters[a]),!0):!1}(t,e):void At(19439)}function sE(t){return t instanceof gr?function(n){return`${n.field.canonicalString()} ${n.op} ${Hc(n.value)}`}(t):t instanceof to?function(n){return n.op.toString()+" {"+n.getFilters().map(sE).join(" ,")+"}"}(t):"Filter"}class R7 extends gr{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class D7 extends gr{constructor(e,n){super(e,"in",n),this.keys=oE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O7 extends gr{constructor(e,n){super(e,"not-in",n),this.keys=oE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class M7 extends gr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r5(n)&&Ff(n.arrayValue,this.value)}}class F7 extends gr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ff(this.value.arrayValue,n)}}class j7 extends gr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ff(this.value.arrayValue,n)}}class V7 extends gr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ff(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Zw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new U7(t,e,n,r,i,s,o)}function i5(t){const e=Dt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>c2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),f1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hc(r)).join(",")),e.Te=n}return e.Te}function s5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jw(t.startAt,e.startAt)&&Jw(t.endAt,e.endAt)}function h2(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B7(t,e,n,r,i,s,o,a){return new oh(t,e,n,r,i,s,o,a)}function o5(t){return new oh(t)}function eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aE(t){return t.collectionGroup!==null}function lf(t){const e=Dt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ir(Wr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new jf(s,r))}),n.has(Wr.keyField().canonicalString())||e.Ie.push(new jf(Wr.keyField(),r))}return e.Ie}function Co(t){const e=Dt(t);return e.Ee||(e.Ee=z7(e,lf(t))),e.Ee}function z7(t,e){if(t.limitType==="F")return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jf(i.field,s)});const n=t.endAt?new N0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new N0(t.startAt.position,t.startAt.inclusive):null;return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f2(t,e){const n=t.filters.concat([e]);return new oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d2(t,e,n){return new oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function p1(t,e){return s5(Co(t),Co(e))&&t.limitType===e.limitType}function lE(t){return`${i5(Co(t))}|lt:${t.limitType}`}function Ju(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sE(i)).join(", ")}]`),f1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hc(i)).join(",")),`Target(${r})`}(Co(t))}; limitType=${t.limitType})`}function m1(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):vt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of lf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Xw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,lf(r),i)||r.endAt&&!function(o,a,l){const u=Xw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,lf(r),i))}(t,e)}function q7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uE(t){return(e,n)=>{let r=!1;for(const i of lf(t)){const s=$7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $7(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?$c(l,u):At(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new Yn(vt.comparator);function ba(){return H7}const cE=new Yn(vt.comparator);function $h(...t){let e=cE;for(const n of t)e=e.insert(n.key,n);return e}function hE(t){let e=cE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function tu(){return uf()}function fE(){return uf()}function uf(){return new Tu(t=>t.toString(),(t,e)=>t.isEqual(e))}const W7=new Yn(vt.comparator),G7=new Ir(vt.comparator);function Kt(...t){let e=G7;for(const n of t)e=e.add(n);return e}const K7=new Ir(Gt);function Y7(){return K7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S0(e)?"-0":e}}function dE(t){return{integerValue:""+t}}function Q7(t,e){return S7(e)?dE(e):a5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this._=void 0}}function X7(t,e,n){return t instanceof Vf?function(i,s){const o={fields:{[KS]:{stringValue:GS},[QS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&n5(s)&&(s=d1(s)),s&&(o.fields[YS]=s),{mapValue:o}}(n,e):t instanceof Uf?mE(t,e):t instanceof Bf?gE(t,e):function(i,s){const o=pE(i,s),a=tb(o)+tb(i.Ae);return u2(o)&&u2(i.Ae)?dE(a):a5(i.serializer,a)}(t,e)}function J7(t,e,n){return t instanceof Uf?mE(t,e):t instanceof Bf?gE(t,e):n}function pE(t,e){return t instanceof T0?function(r){return u2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vf extends g1{}class Uf extends g1{constructor(e){super(),this.elements=e}}function mE(t,e){const n=yE(e);for(const r of t.elements)n.some(i=>Uo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bf extends g1{constructor(e){super(),this.elements=e}}function gE(t,e){let n=yE(e);for(const r of t.elements)n=n.filter(i=>!Uo(i,r));return{arrayValue:{values:n}}}class T0 extends g1{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tb(t){return or(t.integerValue||t.doubleValue)}function yE(t){return r5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.field=e,this.transform=n}}function eD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uf&&i instanceof Uf||r instanceof Bf&&i instanceof Bf?qc(r.elements,i.elements,Uo):r instanceof T0&&i instanceof T0?Uo(r.Ae,i.Ae):r instanceof Vf&&i instanceof Vf}(t.transform,e.transform)}class tD{constructor(e,n){this.version=e,this.transformResults=n}}class Lo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lo}static exists(e){return new Lo(void 0,e)}static updateTime(e){return new Lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class y1{}function vE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wE(t.key,Lo.none()):new od(t.key,t.data,Lo.none());{const n=t.data,r=Ts.empty();let i=new Ir(Wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ku(t.key,r,new Ys(i.toArray()),Lo.none())}}function nD(t,e,n){t instanceof od?function(i,s,o){const a=i.value.clone(),l=rb(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ku?function(i,s,o){if(!Dp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(_E(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cf(t,e,n,r){return t instanceof od?function(s,o,a,l){if(!Dp(s.precondition,o))return a;const u=s.value.clone(),d=ib(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ku?function(s,o,a,l){if(!Dp(s.precondition,o))return a;const u=ib(s.fieldTransforms,l,o),d=o.data;return d.setAll(_E(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return Dp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pE(r.transform,i||null);s!=null&&(n===null&&(n=Ts.empty()),n.set(r.field,s))}return n||null}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qc(r,i,(s,o)=>eD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends y1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ku extends y1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _E(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rb(t,e,n){const r=new Map;cn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,J7(o,a,n[i]))}return r}function ib(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,X7(s,o,e))}return r}class wE extends y1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends y1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=vE(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(n,r)=>nb(n,r))&&qc(this.baseMutations,e.baseMutations,(n,r)=>nb(n,r))}}class l5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){cn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return W7}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr,en;function lD(t){switch(t){case Te.OK:return At(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return At(15467,{code:t})}}function bE(t){if(t===void 0)return wa("GRPC error has no .code"),Te.UNKNOWN;switch(t){case pr.OK:return Te.OK;case pr.CANCELLED:return Te.CANCELLED;case pr.UNKNOWN:return Te.UNKNOWN;case pr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case pr.INTERNAL:return Te.INTERNAL;case pr.UNAVAILABLE:return Te.UNAVAILABLE;case pr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case pr.NOT_FOUND:return Te.NOT_FOUND;case pr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case pr.ABORTED:return Te.ABORTED;case pr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case pr.DATA_LOSS:return Te.DATA_LOSS;default:return At(39323,{code:t})}}(en=pr||(pr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new gl([4294967295,4294967295],0);function sb(t){const e=uD().encode(t),n=new DS;return n.update(e),new Uint8Array(n.digest())}function ob(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gl([n,r],0),new gl([i,s],0)]}class u5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hh(`Invalid padding: ${n}`);if(r<0)throw new Hh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(gl.fromNumber(r)));return i.compare(cD)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sb(e),[r,i]=ob(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new u5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=sb(e),[r,i]=ob(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new v1(Ct.min(),i,new Yn(Gt),ba(),Kt())}}class ad{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ad(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class xE{constructor(e,n){this.targetId=e,this.Ce=n}}class AE{constructor(e,n,r=Qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ab{constructor(){this.ve=0,this.Fe=lb(),this.Me=Qr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),n=Kt(),r=Kt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:At(38017,{changeType:s})}}),new ad(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,cn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ba(),this.Je=np(),this.He=np(),this.Ye=new Yn(Gt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:At(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(h2(s))if(r===0){const o=new vt(s.path);this.et(n,o,di.newNoDocument(o,Ct.min()))}else cn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Nl(r).toUint8Array()}catch(l){if(l instanceof WS)return zc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new u5(o,i,s)}catch(l){return zc(l instanceof Hh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&h2(a.target)){const l=new vt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,di.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Kt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new v1(e,n,this.Ye,this.je,r);return this.je=ba(),this.Je=np(),this.He=np(),this.Ye=new Yn(Gt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ab,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ir(Gt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ir(Gt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ab),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function np(){return new Yn(vt.comparator)}function lb(){return new Yn(vt.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class mD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p2(t,e){return t.useProto3Json||f1(e)?e:{value:e}}function k0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gD(t,e){return k0(t,e.toTimestamp())}function Ro(t){return cn(!!t,49232),Ct.fromTimestamp(function(n){const r=Il(n);return new Vn(r.seconds,r.nanos)}(t))}function c5(t,e){return m2(t,e).canonicalString()}function m2(t,e){const n=function(i){return new Rn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EE(t){const e=Rn.fromString(t);return cn(PE(e),10190,{key:e.toString()}),e}function g2(t,e){return c5(t.databaseId,e.path)}function Im(t,e){const n=EE(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(NE(n))}function IE(t,e){return c5(t.databaseId,e)}function yD(t){const e=EE(t);return e.length===4?Rn.emptyPath():NE(e)}function y2(t){return new Rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NE(t){return cn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ub(t,e,n){return{name:g2(t,e),fields:n.value.mapValue.fields}}function vD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:At(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(cn(d===void 0||typeof d=="string",58123),Qr.fromBase64String(d||"")):(cn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Qr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Te.UNKNOWN:bE(u.code);return new qe(d,u.message||"")}(o);n=new AE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Im(t,r.document.name),s=Ro(r.document.updateTime),o=r.document.createTime?Ro(r.document.createTime):Ct.min(),a=new Ts({mapValue:{fields:r.document.fields}}),l=di.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Op(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Im(t,r.document),s=r.readTime?Ro(r.readTime):Ct.min(),o=di.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Op([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Im(t,r.document),s=r.removedTargetIds||[];n=new Op([],s,i,null)}else{if(!("filter"in e))return At(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aD(i,s),a=r.targetId;n=new xE(a,o)}}return n}function _D(t,e){let n;if(e instanceof od)n={update:ub(t,e.key,e.value)};else if(e instanceof wE)n={delete:g2(t,e.key)};else if(e instanceof ku)n={update:ub(t,e.key,e.data),updateMask:TD(e.fieldMask)};else{if(!(e instanceof iD))return At(16599,{Vt:e.type});n={verify:g2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Vf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof T0)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw At(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:At(27497)}(t,e.precondition)),n}function wD(t,e){return t&&t.length>0?(cn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Ro(i.updateTime):Ro(s);return o.isEqual(Ct.min())&&(o=Ro(s)),new tD(o,i.transformResults||[])}(n,e))):[]}function bD(t,e){return{documents:[IE(t,e.path)]}}function xD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IE(t,i);const s=function(u){if(u.length!==0)return kE(to.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(v){return{field:Zu(v.field),direction:ED(v.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=p2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function AD(t){let e=yD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){cn(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(g){const v=TE(g);return v instanceof to&&rE(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(k){return new jf(ec(k.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(g){let v;return v=typeof g=="object"?g.value:g,f1(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(g){const v=!!g.before,p=g.values||[];return new N0(p,v)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const v=!g.before,p=g.values||[];return new N0(p,v)}(n.endAt)),B7(e,i,o,s,a,"F",l,u)}function SD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ec(n.unaryFilter.field);return gr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ec(n.unaryFilter.field);return gr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ec(n.unaryFilter.field);return gr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ec(n.unaryFilter.field);return gr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(t):t.fieldFilter!==void 0?function(n){return gr.create(ec(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return to.create(n.compositeFilter.filters.map(r=>TE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(t):At(30097,{filter:t})}function ED(t){return fD[t]}function ID(t){return dD[t]}function ND(t){return pD[t]}function Zu(t){return{fieldPath:t.canonicalString()}}function ec(t){return Wr.fromServerFormat(t.fieldPath)}function kE(t){return t instanceof gr?function(n){if(n.op==="=="){if(Qw(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qw(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:Zu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zu(n.field),op:ID(n.op),value:n.value}}}(t):t instanceof to?function(n){const r=n.getFilters().map(i=>kE(i));return r.length===1?r[0]:{compositeFilter:{op:ND(n.op),filters:r}}}(t):At(54877,{filter:t})}function TD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r,i,s=Ct.min(),o=Ct.min(),a=Qr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.yt=e}}function PD(t){const e=AD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.Cn=new LD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(El.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(El.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class LD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ir(Rn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ir(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CE=41943040;class ji{static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(CE,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wc(0)}static cr(){return new Wc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="LruGarbageCollector",RD=1048576;function fb([t,e],[n,r]){const i=Gt(t,n);return i===0?Gt(e,r):i}class DD{constructor(e){this.Ir=e,this.buffer=new Ir(fb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sh(n)?Ge(hb,"Ignoring IndexedDB error during garbage collection: ",n):await ih(n)}await this.Vr(3e5)})}}class MD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ke.resolve(h1.ce);const r=new DD(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(cb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),Xu()<=Wt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function FD(t,e){return new MD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.changes=new Tu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cf(r.mutation,i,Ys.empty(),Vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Kt()){const i=tu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$h();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=tu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Kt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ba();const o=uf(),a=function(){return uf()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ku)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),cf(d.mutation,u,d.mutation.getFieldMask(),Vn.now())):o.set(u.key,Ys.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new VD(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=uf();let i=new Yn((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Ys.empty();d=a.applyToLocalView(u,d),r.set(l,d);const g=(i.get(a.batchId)||Kt()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,g=fE();d.forEach(v=>{if(!s.has(v)){const p=vE(n.get(v),r.get(v));p!==null&&g.set(v,p),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return vt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(tu());let a=Df,l=s;return o.next(u=>ke.forEach(u,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?ke.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{l=l.insert(d,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Kt())).next(d=>({batchId:a,changes:hE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=$h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=$h();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,l=>{const u=function(g,v){return new oh(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,di.newInvalidDocument(d)))});let a=$h();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&cf(d.mutation,u,Ys.empty(),Vn.now()),m1(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ke.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ro(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:PD(i.bundledQuery),readTime:Ro(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.overlays=new Yn(vt.comparator),this.qr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tu();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=tu(),s=n.length+1,o=new vt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Yn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=tu(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=tu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return ke.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oD(n,r));let s=this.qr.get(n);s===void 0&&(s=Kt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=Qr.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.Qr=new Ir(Rr.$r),this.Ur=new Ir(Rr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Rr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new vt(new Rn([])),r=new Rr(n,e),i=new Rr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new vt(new Rn([])),r=new Rr(n,e),i=new Rr(n,e+1);let s=Kt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return vt.comparator(e.key,n.key)||Gt(e.Yr,n.Yr)}static Kr(e,n){return Gt(e.Yr,n.Yr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ir(Rr.$r)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Rr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?t5:this.tr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rr(n,0),i=new Rr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ir(Gt);return n.forEach(i=>{const s=new Rr(i,0),o=new Rr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;vt.isDocumentKey(s)||(s=s.child(""));const o=new Rr(new vt(s),0);let a=new Ir(Gt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),ke.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){cn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ke.forEach(n.mutations,i=>{const s=new Rr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Rr(n,0),i=this.Zr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.ri=e,this.docs=function(){return new Yn(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():di.newInvalidDocument(n))}getEntries(e,n){let r=ba();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():di.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ba();const o=n.path,a=new vt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||w7(_7(d),r)<=0||(i.has(d.key)||m1(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){At(9500)}ii(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WD(this)}getSize(e){return ke.resolve(this.size)}}class WD extends jD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.persistence=e,this.si=new Tu(n=>i5(n),s5),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new h5,this.targetCount=0,this.ai=Wc.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ke.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Pr(n),ke.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.ui={},this.overlays={},this.ci=new h1(0),this.li=!1,this.li=!0,this.hi=new qD,this.referenceDelegate=e(this),this.Pi=new GD(this),this.indexManager=new CD,this.remoteDocumentCache=function(i){return new HD(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new kD(n),this.Ii=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $D(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new KD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return ke.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class KD extends x7{constructor(e){super(),this.currentSequenceNumber=e}}class f5{constructor(e){this.persistence=e,this.Ri=new h5,this.Vi=null}static mi(e){return new f5(e)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,r=>{const i=vt.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Ct.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ke.or([()=>ke.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class P0{constructor(e,n){this.persistence=e,this.pi=new Tu(r=>E7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FD(this,n)}static mi(e,n){return new P0(e,n)}Ei(){}di(e){return ke.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ke.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ke.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Ct.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lp(e.data.value)),n}br(e,n,r){return ke.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new d5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yP()?8:A7(mi())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YD;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Xu()<=Wt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",Ju(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(Xu()<=Wt.DEBUG&&Ge("QueryEngine","Query:",Ju(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Xu()<=Wt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",Ju(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Co(n))):ke.resolve())}ys(e,n){if(eb(n))return ke.resolve(null);let r=Co(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=d2(n,null,"F"),r=Co(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Kt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,d2(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return eb(n)||i.isEqual(Ct.min())?ke.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?ke.resolve(null):(Xu()<=Wt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ju(n)),this.vs(e,o,n,v7(i,Df)).next(a=>a))})}Ds(e,n){let r=new Ir(uE(e));return n.forEach((i,s)=>{m1(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Xu()<=Wt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Ju(n)),this.ps.getDocumentsMatchingQuery(e,n,El.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="LocalStore",XD=3e8;class JD{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Yn(Gt),this.xs=new Tu(s=>i5(s),s5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function ZD(t,e,n,r){return new JD(t,e,n,r)}async function RE(t,e){const n=Dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Kt();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function e9(t,e){const n=Dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const g=u.batch,v=g.keys();let p=ke.resolve();return v.forEach(k=>{p=p.next(()=>d.getEntry(l,k)).next(E=>{const B=u.docVersions.get(k);cn(B!==null,48541),E.version.compareTo(B)<0&&(g.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Kt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DE(t){const e=Dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function t9(t,e){const n=Dt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,g)=>{const v=i.get(g);if(!v)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,g)));let p=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?p=p.withResumeToken(Qr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(g,p),function(E,B,x){return E.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=XD?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,p,d)&&a.push(n.Pi.updateTargetData(s,p))});let l=ba(),u=Kt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(n9(s,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(Ct.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function n9(t,e,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ba();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ge(p5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function r9(t,e){const n=Dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=t5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function i9(t,e){const n=Dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new rl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function v2(t,e,n){const r=Dt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!sh(o))throw o;Ge(p5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function db(t,e,n){const r=Dt(t);let i=Ct.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const g=Dt(l),v=g.xs.get(d);return v!==void 0?ke.resolve(g.Ms.get(v)):g.Pi.getTargetData(u,d)}(r,o,Co(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Ct.min(),n?s:Kt())).next(a=>(s9(r,q7(e),a),{documents:a,Qs:s})))}function s9(t,e,n){let r=t.Os.get(e)||Ct.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class pb{constructor(){this.activeTargetIds=Y7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o9{constructor(){this.Mo=new pb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(mb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(mb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp=null;function _2(){return rp===null?rp=function(){return 268435456+Math.round(2147483648*Math.random())}():rp++,"0x"+rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",l9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===E0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=_2(),a=this.zo(e,n.toUriEncodedString());Ge(Nm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),d=eh(u);return this.Jo(e,a,l,r,d).then(g=>(Ge(Nm,`Received RPC '${e}' ${o}: `,g),g),g=>{throw zc(Nm,`RPC '${e}' ${o} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=l9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class h9 extends u9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=_2();return new Promise((a,l)=>{const u=new OS;u.setWithCredentials(!0),u.listenOnce(MS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cp.NO_ERROR:const g=u.getResponseJson();Ge(oi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),a(g);break;case Cp.TIMEOUT:Ge(oi,`RPC '${e}' ${o} timed out`),l(new qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:const v=u.getStatus();if(Ge(oi,`RPC '${e}' ${o} failed with status:`,v,"response text:",u.getResponseText()),v>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const k=p==null?void 0:p.error;if(k&&k.status&&k.message){const E=function(x){const P=x.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(P)>=0?P:Te.UNKNOWN}(k.status);l(new qe(E,k.message))}else l(new qe(Te.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new qe(Te.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ge(oi,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ge(oi,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=_2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VS(),a=jS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ge(oi,`Creating RPC '${e}' stream ${i}: ${d}`,l);const g=o.createWebChannel(d,l);this.I_(g);let v=!1,p=!1;const k=new c9({Yo:B=>{p?Ge(oi,`Not sending because RPC '${e}' stream ${i} is closed:`,B):(v||(Ge(oi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ge(oi,`RPC '${e}' stream ${i} sending:`,B),g.send(B))},Zo:()=>g.close()}),E=(B,x,P)=>{B.listen(x,R=>{try{P(R)}catch(U){setTimeout(()=>{throw U},0)}})};return E(g,qh.EventType.OPEN,()=>{p||(Ge(oi,`RPC '${e}' stream ${i} transport opened.`),k.o_())}),E(g,qh.EventType.CLOSE,()=>{p||(p=!0,Ge(oi,`RPC '${e}' stream ${i} transport closed`),k.a_(),this.E_(g))}),E(g,qh.EventType.ERROR,B=>{p||(p=!0,zc(oi,`RPC '${e}' stream ${i} transport errored. Name:`,B.name,"Message:",B.message),k.a_(new qe(Te.UNAVAILABLE,"The operation could not be completed")))}),E(g,qh.EventType.MESSAGE,B=>{var x;if(!p){const P=B.data[0];cn(!!P,16349);const R=P,U=(R==null?void 0:R.error)||((x=R[0])==null?void 0:x.error);if(U){Ge(oi,`RPC '${e}' stream ${i} received error:`,U);const Z=U.status;let ie=function(S){const D=pr[S];if(D!==void 0)return bE(D)}(Z),M=U.message;ie===void 0&&(ie=Te.INTERNAL,M="Unknown error status: "+Z+" with message "+U.message),p=!0,k.a_(new qe(ie,M)),g.close()}else Ge(oi,`RPC '${e}' stream ${i} received:`,P),k.u_(P)}}),E(a,FS.STAT_EVENT,B=>{B.stat===o2.PROXY?Ge(oi,`RPC '${e}' stream ${i} detected buffering proxy`):B.stat===o2.NOPROXY&&Ge(oi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){return new mD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class ME{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(wa(n.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new qe(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ge(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Ge(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f9 extends ME{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vD(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ct.min():o.readTime?Ro(o.readTime):Ct.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=y2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=h2(l)?{documents:bD(s,l)}:{query:xD(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SE(s,o.resumeToken);const u=p2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ct.min())>0){a.readTime=k0(s,o.snapshotVersion.toTimestamp());const u=p2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=SD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=y2(this.serializer),n.removeTarget=e,this.q_(n)}}class d9 extends ME{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wD(e.writeResults,e.commitTime),r=Ro(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=y2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_D(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{}class m9 extends p9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,m2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qe(Te.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,m2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Te.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class g9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wa(n),this.aa=!1):Ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="RemoteStore";class y9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Pu(this)&&(Ge(_u,"Restarting streams for network reachability change."),await async function(l){const u=Dt(l);u.Ea.add(4),await ld(u),u.Ra.set("Unknown"),u.Ea.delete(4),await w1(u)}(this))})}),this.Ra=new g9(r,i)}}async function w1(t){if(Pu(t))for(const e of t.da)await e(!0)}async function ld(t){for(const e of t.da)await e(!1)}function FE(t,e){const n=Dt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),v5(n)?y5(n):ah(n).O_()&&g5(n,e))}function m5(t,e){const n=Dt(t),r=ah(n);n.Ia.delete(e),r.O_()&&jE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pu(n)&&n.Ra.set("Unknown"))}function g5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ah(t).Y_(e)}function jE(t,e){t.Va.Ue(e),ah(t).Z_(e)}function y5(t){t.Va=new hD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ah(t).start(),t.Ra.ua()}function v5(t){return Pu(t)&&!ah(t).x_()&&t.Ia.size>0}function Pu(t){return Dt(t).Ea.size===0}function VE(t){t.Va=void 0}async function v9(t){t.Ra.set("Online")}async function _9(t){t.Ia.forEach((e,n)=>{g5(t,e)})}async function w9(t,e){VE(t),v5(t)?(t.Ra.ha(e),y5(t)):t.Ra.set("Unknown")}async function b9(t,e,n){if(t.Ra.set("Online"),e instanceof AE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Ge(_u,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await C0(t,r)}else if(e instanceof Op?t.Va.Ze(e):e instanceof xE?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ct.min()))try{const r=await DE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Qr.EMPTY_BYTE_STRING,d.snapshotVersion)),jE(s,l);const g=new rl(d.target,l,u,d.sequenceNumber);g5(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ge(_u,"Failed to raise snapshot:",r),await C0(t,r)}}async function C0(t,e,n){if(!sh(e))throw e;t.Ea.add(1),await ld(t),t.Ra.set("Offline"),n||(n=()=>DE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ge(_u,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await w1(t)})}function UE(t,e){return e().catch(n=>C0(t,n,e))}async function b1(t){const e=Dt(t),n=kl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t5;for(;x9(e);)try{const i=await r9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,A9(e,i)}catch(i){await C0(e,i)}BE(e)&&zE(e)}function x9(t){return Pu(t)&&t.Ta.length<10}function A9(t,e){t.Ta.push(e);const n=kl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function BE(t){return Pu(t)&&!kl(t).x_()&&t.Ta.length>0}function zE(t){kl(t).start()}async function S9(t){kl(t).ra()}async function E9(t){const e=kl(t);for(const n of t.Ta)e.ea(n.mutations)}async function I9(t,e,n){const r=t.Ta.shift(),i=l5.from(r,e,n);await UE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await b1(t)}async function N9(t,e){e&&kl(t).X_&&await async function(r,i){if(function(o){return lD(o)&&o!==Te.ABORTED}(i.code)){const s=r.Ta.shift();kl(r).B_(),await UE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await b1(r)}}(t,e),BE(t)&&zE(t)}async function vb(t,e){const n=Dt(t);n.asyncQueue.verifyOperationInProgress(),Ge(_u,"RemoteStore received new credentials");const r=Pu(n);n.Ea.add(3),await ld(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await w1(n)}async function T9(t,e){const n=Dt(t);e?(n.Ea.delete(2),await w1(n)):e||(n.Ea.add(2),await ld(n),n.Ra.set("Unknown"))}function ah(t){return t.ma||(t.ma=function(n,r,i){const s=Dt(n);return s.sa(),new f9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:v9.bind(null,t),t_:_9.bind(null,t),r_:w9.bind(null,t),H_:b9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),v5(t)?y5(t):t.Ra.set("Unknown")):(await t.ma.stop(),VE(t))})),t.ma}function kl(t){return t.fa||(t.fa=function(n,r,i){const s=Dt(n);return s.sa(),new d9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:S9.bind(null,t),r_:N9.bind(null,t),ta:E9.bind(null,t),na:I9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await b1(t)):(await t.fa.stop(),t.Ta.length>0&&(Ge(_u,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w5(t,e){if(wa("AsyncQueue",`${e}: ${t}`),sh(t))return new qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{static emptySet(e){return new Ic(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=$h(),this.sortedSet=new Yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.ga=new Yn(vt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):At(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gc(e,n,Ic.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class P9{constructor(){this.queries=wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Dt(n),s=i.queries;i.queries=wb(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new qe(Te.ABORTED,"Firestore shutting down"))}}function wb(){return new Tu(t=>lE(t),p1)}async function qE(t,e){const n=Dt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new k9,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=w5(o,`Initialization of query '${Ju(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&b5(n)}async function $E(t,e){const n=Dt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C9(t,e){const n=Dt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&b5(n)}function L9(t,e,n){const r=Dt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function b5(t){t.Ca.forEach(e=>{e.next()})}var w2,bb;(bb=w2||(w2={})).Ma="default",bb.Cache="cache";class HE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==w2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.key=e}}class GE{constructor(e){this.key=e}}class R9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=uE(e),this.tu=new Ic(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _b,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{const v=i.get(d),p=m1(this.query,g)?g:null,k=!!v&&this.mutatedKeys.has(v.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let B=!1;v&&p?v.data.isEqual(p.data)?k!==E&&(r.track({type:3,doc:p}),B=!0):this.su(v,p)||(r.track({type:2,doc:p}),B=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!v&&p?(r.track({type:0,doc:p}),B=!0):v&&!p&&(r.track({type:1,doc:v}),B=!0,(l||u)&&(a=!0)),B&&(p?(o=o.add(p),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,g)=>function(p,k){const E=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:B})}};return E(p)-E(k)}(d.type,g.type)||this.eu(d.doc,g.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Gc(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new GE(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new WE(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Kt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const x5="SyncEngine";class D9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O9{constructor(e){this.key=e,this.hu=!1}}class M9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Tu(a=>lE(a),p1),this.Iu=new Map,this.Eu=new Set,this.du=new Yn(vt.comparator),this.Au=new Map,this.Ru=new h5,this.Vu={},this.mu=new Map,this.fu=Wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F9(t,e,n=!0){const r=ZE(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await KE(r,e,n,!0),i}async function j9(t,e){const n=ZE(t);await KE(n,e,!0,!1)}async function KE(t,e,n,r){const i=await i9(t.localStore,Co(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await V9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FE(t.remoteStore,i),a}async function V9(t,e,n,r,i){t.pu=(g,v,p)=>async function(E,B,x,P){let R=B.view.ru(x);R.Cs&&(R=await db(E.localStore,B.query,!1).then(({documents:M})=>B.view.ru(M,R)));const U=P&&P.targetChanges.get(B.targetId),Z=P&&P.targetMismatches.get(B.targetId)!=null,ie=B.view.applyChanges(R,E.isPrimaryClient,U,Z);return Ab(E,B.targetId,ie.au),ie.snapshot}(t,g,v,p);const s=await db(t.localStore,e,!0),o=new R9(e,s.Qs),a=o.ru(s.documents),l=ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Ab(t,n,u.au);const d=new D9(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function U9(t,e,n){const r=Dt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!p1(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&m5(r.remoteStore,i.targetId),b2(r,i.targetId)}).catch(ih)):(b2(r,i.targetId),await v2(r.localStore,i.targetId,!0))}async function B9(t,e){const n=Dt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),m5(n.remoteStore,r.targetId))}async function z9(t,e,n){const r=Y9(t);try{const i=await function(o,a){const l=Dt(o),u=Vn.now(),d=a.reduce((p,k)=>p.add(k.key),Kt());let g,v;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let k=ba(),E=Kt();return l.Ns.getEntries(p,d).next(B=>{k=B,k.forEach((x,P)=>{P.isValidDocument()||(E=E.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,k)).next(B=>{g=B;const x=[];for(const P of a){const R=rD(P,g.get(P.key).overlayedDocument);R!=null&&x.push(new ku(P.key,R,eE(R.value.mapValue),Lo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,x,a)}).next(B=>{v=B;const x=B.applyToLocalDocumentSet(g,E);return l.documentOverlayCache.saveOverlays(p,B.batchId,x)})}).then(()=>({batchId:v.batchId,changes:hE(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Yn(Gt)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await ud(r,i.changes),await b1(r.remoteStore)}catch(i){const s=w5(i,"Failed to persist write");n.reject(s)}}async function YE(t,e){const n=Dt(t);try{const r=await t9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?cn(o.hu,14607):i.removedDocuments.size>0&&(cn(o.hu,42227),o.hu=!1))}),await ud(n,r,e)}catch(r){await ih(r)}}function xb(t,e,n){const r=Dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Dt(o);l.onlineState=a;let u=!1;l.queries.forEach((d,g)=>{for(const v of g.Sa)v.va(a)&&(u=!0)}),u&&b5(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q9(t,e,n){const r=Dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Yn(vt.comparator);o=o.insert(s,di.newNoDocument(s,Ct.min()));const a=Kt().add(s),l=new v1(Ct.min(),new Map,new Yn(Gt),o,a);await YE(r,l),r.du=r.du.remove(s),r.Au.delete(e),A5(r)}else await v2(r.localStore,e,!1).then(()=>b2(r,e,n)).catch(ih)}async function $9(t,e){const n=Dt(t),r=e.batch.batchId;try{const i=await e9(n.localStore,e);XE(n,r,null),QE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ud(n,i)}catch(i){await ih(i)}}async function H9(t,e,n){const r=Dt(t);try{const i=await function(o,a){const l=Dt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(cn(g!==null,37113),d=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);XE(r,e,n),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ud(r,i)}catch(i){await ih(i)}}function QE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function XE(t,e,n){const r=Dt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function b2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||JE(t,r)})}function JE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(m5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),A5(t))}function Ab(t,e,n){for(const r of n)r instanceof WE?(t.Ru.addReference(r.key,e),W9(t,r)):r instanceof GE?(Ge(x5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JE(t,r.key)):At(19791,{wu:r})}function W9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ge(x5,"New document in limbo: "+n),t.Eu.add(r),A5(t))}function A5(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new vt(Rn.fromString(e)),r=t.fu.next();t.Au.set(r,new O9(n)),t.du=t.du.insert(n,r),FE(t.remoteStore,new rl(Co(o5(n.path)),r,"TargetPurposeLimboResolution",h1.ce))}}async function ud(t,e,n){const r=Dt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const g=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){i.push(u);const g=d5.As(l.targetId,u);s.push(g)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const d=Dt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ke.forEach(u,v=>ke.forEach(v.Es,p=>d.persistence.referenceDelegate.addReference(g,v.targetId,p)).next(()=>ke.forEach(v.ds,p=>d.persistence.referenceDelegate.removeReference(g,v.targetId,p)))))}catch(g){if(!sh(g))throw g;Ge(p5,"Failed to update sequence numbers: "+g)}for(const g of u){const v=g.targetId;if(!g.fromCache){const p=d.Ms.get(v),k=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(k);d.Ms=d.Ms.insert(v,E)}}}(r.localStore,s))}async function G9(t,e){const n=Dt(t);if(!n.currentUser.isEqual(e)){Ge(x5,"User change. New user:",e.toKey());const r=await RE(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new qe(Te.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ud(n,r.Ls)}}function K9(t,e){const n=Dt(t),r=n.Au.get(e);if(r&&r.hu)return Kt().add(r.key);{let i=Kt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function ZE(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q9.bind(null,e),e.Pu.H_=C9.bind(null,e.eventManager),e.Pu.yu=L9.bind(null,e.eventManager),e}function Y9(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H9.bind(null,e),e}class L0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZD(this.persistence,new QD,e.initialUser,this.serializer)}Cu(e){return new LE(f5.mi,this.serializer)}Du(e){return new o9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}L0.provider={build:()=>new L0};class Q9 extends L0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){cn(this.persistence.referenceDelegate instanceof P0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new LE(r=>P0.mi(r,n),this.serializer)}}class x2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G9.bind(null,this.syncEngine),await T9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P9}()}createDatastore(e){const n=_1(e.databaseInfo.databaseId),r=function(s){return new h9(s)}(e.databaseInfo);return function(s,o,a,l){return new m9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new y9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xb(this.syncEngine,n,0),function(){return gb.v()?new gb:new a9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const g=new M9(i,s,o,a,l,u);return d&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Dt(i);Ge(_u,"RemoteStore shutting down."),s.Ea.add(5),await ld(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}x2.provider={build:()=>new x2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="FirestoreClient";class X9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hi.UNAUTHENTICATED,this.clientId=e5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ge(Pl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(Pl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function km(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(Pl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await J9(t);Ge(Pl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vb(e.remoteStore,i)),t._onlineComponents=e}async function J9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(Pl,"Using user provided OfflineComponentProvider");try{await km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zc("Error using user provided cache. Falling back to memory cache: "+n),await km(t,new L0)}}else Ge(Pl,"Using default OfflineComponentProvider"),await km(t,new Q9(void 0));return t._offlineComponents}async function t6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(Pl,"Using user provided OnlineComponentProvider"),await Sb(t,t._uninitializedComponentsProvider._online)):(Ge(Pl,"Using default OnlineComponentProvider"),await Sb(t,new x2))),t._onlineComponents}function Z9(t){return t6(t).then(e=>e.syncEngine)}async function n6(t){const e=await t6(t),n=e.eventManager;return n.onListen=F9.bind(null,e.syncEngine),n.onUnlisten=U9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B9.bind(null,e.syncEngine),n}function eO(t,e,n={}){const r=new da;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new e6({next:v=>{d.Nu(),o.enqueueAndForget(()=>$E(s,g));const p=v.docs.has(a);!p&&v.fromCache?u.reject(new qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&v.fromCache&&l&&l.source==="server"?u.reject(new qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new HE(o5(a.path),d,{includeMetadataChanges:!0,qa:!0});return qE(s,g)}(await n6(t),t.asyncQueue,e,n,r)),r.promise}function tO(t,e,n={}){const r=new da;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new e6({next:v=>{d.Nu(),o.enqueueAndForget(()=>$E(s,g)),v.fromCache&&l.source==="server"?u.reject(new qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new HE(a,d,{includeMetadataChanges:!0,qa:!0});return qE(s,g)}(await n6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="firestore.googleapis.com",Ib=!0;class Nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i6,this.ssl=Ib}else this.host=e.host,this.ssl=e.ssl??Ib;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RD)throw new qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r6(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a7;switch(r.type){case"firstParty":return new h7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Eb.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),Eb.delete(n),r.terminate())}(this),Promise.resolve()}}function nO(t,e,n,r={}){var u;t=Sl(t,x1);const i=eh(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(IA(`https://${a}`),NA("Firestore",!0)),s.host!==i6&&s.host!==a&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Al(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=hi.MOCK_USER;else{d=uP(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hi(v)}t._authCredentials=new l7(new BS(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cu(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}toJSON(){return{type:vr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(sd(n,vr._jsonSchema))return new vr(e,r||null,new vt(Rn.fromString(n.referencePath)))}}vr._jsonSchemaVersion="firestore/documentReference/1.0",vr._jsonSchema={type:yr("string",vr._jsonSchemaVersion),referencePath:yr("string")};class yl extends Cu{constructor(e,n,r){super(e,n,o5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new vt(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Pm(t,e,...n){if(t=Yr(t),zS("collection","path",e),t instanceof x1){const r=Rn.fromString(e,...n);return Uw(r),new yl(t,null,r)}{if(!(t instanceof vr||t instanceof yl))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rn.fromString(e,...n));return Uw(r),new yl(t.firestore,null,r)}}function So(t,e,...n){if(t=Yr(t),arguments.length===1&&(e=e5.newId()),zS("doc","path",e),t instanceof x1){const r=Rn.fromString(e,...n);return Vw(r),new vr(t,null,new vt(r))}{if(!(t instanceof vr||t instanceof yl))throw new qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rn.fromString(e,...n));return Vw(r),new vr(t.firestore,t instanceof yl?t.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class kb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OE(this,"async_queue_retry"),this._c=()=>{const r=Tm();r&&Ge(Tb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new da;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sh(e))throw e;Ge(Tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,wa("INTERNAL UNHANDLED ERROR: ",Pb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=_5.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&At(47125,{Pc:Pb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class cd extends x1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kb(e),this._firestoreClient=void 0,await e}}}function rO(t,e){const n=typeof t=="object"?t:My(),r=typeof t=="string"?t:E0,i=Iu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aP("firestore");s&&nO(i,...s)}return i}function S5(t){if(t._terminated)throw new qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iO(t),t._firestoreClient}function iO(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,d){return new T7(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,r6(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ks(Qr.fromBase64String(e))}catch(n){throw new qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ks(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ks._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sd(e,ks._jsonSchema))return ks.fromBase64String(e.bytes)}}ks._jsonSchemaVersion="firestore/bytes/1.0",ks._jsonSchema={type:yr("string",ks._jsonSchemaVersion),bytes:yr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Do._jsonSchemaVersion}}static fromJSON(e){if(sd(e,Do._jsonSchema))return new Do(e.latitude,e.longitude)}}Do._jsonSchemaVersion="firestore/geoPoint/1.0",Do._jsonSchema={type:yr("string",Do._jsonSchemaVersion),latitude:yr("number"),longitude:yr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Oo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sd(e,Oo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Oo(e.vectorValues);throw new qe(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oo._jsonSchemaVersion="firestore/vectorValue/1.0",Oo._jsonSchema={type:yr("string",Oo._jsonSchemaVersion),vectorValues:yr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=/^__.*__$/;class oO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ku(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}function s6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:t})}}class N5{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new N5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return R0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s6(this.Ac)&&sO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_1(e)}Cc(e,n,r,i=!1){return new N5({Ac:e,methodName:n,Dc:r,path:Wr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T5(t){const e=t._freezeSettings(),n=_1(t._databaseId);return new aO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o6(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);u6("Data must be an object, but it was:",o,r);const a=a6(r,o);let l,u;if(s.merge)l=new Ys(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const v=uO(e,g,n);if(!o.contains(v))throw new qe(Te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hO(d,v)||d.push(v)}l=new Ys(d),u=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=o.fieldTransforms;return new oO(new Ts(a),l,u)}class k5 extends I5{_toFieldTransform(e){return new Z7(e.path,new Vf)}isEqual(e){return e instanceof k5}}function lO(t,e,n,r=!1){return P5(n,t.Cc(r?4:3,e))}function P5(t,e){if(l6(t=Yr(t)))return u6("Unsupported field value:",e,t),a6(t,e);if(t instanceof I5)return function(r,i){if(!s6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=P5(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Vn.fromDate(r);return{timestampValue:k0(i.serializer,s)}}if(r instanceof Vn){const s=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:k0(i.serializer,s)}}if(r instanceof Do)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:SE(i.serializer,r._byteString)};if(r instanceof vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oo)return function(o,a){return{mapValue:{fields:{[XS]:{stringValue:ZS},[I0]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return a5(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${c1(r)}`)}(t,e)}function a6(t,e){const n={};return HS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nu(t,(r,i)=>{const s=P5(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function l6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vn||t instanceof Do||t instanceof ks||t instanceof vr||t instanceof I5||t instanceof Oo)}function u6(t,e,n){if(!l6(n)||!qS(n)){const r=c1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uO(t,e,n){if((e=Yr(e))instanceof E5)return e._internalPath;if(typeof e=="string")return c6(t,e);throw R0("Field path arguments must be of type string or ",t,!1,void 0,n)}const cO=new RegExp("[~\\*/\\[\\]]");function c6(t,e,n){if(e.search(cO)>=0)throw R0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new E5(...e.split("."))._internalPath}catch{throw R0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function R0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new qe(Te.INVALID_ARGUMENT,a+t+l)}function hO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fO extends h6{data(){return super.data()}}function C5(t,e){return typeof e=="string"?c6(t,e):e instanceof E5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L5{}class f6 extends L5{}function Cb(t,e,...n){let r=[];e instanceof L5&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof D5).length,a=s.filter(l=>l instanceof R5).length;if(o>1||o>0&&a>0)throw new qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class R5 extends f6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new R5(e,n,r)}_apply(e){const n=this._parse(e);return d6(e._query,n),new Cu(e.firestore,e.converter,f2(e._query,n))}_parse(e){const n=T5(e.firestore);return function(s,o,a,l,u,d,g){let v;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Db(g,d);const k=[];for(const E of g)k.push(Rb(l,s,E));v={arrayValue:{values:k}}}else v=Rb(l,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Db(g,d),v=lO(a,o,g,d==="in"||d==="not-in");return gr.create(u,d,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class D5 extends L5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:to.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)d6(o,l),o=f2(o,l)}(e._query,n),new Cu(e.firestore,e.converter,f2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O5 extends f6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O5(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jf(s,o)}(e._query,this._field,this._direction);return new Cu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new oh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Lb(t,e="asc"){const n=e,r=C5("orderBy",t);return O5._create(r,n)}function Rb(t,e,n){if(typeof(n=Yr(n))=="string"){if(n==="")throw new qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(e)&&n.indexOf("/")!==-1)throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rn.fromString(n));if(!vt.isDocumentKey(r))throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kw(t,new vt(r))}if(n instanceof vr)return Kw(t,n._key);throw new qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c1(n)}.`)}function Db(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pO{convertValue(e,n="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[I0].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>or(o.doubleValue));return new Oo(n)}convertGeoPoint(e){return new Do(or(e.latitude),or(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=d1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Of(e));default:return null}}convertTimestamp(e){const n=Il(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rn.fromString(e);cn(PE(r),9688,{name:e});const i=new Mf(r.get(1),r.get(3)),s=new vt(r.popFirst(5));return i.isEqual(n)||wa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lu extends h6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lu._jsonSchemaVersion="firestore/documentSnapshot/1.0",lu._jsonSchema={type:yr("string",lu._jsonSchemaVersion),bundleSource:yr("string","DocumentSnapshot"),bundleName:yr("string"),bundle:yr("string")};class Mp extends lu{data(e={}){return super.data(e)}}class Nc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mp(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Mp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Mp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:mO(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){t=Sl(t,vr);const e=Sl(t.firestore,cd);return eO(S5(e),t._key).then(n=>yO(e,t,n))}Nc._jsonSchemaVersion="firestore/querySnapshot/1.0",Nc._jsonSchema={type:yr("string",Nc._jsonSchemaVersion),bundleSource:yr("string","QuerySnapshot"),bundleName:yr("string"),bundle:yr("string")};class m6 extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function Ob(t){t=Sl(t,Cu);const e=Sl(t.firestore,cd),n=S5(e),r=new m6(e);return dO(t._query),tO(n,t._query).then(i=>new Nc(e,r,t,i))}function D0(t,e,n){t=Sl(t,vr);const r=Sl(t.firestore,cd),i=p6(t.converter,e,n);return g6(r,[o6(T5(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lo.none())])}function gO(t,e){const n=Sl(t.firestore,cd),r=So(t),i=p6(t.converter,e);return g6(n,[o6(T5(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lo.exists(!1))]).then(()=>r)}function g6(t,e){return function(r,i){const s=new da;return r.asyncQueue.enqueueAndForget(async()=>z9(await Z9(r),i,s)),s.promise}(S5(t),e)}function yO(t,e,n){const r=n.docs.get(e._key),i=new m6(t);return new lu(t,i,e._key,r,new Wh(n.hasPendingWrites,n.fromCache),e.converter)}function Tc(){return new k5("serverTimestamp")}(function(e,n=!0){(function(i){rh=i})(th),jo(new eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cd(new u7(r.getProvider("auth-internal")),new f7(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rs(Ow,Mw,e),Rs(Ow,Mw,"esm2020")})();const vO={apiKey:"AIzaSyAKmov65RyCUPvvQU86_tIjRQeGQTchF3A",authDomain:"taximetro-a1014.firebaseapp.com",projectId:"taximetro-a1014",storageBucket:"taximetro-a1014.firebasestorage.app",messagingSenderId:"496806402421",appId:"1:496806402421:web:3795360104d3f040f55b3c",measurementId:"G-WF0JHFK64L"},M5=DA(vO);tL(M5);const as=s7(M5),ra=rO(M5),_O=new aa,wO="modulepreload",bO=function(t){return"/"+t},Mb={},Cm=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=bO(l),l in Mb)return;Mb[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":wO,u||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),u)return new Promise((v,p)=>{g.addEventListener("load",v),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}var no=Uint8Array,us=Uint16Array,F5=Int32Array,j5=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),V5=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fb=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y6=function(t,e){for(var n=new us(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new F5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},v6=y6(j5,2),xO=v6.b,S2=v6.r;xO[28]=258,S2[258]=28;var AO=y6(V5,0),jb=AO.r,E2=new us(32768);for(var Un=0;Un<32768;++Un){var Ha=(Un&43690)>>1|(Un&21845)<<1;Ha=(Ha&52428)>>2|(Ha&13107)<<2,Ha=(Ha&61680)>>4|(Ha&3855)<<4,E2[Un]=((Ha&65280)>>8|(Ha&255)<<8)>>1}var hf=function(t,e,n){for(var r=t.length,i=0,s=new us(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new us(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new us(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],g=o[t[i]-1]++<<d,v=g|(1<<d)-1;g<=v;++g)a[E2[g]>>l]=u}else for(a=new us(r),i=0;i<r;++i)t[i]&&(a[i]=E2[o[t[i]-1]++]>>15-t[i]);return a},wu=new no(288);for(var Un=0;Un<144;++Un)wu[Un]=8;for(var Un=144;Un<256;++Un)wu[Un]=9;for(var Un=256;Un<280;++Un)wu[Un]=7;for(var Un=280;Un<288;++Un)wu[Un]=8;var O0=new no(32);for(var Un=0;Un<32;++Un)O0[Un]=5;var SO=hf(wu,9,0),EO=hf(O0,5,0),_6=function(t){return(t+7)/8|0},IO=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new no(t.subarray(e,n))},ea=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Mh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Lm=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:b6,l:0};if(i==1){var o=new no(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Z,ie){return Z.f-ie.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,d=1,g=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[u].f<n[g].f?u++:g++],l=n[u!=d&&n[u].f<n[g].f?u++:g++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=s[0].s,r=1;r<i;++r)s[r].s>v&&(v=s[r].s);var p=new us(v+1),k=I2(n[d-1],p,0);if(k>e){var r=0,E=0,B=k-e,x=1<<B;for(s.sort(function(ie,M){return p[M.s]-p[ie.s]||ie.f-M.f});r<i;++r){var P=s[r].s;if(p[P]>e)E+=x-(1<<k-p[P]),p[P]=e;else break}for(E>>=B;E>0;){var R=s[r].s;p[R]<e?E-=1<<e-p[R]++-1:++r}for(;r>=0&&E;--r){var U=s[r].s;p[U]==e&&(--p[U],++E)}k=e}return{t:new no(p),l:k}},I2=function(t,e,n){return t.s==-1?Math.max(I2(t.l,e,n+1),I2(t.r,e,n+1)):e[t.s]=n},Vb=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new us(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Fh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},w6=function(t,e,n){var r=n.length,i=_6(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Ub=function(t,e,n,r,i,s,o,a,l,u,d){ea(e,d++,n),++i[256];for(var g=Lm(i,15),v=g.t,p=g.l,k=Lm(s,15),E=k.t,B=k.l,x=Vb(v),P=x.c,R=x.n,U=Vb(E),Z=U.c,ie=U.n,M=new us(19),I=0;I<P.length;++I)++M[P[I]&31];for(var I=0;I<Z.length;++I)++M[Z[I]&31];for(var S=Lm(M,7),D=S.t,w=S.l,N=19;N>4&&!D[Fb[N-1]];--N);var T=u+5<<3,X=Fh(i,wu)+Fh(s,O0)+o,ce=Fh(i,v)+Fh(s,E)+o+14+3*N+Fh(M,D)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&T<=X&&T<=ce)return w6(e,d,t.subarray(l,l+u));var me,ye,J,le;if(ea(e,d,1+(ce<X)),d+=2,ce<X){me=hf(v,p,0),ye=v,J=hf(E,B,0),le=E;var we=hf(D,w,0);ea(e,d,R-257),ea(e,d+5,ie-1),ea(e,d+10,N-4),d+=14;for(var I=0;I<N;++I)ea(e,d+3*I,D[Fb[I]]);d+=3*N;for(var _e=[P,Z],F=0;F<2;++F)for(var W=_e[F],I=0;I<W.length;++I){var Q=W[I]&31;ea(e,d,we[Q]),d+=D[Q],Q>15&&(ea(e,d,W[I]>>5&127),d+=W[I]>>12)}}else me=SO,ye=wu,J=EO,le=O0;for(var I=0;I<a;++I){var te=r[I];if(te>255){var Q=te>>18&31;Mh(e,d,me[Q+257]),d+=ye[Q+257],Q>7&&(ea(e,d,te>>23&31),d+=j5[Q]);var re=te&31;Mh(e,d,J[re]),d+=le[re],re>3&&(Mh(e,d,te>>5&8191),d+=V5[re])}else Mh(e,d,me[te]),d+=ye[te]}return Mh(e,d,me[256]),d+ye[256]},NO=new F5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),b6=new no(0),TO=function(t,e,n,r,i,s){var o=s.z||t.length,a=new no(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var g=NO[e-1],v=g>>13,p=g&8191,k=(1<<n)-1,E=s.p||new us(32768),B=s.h||new us(k+1),x=Math.ceil(n/3),P=2*x,R=function(ot){return(t[ot]^t[ot+1]<<x^t[ot+2]<<P)&k},U=new F5(25e3),Z=new us(288),ie=new us(32),M=0,I=0,S=s.i||0,D=0,w=s.w||0,N=0;S+2<o;++S){var T=R(S),X=S&32767,ce=B[T];if(E[X]=ce,B[T]=X,w<=S){var me=o-S;if((M>7e3||D>24576)&&(me>423||!u)){d=Ub(t,l,0,U,Z,ie,I,D,N,S-N,d),D=M=I=0,N=S;for(var ye=0;ye<286;++ye)Z[ye]=0;for(var ye=0;ye<30;++ye)ie[ye]=0}var J=2,le=0,we=p,_e=X-ce&32767;if(me>2&&T==R(S-_e))for(var F=Math.min(v,me)-1,W=Math.min(32767,S),Q=Math.min(258,me);_e<=W&&--we&&X!=ce;){if(t[S+J]==t[S+J-_e]){for(var te=0;te<Q&&t[S+te]==t[S+te-_e];++te);if(te>J){if(J=te,le=_e,te>F)break;for(var re=Math.min(_e,te-2),oe=0,ye=0;ye<re;++ye){var ge=S-_e+ye&32767,ve=E[ge],Ie=ge-ve&32767;Ie>oe&&(oe=Ie,ce=ge)}}}X=ce,ce=E[X],_e+=X-ce&32767}if(le){U[D++]=268435456|S2[J]<<18|jb[le];var Le=S2[J]&31,Be=jb[le]&31;I+=j5[Le]+V5[Be],++Z[257+Le],++ie[Be],w=S+J,++M}else U[D++]=t[S],++Z[t[S]]}}for(S=Math.max(S,w);S<o;++S)U[D++]=t[S],++Z[t[S]];d=Ub(t,l,u,U,Z,ie,I,D,N,S-N,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=B,s.p=E,s.i=S,s.w=w)}else{for(var S=s.w||0;S<o+u;S+=65535){var je=S+65535;je>=o&&(l[d/8|0]=u,je=o),d=w6(l,d+1,t.subarray(S,je))}s.i=o}return IO(a,0,r+_6(d)+i)},x6=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kO=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new no(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return TO(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},A6=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},PO=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=x6();i.p(e.dictionary),A6(t,2,i.d())}};function N2(t,e){e||(e={});var n=x6();n.p(t);var r=kO(t,e,e.dictionary?6:2,4);return PO(r,e),A6(r,r.length-4,n.d()),r}var CO=typeof TextDecoder<"u"&&new TextDecoder,LO=0;try{CO.decode(b6,{stream:!0}),LO=1}catch{}function RO(t){if(Array.isArray(t))return t}function DO(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function OO(t,e){if(t){if(typeof t=="string")return Bb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bb(t,e):void 0}}function MO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zb(t,e){return RO(t)||DO(t,e)||OO(t,e)||MO()}function qb(t,e="utf8"){return new TextDecoder(e).decode(t)}const FO=new TextEncoder;function jO(t){return FO.encode(t)}const VO=1024*8,UO=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Rm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class U5{constructor(e=VO,n={}){pn(this,"buffer");pn(this,"byteLength");pn(this,"byteOffset");pn(this,"length");pn(this,"offset");pn(this,"lastWrittenByte");pn(this,"littleEndian");pn(this,"_data");pn(this,"_mark");pn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof U5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Rm[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===UO&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new Rm[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new Rm[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return qb(this.readBytes(e))}decodeText(e=1,n="utf8"){return qb(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(jO(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const BO=4,$b=0,Hb=1,zO=2;function lh(t){let e=t.length;for(;--e>=0;)t[e]=0}const qO=0,S6=1,$O=2,HO=3,WO=258,B5=29,hd=256,zf=hd+1+B5,kc=30,z5=19,E6=2*zf+1,nu=15,Dm=16,GO=7,q5=256,I6=16,N6=17,T6=18,T2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Fp=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),KO=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k6=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YO=512,sa=new Array((zf+2)*2);lh(sa);const ff=new Array(kc*2);lh(ff);const qf=new Array(YO);lh(qf);const $f=new Array(WO-HO+1);lh($f);const $5=new Array(B5);lh($5);const M0=new Array(kc);lh(M0);function Om(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let P6,C6,L6;function Mm(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const R6=t=>t<256?qf[t]:qf[256+(t>>>7)],Hf=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Bi=(t,e,n)=>{t.bi_valid>Dm-n?(t.bi_buf|=e<<t.bi_valid&65535,Hf(t,t.bi_buf),t.bi_buf=e>>Dm-t.bi_valid,t.bi_valid+=n-Dm):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Io=(t,e,n)=>{Bi(t,n[e*2],n[e*2+1])},D6=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},QO=t=>{t.bi_valid===16?(Hf(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},XO=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,g,v,p,k,E=0;for(v=0;v<=nu;v++)t.bl_count[v]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<E6;u++)d=t.heap[u],v=n[n[d*2+1]*2+1]+1,v>l&&(v=l,E++),n[d*2+1]=v,!(d>r)&&(t.bl_count[v]++,p=0,d>=a&&(p=o[d-a]),k=n[d*2],t.opt_len+=k*(v+p),s&&(t.static_len+=k*(i[d*2+1]+p)));if(E!==0){do{for(v=l-1;t.bl_count[v]===0;)v--;t.bl_count[v]--,t.bl_count[v+1]+=2,t.bl_count[l]--,E-=2}while(E>0);for(v=l;v!==0;v--)for(d=t.bl_count[v];d!==0;)g=t.heap[--u],!(g>r)&&(n[g*2+1]!==v&&(t.opt_len+=(v-n[g*2+1])*n[g*2],n[g*2+1]=v),d--)}},O6=(t,e,n)=>{const r=new Array(nu+1);let i=0,s,o;for(s=1;s<=nu;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=D6(r[a]++,a))}},JO=()=>{let t,e,n,r,i;const s=new Array(nu+1);for(n=0,r=0;r<B5-1;r++)for($5[r]=n,t=0;t<1<<T2[r];t++)$f[n++]=r;for($f[n-1]=r,i=0,r=0;r<16;r++)for(M0[r]=i,t=0;t<1<<Fp[r];t++)qf[i++]=r;for(i>>=7;r<kc;r++)for(M0[r]=i<<7,t=0;t<1<<Fp[r]-7;t++)qf[256+i++]=r;for(e=0;e<=nu;e++)s[e]=0;for(t=0;t<=143;)sa[t*2+1]=8,t++,s[8]++;for(;t<=255;)sa[t*2+1]=9,t++,s[9]++;for(;t<=279;)sa[t*2+1]=7,t++,s[7]++;for(;t<=287;)sa[t*2+1]=8,t++,s[8]++;for(O6(sa,zf+1,s),t=0;t<kc;t++)ff[t*2+1]=5,ff[t*2]=D6(t,5);P6=new Om(sa,T2,hd+1,zf,nu),C6=new Om(ff,Fp,0,kc,nu),L6=new Om(new Array(0),KO,0,z5,GO)},M6=t=>{let e;for(e=0;e<zf;e++)t.dyn_ltree[e*2]=0;for(e=0;e<kc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<z5;e++)t.bl_tree[e*2]=0;t.dyn_ltree[q5*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},F6=t=>{t.bi_valid>8?Hf(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Wb=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},Fm=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Wb(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Wb(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Gb=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?Io(t,i,e):(o=$f[i],Io(t,o+hd+1,e),a=T2[o],a!==0&&(i-=$5[o],Bi(t,i,a)),r--,o=R6(r),Io(t,o,n),a=Fp[o],a!==0&&(r-=M0[o],Bi(t,r,a)));while(s<t.sym_next);Io(t,q5,e)},k2=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,u;for(t.heap_len=0,t.heap_max=E6,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)Fm(t,n,o);u=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Fm(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[u*2]=n[o*2]+n[a*2],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=u,t.heap[1]=u++,Fm(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],XO(t,e),O6(n,l,t.bl_count)},Kb=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<u?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[I6*2]++):a<=10?t.bl_tree[N6*2]++:t.bl_tree[T6*2]++,a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4))},Yb=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,u=4;for(o===0&&(l=138,u=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<u)do Io(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Io(t,s,t.bl_tree),a--),Io(t,I6,t.bl_tree),Bi(t,a-3,2)):a<=10?(Io(t,N6,t.bl_tree),Bi(t,a-3,3)):(Io(t,T6,t.bl_tree),Bi(t,a-11,7));a=0,i=s,o===0?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4)}},ZO=t=>{let e;for(Kb(t,t.dyn_ltree,t.l_desc.max_code),Kb(t,t.dyn_dtree,t.d_desc.max_code),k2(t,t.bl_desc),e=z5-1;e>=3&&t.bl_tree[k6[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},eM=(t,e,n,r)=>{let i;for(Bi(t,e-257,5),Bi(t,n-1,5),Bi(t,r-4,4),i=0;i<r;i++)Bi(t,t.bl_tree[k6[i]*2+1],3);Yb(t,t.dyn_ltree,e-1),Yb(t,t.dyn_dtree,n-1)},tM=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return $b;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Hb;for(n=32;n<hd;n++)if(t.dyn_ltree[n*2]!==0)return Hb;return $b};let Qb=!1;const nM=t=>{Qb||(JO(),Qb=!0),t.l_desc=new Mm(t.dyn_ltree,P6),t.d_desc=new Mm(t.dyn_dtree,C6),t.bl_desc=new Mm(t.bl_tree,L6),t.bi_buf=0,t.bi_valid=0,M6(t)},j6=(t,e,n,r)=>{Bi(t,(qO<<1)+(r?1:0),3),F6(t),Hf(t,n),Hf(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},rM=t=>{Bi(t,S6<<1,3),Io(t,q5,sa),QO(t)},iM=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===zO&&(t.strm.data_type=tM(t)),k2(t,t.l_desc),k2(t,t.d_desc),o=ZO(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?j6(t,e,n,r):t.strategy===BO||s===i?(Bi(t,(S6<<1)+(r?1:0),3),Gb(t,sa,ff)):(Bi(t,($O<<1)+(r?1:0),3),eM(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Gb(t,t.dyn_ltree,t.dyn_dtree)),M6(t),r&&F6(t)},sM=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[($f[n]+hd+1)*2]++,t.dyn_dtree[R6(e)*2]++),t.sym_next===t.sym_end);var oM=nM,aM=j6,lM=iM,uM=sM,cM=rM,hM={_tr_init:oM,_tr_stored_block:aM,_tr_flush_block:lM,_tr_tally:uM,_tr_align:cM};const fM=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Wf=fM;const dM=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},pM=new Uint32Array(dM()),mM=(t,e,n,r)=>{const i=pM,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Lr=mM,Kc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gM,_tr_stored_block:P2,_tr_flush_block:yM,_tr_tally:vl,_tr_align:vM}=hM,{Z_NO_FLUSH:_l,Z_PARTIAL_FLUSH:_M,Z_FULL_FLUSH:wM,Z_FINISH:Ps,Z_BLOCK:Xb,Z_OK:$r,Z_STREAM_END:Jb,Z_STREAM_ERROR:Mo,Z_DATA_ERROR:bM,Z_BUF_ERROR:jm,Z_DEFAULT_COMPRESSION:xM,Z_FILTERED:AM,Z_HUFFMAN_ONLY:ip,Z_RLE:SM,Z_FIXED:EM,Z_DEFAULT_STRATEGY:IM,Z_UNKNOWN:NM,Z_DEFLATED:A1}=fd,TM=9,kM=15,PM=8,CM=29,LM=256,C2=LM+1+CM,RM=30,DM=19,OM=2*C2+1,MM=15,Xt=3,il=258,Fo=il+Xt+1,FM=32,Yc=42,H5=57,L2=69,R2=73,D2=91,O2=103,ru=113,Gh=666,Ei=1,uh=2,bu=3,ch=4,jM=3,iu=(t,e)=>(t.msg=Kc[e],e),Zb=t=>t*2-(t>4?9:0),el=t=>{let e=t.length;for(;--e>=0;)t[e]=0},VM=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let UM=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,wl=UM;const ss=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},cs=(t,e)=>{yM(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ss(t.strm)},an=(t,e)=>{t.pending_buf[t.pending++]=e},jh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},M2=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Wf(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Lr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},V6=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Fo?t.strstart-(t.w_size-Fo):0,u=t.window,d=t.w_mask,g=t.prev,v=t.strstart+il;let p=u[r+o-1],k=u[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+o]!==k||u[i+o-1]!==p||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<v);if(s=il-(v-r),r=v-il,s>o){if(t.match_start=e,o=s,s>=a)break;p=u[r+o-1],k=u[r+o]}}while((e=g[e&d])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},Qc=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Fo)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),VM(t),r+=e),t.strm.avail_in===0)break;if(n=M2(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Xt)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=wl(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=wl(t,t.ins_h,t.window[i+Xt-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Xt)););}while(t.lookahead<Fo&&t.strm.avail_in!==0)},U6=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==Ps||e===_l||r!==i+t.strm.avail_in)))break;o=e===Ps&&r===i+t.strm.avail_in?1:0,P2(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,ss(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(M2(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?ch:e!==_l&&e!==Ps&&t.strm.avail_in===0&&t.strstart===t.block_start?uh:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(M2(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===Ps)&&e!==_l&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Ps&&t.strm.avail_in===0&&r===i?1:0,P2(t,t.block_start,r,o),t.block_start+=r,ss(t.strm)),o?bu:Ei)},Vm=(t,e)=>{let n,r;for(;;){if(t.lookahead<Fo){if(Qc(t),t.lookahead<Fo&&e===_l)return Ei;if(t.lookahead===0)break}if(n=0,t.lookahead>=Xt&&(t.ins_h=wl(t,t.ins_h,t.window[t.strstart+Xt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Fo&&(t.match_length=V6(t,n)),t.match_length>=Xt)if(r=vl(t,t.strstart-t.match_start,t.match_length-Xt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Xt){t.match_length--;do t.strstart++,t.ins_h=wl(t,t.ins_h,t.window[t.strstart+Xt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=wl(t,t.ins_h,t.window[t.strstart+1]);else r=vl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(cs(t,!1),t.strm.avail_out===0))return Ei}return t.insert=t.strstart<Xt-1?t.strstart:Xt-1,e===Ps?(cs(t,!0),t.strm.avail_out===0?bu:ch):t.sym_next&&(cs(t,!1),t.strm.avail_out===0)?Ei:uh},Gu=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Fo){if(Qc(t),t.lookahead<Fo&&e===_l)return Ei;if(t.lookahead===0)break}if(n=0,t.lookahead>=Xt&&(t.ins_h=wl(t,t.ins_h,t.window[t.strstart+Xt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Xt-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Fo&&(t.match_length=V6(t,n),t.match_length<=5&&(t.strategy===AM||t.match_length===Xt&&t.strstart-t.match_start>4096)&&(t.match_length=Xt-1)),t.prev_length>=Xt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Xt,r=vl(t,t.strstart-1-t.prev_match,t.prev_length-Xt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=wl(t,t.ins_h,t.window[t.strstart+Xt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Xt-1,t.strstart++,r&&(cs(t,!1),t.strm.avail_out===0))return Ei}else if(t.match_available){if(r=vl(t,0,t.window[t.strstart-1]),r&&cs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ei}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=vl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Xt-1?t.strstart:Xt-1,e===Ps?(cs(t,!0),t.strm.avail_out===0?bu:ch):t.sym_next&&(cs(t,!1),t.strm.avail_out===0)?Ei:uh},BM=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=il){if(Qc(t),t.lookahead<=il&&e===_l)return Ei;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Xt&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+il;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=il-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Xt?(n=vl(t,1,t.match_length-Xt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=vl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(cs(t,!1),t.strm.avail_out===0))return Ei}return t.insert=0,e===Ps?(cs(t,!0),t.strm.avail_out===0?bu:ch):t.sym_next&&(cs(t,!1),t.strm.avail_out===0)?Ei:uh},zM=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Qc(t),t.lookahead===0)){if(e===_l)return Ei;break}if(t.match_length=0,n=vl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(cs(t,!1),t.strm.avail_out===0))return Ei}return t.insert=0,e===Ps?(cs(t,!0),t.strm.avail_out===0?bu:ch):t.sym_next&&(cs(t,!1),t.strm.avail_out===0)?Ei:uh};function wo(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const Kh=[new wo(0,0,0,0,U6),new wo(4,4,8,4,Vm),new wo(4,5,16,8,Vm),new wo(4,6,32,32,Vm),new wo(4,4,16,16,Gu),new wo(8,16,32,32,Gu),new wo(8,16,128,128,Gu),new wo(8,32,128,256,Gu),new wo(32,128,258,1024,Gu),new wo(32,258,258,4096,Gu)],qM=t=>{t.window_size=2*t.w_size,el(t.head),t.max_lazy_match=Kh[t.level].max_lazy,t.good_match=Kh[t.level].good_length,t.nice_match=Kh[t.level].nice_length,t.max_chain_length=Kh[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Xt-1,t.match_available=0,t.ins_h=0};function $M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(OM*2),this.dyn_dtree=new Uint16Array((2*RM+1)*2),this.bl_tree=new Uint16Array((2*DM+1)*2),el(this.dyn_ltree),el(this.dyn_dtree),el(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MM+1),this.heap=new Uint16Array(2*C2+1),el(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*C2+1),el(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const dd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Yc&&e.status!==H5&&e.status!==L2&&e.status!==R2&&e.status!==D2&&e.status!==O2&&e.status!==ru&&e.status!==Gh?1:0},B6=t=>{if(dd(t))return iu(t,Mo);t.total_in=t.total_out=0,t.data_type=NM;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?H5:e.wrap?Yc:ru,t.adler=e.wrap===2?0:1,e.last_flush=-2,gM(e),$r},z6=t=>{const e=B6(t);return e===$r&&qM(t.state),e},HM=(t,e)=>dd(t)||t.state.wrap!==2?Mo:(t.state.gzhead=e,$r),q6=(t,e,n,r,i,s)=>{if(!t)return Mo;let o=1;if(e===xM&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>TM||n!==A1||r<8||r>15||e<0||e>9||s<0||s>EM||r===8&&o!==1)return iu(t,Mo);r===8&&(r=9);const a=new $M;return t.state=a,a.strm=t,a.status=Yc,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Xt-1)/Xt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,z6(t)},WM=(t,e)=>q6(t,e,A1,kM,PM,IM),GM=(t,e)=>{if(dd(t)||e>Xb||e<0)return t?iu(t,Mo):Mo;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Gh&&e!==Ps)return iu(t,t.avail_out===0?jm:Mo);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(ss(t),t.avail_out===0)return n.last_flush=-1,$r}else if(t.avail_in===0&&Zb(e)<=Zb(r)&&e!==Ps)return iu(t,jm);if(n.status===Gh&&t.avail_in!==0)return iu(t,jm);if(n.status===Yc&&n.wrap===0&&(n.status=ru),n.status===Yc){let i=A1+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=ip||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=FM),i+=31-i%31,jh(n,i),n.strstart!==0&&(jh(n,t.adler>>>16),jh(n,t.adler&65535)),t.adler=1,n.status=ru,ss(t),n.pending!==0)return n.last_flush=-1,$r}if(n.status===H5){if(t.adler=0,an(n,31),an(n,139),an(n,8),n.gzhead)an(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),an(n,n.gzhead.time&255),an(n,n.gzhead.time>>8&255),an(n,n.gzhead.time>>16&255),an(n,n.gzhead.time>>24&255),an(n,n.level===9?2:n.strategy>=ip||n.level<2?4:0),an(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(an(n,n.gzhead.extra.length&255),an(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Lr(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=L2;else if(an(n,0),an(n,0),an(n,0),an(n,0),an(n,0),an(n,n.level===9?2:n.strategy>=ip||n.level<2?4:0),an(n,jM),n.status=ru,ss(t),n.pending!==0)return n.last_flush=-1,$r}if(n.status===L2){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Lr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,ss(t),n.pending!==0)return n.last_flush=-1,$r;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Lr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=R2}if(n.status===R2){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lr(t.adler,n.pending_buf,n.pending-i,i)),ss(t),n.pending!==0)return n.last_flush=-1,$r;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,an(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=D2}if(n.status===D2){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Lr(t.adler,n.pending_buf,n.pending-i,i)),ss(t),n.pending!==0)return n.last_flush=-1,$r;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,an(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Lr(t.adler,n.pending_buf,n.pending-i,i))}n.status=O2}if(n.status===O2){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ss(t),n.pending!==0))return n.last_flush=-1,$r;an(n,t.adler&255),an(n,t.adler>>8&255),t.adler=0}if(n.status=ru,ss(t),n.pending!==0)return n.last_flush=-1,$r}if(t.avail_in!==0||n.lookahead!==0||e!==_l&&n.status!==Gh){let i=n.level===0?U6(n,e):n.strategy===ip?zM(n,e):n.strategy===SM?BM(n,e):Kh[n.level].func(n,e);if((i===bu||i===ch)&&(n.status=Gh),i===Ei||i===bu)return t.avail_out===0&&(n.last_flush=-1),$r;if(i===uh&&(e===_M?vM(n):e!==Xb&&(P2(n,0,0,!1),e===wM&&(el(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ss(t),t.avail_out===0))return n.last_flush=-1,$r}return e!==Ps?$r:n.wrap<=0?Jb:(n.wrap===2?(an(n,t.adler&255),an(n,t.adler>>8&255),an(n,t.adler>>16&255),an(n,t.adler>>24&255),an(n,t.total_in&255),an(n,t.total_in>>8&255),an(n,t.total_in>>16&255),an(n,t.total_in>>24&255)):(jh(n,t.adler>>>16),jh(n,t.adler&65535)),ss(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?$r:Jb)},KM=t=>{if(dd(t))return Mo;const e=t.state.status;return t.state=null,e===ru?iu(t,bM):$r},YM=(t,e)=>{let n=e.length;if(dd(t))return Mo;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Yc||r.lookahead)return Mo;if(i===1&&(t.adler=Wf(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(el(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Qc(r);r.lookahead>=Xt;){let l=r.strstart,u=r.lookahead-(Xt-1);do r.ins_h=wl(r,r.ins_h,r.window[l+Xt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--u);r.strstart=l,r.lookahead=Xt-1,Qc(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Xt-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,$r};var QM=WM,XM=q6,JM=z6,ZM=B6,eF=HM,tF=GM,nF=KM,rF=YM,iF="pako deflate (from Nodeca project)",df={deflateInit:QM,deflateInit2:XM,deflateReset:JM,deflateResetKeep:ZM,deflateSetHeader:eF,deflate:tF,deflateEnd:nF,deflateSetDictionary:rF,deflateInfo:iF};const sF=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var oF=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)sF(n,r)&&(t[r]=n[r])}}return t},aF=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},S1={assign:oF,flattenChunks:aF};let $6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$6=!1}const Gf=new Uint8Array(256);for(let t=0;t<256;t++)Gf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Gf[254]=Gf[254]=1;var lF=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const uF=(t,e)=>{if(e<65534&&t.subarray&&$6)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var cF=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=Gf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return uF(s,i)},hF=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Gf[t[n]]>e?n:e},Kf={string2buf:lF,buf2string:cF,utf8border:hF};function fF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var H6=fF;const W6=Object.prototype.toString,{Z_NO_FLUSH:dF,Z_SYNC_FLUSH:pF,Z_FULL_FLUSH:mF,Z_FINISH:gF,Z_OK:F0,Z_STREAM_END:yF,Z_DEFAULT_COMPRESSION:vF,Z_DEFAULT_STRATEGY:_F,Z_DEFLATED:wF}=fd;function W5(t){this.options=S1.assign({level:vF,method:wF,chunkSize:16384,windowBits:15,memLevel:8,strategy:_F},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H6,this.strm.avail_out=0;let n=df.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==F0)throw new Error(Kc[n]);if(e.header&&df.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Kf.string2buf(e.dictionary):W6.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=df.deflateSetDictionary(this.strm,r),n!==F0)throw new Error(Kc[n]);this._dict_set=!0}}W5.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?gF:dF,typeof t=="string"?n.input=Kf.string2buf(t):W6.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===pF||s===mF)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=df.deflate(n,s),i===yF)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=df.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===F0;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};W5.prototype.onData=function(t){this.chunks.push(t)};W5.prototype.onEnd=function(t){t===F0&&(this.result=S1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const sp=16209,bF=16191;var xF=function(e,n){let r,i,s,o,a,l,u,d,g,v,p,k,E,B,x,P,R,U,Z,ie,M,I,S,D;const w=e.state;r=e.next_in,S=e.input,i=r+(e.avail_in-5),s=e.next_out,D=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=w.dmax,u=w.wsize,d=w.whave,g=w.wnext,v=w.window,p=w.hold,k=w.bits,E=w.lencode,B=w.distcode,x=(1<<w.lenbits)-1,P=(1<<w.distbits)-1;e:do{k<15&&(p+=S[r++]<<k,k+=8,p+=S[r++]<<k,k+=8),R=E[p&x];t:for(;;){if(U=R>>>24,p>>>=U,k-=U,U=R>>>16&255,U===0)D[s++]=R&65535;else if(U&16){Z=R&65535,U&=15,U&&(k<U&&(p+=S[r++]<<k,k+=8),Z+=p&(1<<U)-1,p>>>=U,k-=U),k<15&&(p+=S[r++]<<k,k+=8,p+=S[r++]<<k,k+=8),R=B[p&P];n:for(;;){if(U=R>>>24,p>>>=U,k-=U,U=R>>>16&255,U&16){if(ie=R&65535,U&=15,k<U&&(p+=S[r++]<<k,k+=8,k<U&&(p+=S[r++]<<k,k+=8)),ie+=p&(1<<U)-1,ie>l){e.msg="invalid distance too far back",w.mode=sp;break e}if(p>>>=U,k-=U,U=s-o,ie>U){if(U=ie-U,U>d&&w.sane){e.msg="invalid distance too far back",w.mode=sp;break e}if(M=0,I=v,g===0){if(M+=u-U,U<Z){Z-=U;do D[s++]=v[M++];while(--U);M=s-ie,I=D}}else if(g<U){if(M+=u+g-U,U-=g,U<Z){Z-=U;do D[s++]=v[M++];while(--U);if(M=0,g<Z){U=g,Z-=U;do D[s++]=v[M++];while(--U);M=s-ie,I=D}}}else if(M+=g-U,U<Z){Z-=U;do D[s++]=v[M++];while(--U);M=s-ie,I=D}for(;Z>2;)D[s++]=I[M++],D[s++]=I[M++],D[s++]=I[M++],Z-=3;Z&&(D[s++]=I[M++],Z>1&&(D[s++]=I[M++]))}else{M=s-ie;do D[s++]=D[M++],D[s++]=D[M++],D[s++]=D[M++],Z-=3;while(Z>2);Z&&(D[s++]=D[M++],Z>1&&(D[s++]=D[M++]))}}else if(U&64){e.msg="invalid distance code",w.mode=sp;break e}else{R=B[(R&65535)+(p&(1<<U)-1)];continue n}break}}else if(U&64)if(U&32){w.mode=bF;break e}else{e.msg="invalid literal/length code",w.mode=sp;break e}else{R=E[(R&65535)+(p&(1<<U)-1)];continue t}break}}while(r<i&&s<a);Z=k>>3,r-=Z,k-=Z<<3,p&=(1<<k)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),w.hold=p,w.bits=k};const Ku=15,e4=852,t4=592,n4=0,Um=1,r4=2,AF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),SF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),EF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),IF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),NF=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,d=0,g=0,v=0,p=0,k=0,E=0,B=0,x=0,P=0,R,U,Z,ie,M,I=null,S;const D=new Uint16Array(Ku+1),w=new Uint16Array(Ku+1);let N=null,T,X,ce;for(u=0;u<=Ku;u++)D[u]=0;for(d=0;d<r;d++)D[e[n+d]]++;for(p=l,v=Ku;v>=1&&D[v]===0;v--);if(p>v&&(p=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<v&&D[g]===0;g++);for(p<g&&(p=g),B=1,u=1;u<=Ku;u++)if(B<<=1,B-=D[u],B<0)return-1;if(B>0&&(t===n4||v!==1))return-1;for(w[1]=0,u=1;u<Ku;u++)w[u+1]=w[u]+D[u];for(d=0;d<r;d++)e[n+d]!==0&&(o[w[e[n+d]]++]=d);if(t===n4?(I=N=o,S=20):t===Um?(I=AF,N=SF,S=257):(I=EF,N=IF,S=0),P=0,d=0,u=g,M=s,k=p,E=0,Z=-1,x=1<<p,ie=x-1,t===Um&&x>e4||t===r4&&x>t4)return 1;for(;;){T=u-E,o[d]+1<S?(X=0,ce=o[d]):o[d]>=S?(X=N[o[d]-S],ce=I[o[d]-S]):(X=96,ce=0),R=1<<u-E,U=1<<k,g=U;do U-=R,i[M+(P>>E)+U]=T<<24|X<<16|ce|0;while(U!==0);for(R=1<<u-1;P&R;)R>>=1;if(R!==0?(P&=R-1,P+=R):P=0,d++,--D[u]===0){if(u===v)break;u=e[n+o[d]]}if(u>p&&(P&ie)!==Z){for(E===0&&(E=p),M+=g,k=u-E,B=1<<k;k+E<v&&(B-=D[k+E],!(B<=0));)k++,B<<=1;if(x+=1<<k,t===Um&&x>e4||t===r4&&x>t4)return 1;Z=P&ie,i[Z]=p<<24|k<<16|M-s|0}}return P!==0&&(i[M+P]=u-E<<24|64<<16|0),a.bits=p,0};var pf=NF;const TF=0,G6=1,K6=2,{Z_FINISH:i4,Z_BLOCK:kF,Z_TREES:op,Z_OK:xu,Z_STREAM_END:PF,Z_NEED_DICT:CF,Z_STREAM_ERROR:Ms,Z_DATA_ERROR:Y6,Z_MEM_ERROR:Q6,Z_BUF_ERROR:LF,Z_DEFLATED:s4}=fd,E1=16180,o4=16181,a4=16182,l4=16183,u4=16184,c4=16185,h4=16186,f4=16187,d4=16188,p4=16189,j0=16190,ta=16191,Bm=16192,m4=16193,zm=16194,g4=16195,y4=16196,v4=16197,_4=16198,ap=16199,lp=16200,w4=16201,b4=16202,x4=16203,A4=16204,S4=16205,qm=16206,E4=16207,I4=16208,qn=16209,X6=16210,J6=16211,RF=852,DF=592,OF=15,MF=OF,N4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function FF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<E1||e.mode>J6?1:0},Z6=t=>{if(Lu(t))return Ms;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=E1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(RF),e.distcode=e.distdyn=new Int32Array(DF),e.sane=1,e.back=-1,xu},eI=t=>{if(Lu(t))return Ms;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Z6(t)},tI=(t,e)=>{let n;if(Lu(t))return Ms;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ms:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,eI(t))},nI=(t,e)=>{if(!t)return Ms;const n=new FF;t.state=n,n.strm=t,n.window=null,n.mode=E1;const r=tI(t,e);return r!==xu&&(t.state=null),r},jF=t=>nI(t,MF);let T4=!0,$m,Hm;const VF=t=>{if(T4){$m=new Int32Array(512),Hm=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(pf(G6,t.lens,0,288,$m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;pf(K6,t.lens,0,32,Hm,0,t.work,{bits:5}),T4=!1}t.lencode=$m,t.lenbits=9,t.distcode=Hm,t.distbits=5},rI=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},UF=(t,e)=>{let n,r,i,s,o,a,l,u,d,g,v,p,k,E,B=0,x,P,R,U,Z,ie,M,I;const S=new Uint8Array(4);let D,w;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lu(t)||!t.output||!t.input&&t.avail_in!==0)return Ms;n=t.state,n.mode===ta&&(n.mode=Bm),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,d=n.bits,g=a,v=l,I=xu;e:for(;;)switch(n.mode){case E1:if(n.wrap===0){n.mode=Bm;break}for(;d<16;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,S[0]=u&255,S[1]=u>>>8&255,n.check=Lr(n.check,S,2,0),u=0,d=0,n.mode=o4;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=qn;break}if((u&15)!==s4){t.msg="unknown compression method",n.mode=qn;break}if(u>>>=4,d-=4,M=(u&15)+8,n.wbits===0&&(n.wbits=M),M>15||M>n.wbits){t.msg="invalid window size",n.mode=qn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?p4:ta,u=0,d=0;break;case o4:for(;d<16;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==s4){t.msg="unknown compression method",n.mode=qn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=qn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,n.check=Lr(n.check,S,2,0)),u=0,d=0,n.mode=a4;case a4:for(;d<32;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,n.check=Lr(n.check,S,4,0)),u=0,d=0,n.mode=l4;case l4:for(;d<16;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,n.check=Lr(n.check,S,2,0)),u=0,d=0,n.mode=u4;case u4:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(S[0]=u&255,S[1]=u>>>8&255,n.check=Lr(n.check,S,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=c4;case c4:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),M)),n.flags&512&&n.wrap&4&&(n.check=Lr(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=h4;case h4:if(n.flags&2048){if(a===0)break e;p=0;do M=r[s+p++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Lr(n.check,r,p,s)),a-=p,s+=p,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=f4;case f4:if(n.flags&4096){if(a===0)break e;p=0;do M=r[s+p++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Lr(n.check,r,p,s)),a-=p,s+=p,M)break e}else n.head&&(n.head.comment=null);n.mode=d4;case d4:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=qn;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ta;break;case p4:for(;d<32;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}t.adler=n.check=N4(u),u=0,d=0,n.mode=j0;case j0:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=d,CF;t.adler=n.check=1,n.mode=ta;case ta:if(e===kF||e===op)break e;case Bm:if(n.last){u>>>=d&7,d-=d&7,n.mode=qm;break}for(;d<3;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=m4;break;case 1:if(VF(n),n.mode=ap,e===op){u>>>=2,d-=2;break e}break;case 2:n.mode=y4;break;case 3:t.msg="invalid block type",n.mode=qn}u>>>=2,d-=2;break;case m4:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=qn;break}if(n.length=u&65535,u=0,d=0,n.mode=zm,e===op)break e;case zm:n.mode=g4;case g4:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=ta;break;case y4:for(;d<14;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=qn;break}n.have=0,n.mode=v4;case v4:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}n.lens[N[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},I=pf(TF,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,I){t.msg="invalid code lengths set",n.mode=qn;break}n.have=0,n.mode=_4;case _4:for(;n.have<n.nlen+n.ndist;){for(;B=n.lencode[u&(1<<n.lenbits)-1],x=B>>>24,P=B>>>16&255,R=B&65535,!(x<=d);){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(R<16)u>>>=x,d-=x,n.lens[n.have++]=R;else{if(R===16){for(w=x+2;d<w;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){t.msg="invalid bit length repeat",n.mode=qn;break}M=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(R===17){for(w=x+3;d<w;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}u>>>=x,d-=x,M=0,p=3+(u&7),u>>>=3,d-=3}else{for(w=x+7;d<w;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}u>>>=x,d-=x,M=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=qn;break}for(;p--;)n.lens[n.have++]=M}}if(n.mode===qn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=qn;break}if(n.lenbits=9,D={bits:n.lenbits},I=pf(G6,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,I){t.msg="invalid literal/lengths set",n.mode=qn;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},I=pf(K6,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,I){t.msg="invalid distances set",n.mode=qn;break}if(n.mode=ap,e===op)break e;case ap:n.mode=lp;case lp:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=d,xF(t,v),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,d=n.bits,n.mode===ta&&(n.back=-1);break}for(n.back=0;B=n.lencode[u&(1<<n.lenbits)-1],x=B>>>24,P=B>>>16&255,R=B&65535,!(x<=d);){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(P&&!(P&240)){for(U=x,Z=P,ie=R;B=n.lencode[ie+((u&(1<<U+Z)-1)>>U)],x=B>>>24,P=B>>>16&255,R=B&65535,!(U+x<=d);){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}u>>>=U,d-=U,n.back+=U}if(u>>>=x,d-=x,n.back+=x,n.length=R,P===0){n.mode=S4;break}if(P&32){n.back=-1,n.mode=ta;break}if(P&64){t.msg="invalid literal/length code",n.mode=qn;break}n.extra=P&15,n.mode=w4;case w4:if(n.extra){for(w=n.extra;d<w;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=b4;case b4:for(;B=n.distcode[u&(1<<n.distbits)-1],x=B>>>24,P=B>>>16&255,R=B&65535,!(x<=d);){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(!(P&240)){for(U=x,Z=P,ie=R;B=n.distcode[ie+((u&(1<<U+Z)-1)>>U)],x=B>>>24,P=B>>>16&255,R=B&65535,!(U+x<=d);){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}u>>>=U,d-=U,n.back+=U}if(u>>>=x,d-=x,n.back+=x,P&64){t.msg="invalid distance code",n.mode=qn;break}n.offset=R,n.extra=P&15,n.mode=x4;case x4:if(n.extra){for(w=n.extra;d<w;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=qn;break}n.mode=A4;case A4:if(l===0)break e;if(p=v-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=qn;break}p>n.wnext?(p-=n.wnext,k=n.wsize-p):k=n.wnext-p,p>n.length&&(p=n.length),E=n.window}else E=i,k=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=E[k++];while(--p);n.length===0&&(n.mode=lp);break;case S4:if(l===0)break e;i[o++]=n.length,l--,n.mode=lp;break;case qm:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[s++]<<d,d+=8}if(v-=l,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Lr(n.check,i,v,o-v):Wf(n.check,i,v,o-v)),v=l,n.wrap&4&&(n.flags?u:N4(u))!==n.check){t.msg="incorrect data check",n.mode=qn;break}u=0,d=0}n.mode=E4;case E4:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=qn;break}u=0,d=0}n.mode=I4;case I4:I=PF;break e;case qn:I=Y6;break e;case X6:return Q6;case J6:default:return Ms}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=d,(n.wsize||v!==t.avail_out&&n.mode<qn&&(n.mode<qm||e!==i4))&&rI(t,t.output,t.next_out,v-t.avail_out),g-=t.avail_in,v-=t.avail_out,t.total_in+=g,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Lr(n.check,i,v,t.next_out-v):Wf(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ta?128:0)+(n.mode===ap||n.mode===zm?256:0),(g===0&&v===0||e===i4)&&I===xu&&(I=LF),I},BF=t=>{if(Lu(t))return Ms;let e=t.state;return e.window&&(e.window=null),t.state=null,xu},zF=(t,e)=>{if(Lu(t))return Ms;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,xu):Ms},qF=(t,e)=>{const n=e.length;let r,i,s;return Lu(t)||(r=t.state,r.wrap!==0&&r.mode!==j0)?Ms:r.mode===j0&&(i=1,i=Wf(i,e,n,0),i!==r.check)?Y6:(s=rI(t,e,n,n),s?(r.mode=X6,Q6):(r.havedict=1,xu))};var $F=eI,HF=tI,WF=Z6,GF=jF,KF=nI,YF=UF,QF=BF,XF=zF,JF=qF,ZF="pako inflate (from Nodeca project)",oa={inflateReset:$F,inflateReset2:HF,inflateResetKeep:WF,inflateInit:GF,inflateInit2:KF,inflate:YF,inflateEnd:QF,inflateGetHeader:XF,inflateSetDictionary:JF,inflateInfo:ZF};function ej(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tj=ej;const iI=Object.prototype.toString,{Z_NO_FLUSH:nj,Z_FINISH:rj,Z_OK:Yf,Z_STREAM_END:Wm,Z_NEED_DICT:Gm,Z_STREAM_ERROR:ij,Z_DATA_ERROR:k4,Z_MEM_ERROR:sj}=fd;function pd(t){this.options=S1.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H6,this.strm.avail_out=0;let n=oa.inflateInit2(this.strm,e.windowBits);if(n!==Yf)throw new Error(Kc[n]);if(this.header=new tj,oa.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Kf.string2buf(e.dictionary):iI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=oa.inflateSetDictionary(this.strm,e.dictionary),n!==Yf)))throw new Error(Kc[n])}pd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?rj:nj,iI.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=oa.inflate(n,o),s===Gm&&i&&(s=oa.inflateSetDictionary(n,i),s===Yf?s=oa.inflate(n,o):s===k4&&(s=Gm));n.avail_in>0&&s===Wm&&n.state.wrap>0&&t[n.next_in]!==0;)oa.inflateReset(n),s=oa.inflate(n,o);switch(s){case ij:case k4:case Gm:case sj:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Wm))if(this.options.to==="string"){let l=Kf.utf8border(n.output,n.next_out),u=n.next_out-l,d=Kf.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Yf&&a===0)){if(s===Wm)return s=oa.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};pd.prototype.onData=function(t){this.chunks.push(t)};pd.prototype.onEnd=function(t){t===Yf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=S1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function G5(t,e){const n=new pd(e);if(n.push(t),n.err)throw n.msg||Kc[n.err];return n.result}function oj(t,e){return e=e||{},e.raw=!0,G5(t,e)}var aj=pd,lj=G5,uj=oj,cj=G5,hj=fd,fj={Inflate:aj,inflate:lj,inflateRaw:uj,ungzip:cj,constants:hj};const{Inflate:dj,inflate:pj,inflateRaw:kV,ungzip:PV}=fj;var P4=dj,mj=pj;const sI=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;sI[t]=e}const C4=4294967295;function gj(t,e,n){let r=t;for(let i=0;i<n;i++)r=sI[(r^e[i])&255]^r>>>8;return r}function yj(t,e){return(gj(C4,t,e)^C4)>>>0}function L4(t,e,n){const r=t.readUint32(),i=yj(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function oI(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function aI(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function lI(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function uI(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function cI(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+vj(e[s-i],n[s],n[s-i])&255}}function vj(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function _j(t,e,n,r,i,s){switch(t){case 0:oI(e,n,i);break;case 1:aI(e,n,i,s);break;case 2:lI(e,n,r,i);break;case 3:uI(e,n,r,i,s);break;case 4:cI(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wj=new Uint16Array([255]),bj=new Uint8Array(wj.buffer),xj=bj[0]===255;function Aj(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let d=0;d<7;d++){const g=o[d],v=Math.ceil((n-g.x)/g.xStep),p=Math.ceil((r-g.y)/g.yStep);if(v<=0||p<=0)continue;const k=v*a,E=new Uint8Array(k);for(let B=0;B<p;B++){const x=e[u++],P=e.subarray(u,u+k);u+=k;const R=new Uint8Array(k);_j(x,P,R,E,k,a),E.set(R);for(let U=0;U<v;U++){const Z=g.x+U*g.xStep,ie=g.y+B*g.yStep;if(!(Z>=n||ie>=r))for(let M=0;M<a;M++)l[(ie*n+Z)*a+M]=R[U*a+M]}}}if(s===16){const d=new Uint16Array(l.buffer);if(xj)for(let g=0;g<d.length;g++)d[g]=Sj(d[g]);return d}else return l}function Sj(t){return(t&255)<<8|t>>8&255}const Ej=new Uint16Array([255]),Ij=new Uint8Array(Ej.buffer),Nj=Ij[0]===255,Tj=new Uint8Array(0);function R4(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=Tj,d=0,g,v;for(let p=0;p<r;p++){switch(g=e.subarray(d+1,d+1+a),v=l.subarray(p*a,(p+1)*a),e[d]){case 0:oI(g,v,a);break;case 1:aI(g,v,a,o);break;case 2:lI(g,v,u,a);break;case 3:uI(g,v,u,a,o);break;case 4:cI(g,v,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=v,d+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(Nj)for(let k=0;k<p.length;k++)p[k]=kj(p[k]);return p}else return l}function kj(t){return(t&255)<<8|t>>8&255}const jp=Uint8Array.of(137,80,78,71,13,10,26,10);function D4(t){if(!Pj(t.readBytes(jp.length)))throw new Error("wrong PNG signature")}function Pj(t){if(t.length<jp.length)return!1;for(let e=0;e<jp.length;e++)if(t[e]!==jp[e])return!1;return!0}const Cj="tEXt",Lj=0,hI=new TextDecoder("latin1");function Rj(t){if(Oj(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Dj=/^[\u0000-\u00FF]*$/;function Oj(t){if(!Dj.test(t))throw new Error("invalid latin1 text")}function Mj(t,e,n){const r=fI(e);t[r]=Fj(e,n-r.length-1)}function fI(t){for(t.mark();t.readByte()!==Lj;);const e=t.offset;t.reset();const n=hI.decode(t.readBytes(e-t.offset-1));return t.skip(1),Rj(n),n}function Fj(t,e){return hI.decode(t.readBytes(e))}const is={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Km={UNKNOWN:-1,DEFLATE:0},O4={UNKNOWN:-1,ADAPTIVE:0},Ym={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},up={NONE:0,BACKGROUND:1,PREVIOUS:2},Qm={SOURCE:0,OVER:1};class jj extends U5{constructor(n,r={}){super(n);pn(this,"_checkCrc");pn(this,"_inflator");pn(this,"_png");pn(this,"_apng");pn(this,"_end");pn(this,"_hasPalette");pn(this,"_palette");pn(this,"_hasTransparency");pn(this,"_transparency");pn(this,"_compressionMethod");pn(this,"_filterMethod");pn(this,"_interlaceMethod");pn(this,"_colorType");pn(this,"_isAnimated");pn(this,"_numberOfFrames");pn(this,"_numberOfPlays");pn(this,"_frames");pn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new P4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Km.UNKNOWN,this._filterMethod=O4.UNKNOWN,this._interlaceMethod=Ym.UNKNOWN,this._colorType=is.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(D4(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(D4(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Cj:Mj(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?L4(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?L4(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Vj(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case is.GREYSCALE:i=1;break;case is.TRUECOLOUR:i=3;break;case is.INDEXED_COLOUR:i=1;break;case is.GREYSCALE_ALPHA:i=2;break;case is.TRUECOLOUR_ALPHA:i=4;break;case is.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Km.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case is.GREYSCALE:case is.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case is.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case is.UNKNOWN:case is.GREYSCALE_ALPHA:case is.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=fI(this),i=this.readUint8();if(i!==Km.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:mj(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=R4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case up.NONE:break;case up.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case up.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Qm.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[u+d]}break;case Qm.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let d=0;d<this._png.channels;d++){const g=r.data[u+this._png.channels-1]/i,v=d%(this._png.channels-1)===0?1:r.data[u+d],p=Math.floor(g*v+(1-g)*n.data[l+d]);n.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==O4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ym.NO_INTERLACE)this._png.data=R4({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ym.ADAM7)this._png.data=Aj({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:up.NONE,blendOp:Qm.SOURCE,data:n}),this._inflator=new P4,this._writingDataChunks=!1}}function Vj(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var M4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(M4||(M4={}));function Uj(t,e){return new jj(t,e).decode()}var Et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xm(){Et.console&&typeof Et.console.log=="function"&&Et.console.log.apply(Et.console,arguments)}var Sn={log:Xm,warn:function(t){Et.console&&(typeof Et.console.warn=="function"?Et.console.warn.apply(Et.console,arguments):Xm.call(null,arguments))},error:function(t){Et.console&&(typeof Et.console.error=="function"?Et.console.error.apply(Et.console,arguments):Xm(t))}};function Jm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Kl(r.response,e,n)},r.onerror=function(){Sn.error("could not download file")},r.send()}function F4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function cp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Kl=Et.saveAs||((typeof window>"u"?"undefined":mn(window))!=="object"||window!==Et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Et.URL||Et.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?F4(i.href)?Jm(t,e,n):cp(i,i.target="_blank"):cp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){cp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(F4(t))Jm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){cp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:mn(s)!=="object"&&(Sn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Jm(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Et.HTMLElement)||Et.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":mn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=Et.URL||Et.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Vp=Et.atob.bind(Et),j4=Et.btoa.bind(Et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zm(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ai(n,r,i,s,e[0],7,-680876936),s=ai(s,n,r,i,e[1],12,-389564586),i=ai(i,s,n,r,e[2],17,606105819),r=ai(r,i,s,n,e[3],22,-1044525330),n=ai(n,r,i,s,e[4],7,-176418897),s=ai(s,n,r,i,e[5],12,1200080426),i=ai(i,s,n,r,e[6],17,-1473231341),r=ai(r,i,s,n,e[7],22,-45705983),n=ai(n,r,i,s,e[8],7,1770035416),s=ai(s,n,r,i,e[9],12,-1958414417),i=ai(i,s,n,r,e[10],17,-42063),r=ai(r,i,s,n,e[11],22,-1990404162),n=ai(n,r,i,s,e[12],7,1804603682),s=ai(s,n,r,i,e[13],12,-40341101),i=ai(i,s,n,r,e[14],17,-1502002290),n=li(n,r=ai(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=li(s,n,r,i,e[6],9,-1069501632),i=li(i,s,n,r,e[11],14,643717713),r=li(r,i,s,n,e[0],20,-373897302),n=li(n,r,i,s,e[5],5,-701558691),s=li(s,n,r,i,e[10],9,38016083),i=li(i,s,n,r,e[15],14,-660478335),r=li(r,i,s,n,e[4],20,-405537848),n=li(n,r,i,s,e[9],5,568446438),s=li(s,n,r,i,e[14],9,-1019803690),i=li(i,s,n,r,e[3],14,-187363961),r=li(r,i,s,n,e[8],20,1163531501),n=li(n,r,i,s,e[13],5,-1444681467),s=li(s,n,r,i,e[2],9,-51403784),i=li(i,s,n,r,e[7],14,1735328473),n=ui(n,r=li(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ui(s,n,r,i,e[8],11,-2022574463),i=ui(i,s,n,r,e[11],16,1839030562),r=ui(r,i,s,n,e[14],23,-35309556),n=ui(n,r,i,s,e[1],4,-1530992060),s=ui(s,n,r,i,e[4],11,1272893353),i=ui(i,s,n,r,e[7],16,-155497632),r=ui(r,i,s,n,e[10],23,-1094730640),n=ui(n,r,i,s,e[13],4,681279174),s=ui(s,n,r,i,e[0],11,-358537222),i=ui(i,s,n,r,e[3],16,-722521979),r=ui(r,i,s,n,e[6],23,76029189),n=ui(n,r,i,s,e[9],4,-640364487),s=ui(s,n,r,i,e[12],11,-421815835),i=ui(i,s,n,r,e[15],16,530742520),n=ci(n,r=ui(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ci(s,n,r,i,e[7],10,1126891415),i=ci(i,s,n,r,e[14],15,-1416354905),r=ci(r,i,s,n,e[5],21,-57434055),n=ci(n,r,i,s,e[12],6,1700485571),s=ci(s,n,r,i,e[3],10,-1894986606),i=ci(i,s,n,r,e[10],15,-1051523),r=ci(r,i,s,n,e[1],21,-2054922799),n=ci(n,r,i,s,e[8],6,1873313359),s=ci(s,n,r,i,e[15],10,-30611744),i=ci(i,s,n,r,e[6],15,-1560198380),r=ci(r,i,s,n,e[13],21,1309151649),n=ci(n,r,i,s,e[4],6,-145523070),s=ci(s,n,r,i,e[11],10,-1120210379),i=ci(i,s,n,r,e[2],15,718787259),r=ci(r,i,s,n,e[9],21,-343485551),t[0]=sl(n,t[0]),t[1]=sl(r,t[1]),t[2]=sl(i,t[2]),t[3]=sl(s,t[3])}function I1(t,e,n,r,i,s){return e=sl(sl(e,t),sl(r,s)),sl(e<<i|e>>>32-i,n)}function ai(t,e,n,r,i,s,o){return I1(e&n|~e&r,t,e,i,s,o)}function li(t,e,n,r,i,s,o){return I1(e&r|n&~r,t,e,i,s,o)}function ui(t,e,n,r,i,s,o){return I1(e^n^r,t,e,i,s,o)}function ci(t,e,n,r,i,s,o){return I1(n^(e|~r),t,e,i,s,o)}function pI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Zm(r,Bj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Zm(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Zm(r,i),r}function Bj(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var V4="0123456789abcdef".split("");function zj(t){for(var e="",n=0;n<4;n++)e+=V4[t>>8*n+4&15]+V4[t>>8*n&15];return e}function qj(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function F2(t){return pI(t).map(qj).join("")}var $j=function(t){for(var e=0;e<t.length;e++)t[e]=zj(t[e]);return t.join("")}(pI("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(t,e){if($j){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var d=a[l];u=(u+d+o.charCodeAt(l))%256,a[l]=a[u],a[u]=d}n=t,r=a}else a=r;var g=e.length,v=0,p=0,k="";for(l=0;l<g;l++)p=(p+(d=a[v=(v+1)%256]))%256,a[v]=a[p],a[p]=d,o=a[(a[v]+a[p])%256],k+=String.fromCharCode(e.charCodeAt(l)^o);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var U4={print:4,modify:8,copy:16,"annot-forms":32};function tc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(U4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=U4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=F2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=j2(this.encryptionKey,this.padding)}function nc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function B4(t){if(mn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Et.console&&Sn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function V0(t){if(!(this instanceof V0))return new V0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function mI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Yl(t,e,n,r,i){if(!(this instanceof Yl))return new Yl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,mI.call(this,r,i)}function mc(t,e,n,r,i){if(!(this instanceof mc))return new mc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,mI.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",d=null;mn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=B4;var k="1.3",E=p.__private__.getPdfVersion=function(){return k};p.__private__.setPdfVersion=function(m){k=m};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return B};var x=p.__private__.getPageFormat=function(m){return B[m]};i=i||"a4";var P="compat",R="advanced",U=P;function Z(){this.saveGraphicsState(),H(new yt(Tt,0,0,-Tt,0,js()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),u="n",U=R}function ie(){this.restoreGraphicsState(),u="S",U=P}var M=p.__private__.combineFontStyleAndFontWeight=function(m,C){if(m=="bold"&&C=="normal"||m=="bold"&&C==400||m=="normal"&&C=="italic"||m=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(m=C==400||C==="normal"?m==="italic"?"italic":"normal":C!=700&&C!=="bold"||m!=="normal"?(C==700?"bold":C)+""+m:"bold"),m};p.advancedAPI=function(m){var C=U===P;return C&&Z.call(this),typeof m!="function"||(m(this),C&&ie.call(this)),this},p.compatAPI=function(m){var C=U===R;return C&&ie.call(this),typeof m!="function"||(m(this),C&&Z.call(this)),this},p.isAdvancedAPI=function(){return U===R};var I,S=function(m){if(U!==R)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(m,C){var G=e||C;if(isNaN(m)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(G).replace(/0+$/,"")};I=p.hpf=p.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return D(m,16)};var w=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return D(m,2)},N=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return D(m,3)},T=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return U===P?m*Tt:U===R?m:void 0},X=function(m){return T(function(C){return U===P?js()-C:U===R?C:void 0}(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var ce,me="00000000000000000000000000000000",ye=p.__private__.getFileId=function(){return me},J=p.__private__.setFileId=function(m){return me=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(_n=new tc(d.userPermissions,d.userPassword,d.ownerPassword,me)),me};p.setFileId=function(m){return J(m),this},p.getFileId=function(){return ye()};var le=p.__private__.convertDateToPDFDate=function(m){var C=m.getTimezoneOffset(),G=C<0?"+":"-",ee=Math.floor(Math.abs(C/60)),ae=Math.abs(C%60),Ae=[G,Q(ee),"'",Q(ae),"'"].join("");return["D:",m.getFullYear(),Q(m.getMonth()+1),Q(m.getDate()),Q(m.getHours()),Q(m.getMinutes()),Q(m.getSeconds()),Ae].join("")},we=p.__private__.convertPDFDateToDate=function(m){var C=parseInt(m.substr(2,4),10),G=parseInt(m.substr(6,2),10)-1,ee=parseInt(m.substr(8,2),10),ae=parseInt(m.substr(10,2),10),Ae=parseInt(m.substr(12,2),10),Pe=parseInt(m.substr(14,2),10);return new Date(C,G,ee,ae,Ae,Pe,0)},_e=p.__private__.setCreationDate=function(m){var C;if(m===void 0&&(m=new Date),m instanceof Date)C=le(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=m}return ce=C},F=p.__private__.getCreationDate=function(m){var C=ce;return m==="jsDate"&&(C=we(ce)),C};p.setCreationDate=function(m){return _e(m),this},p.getCreationDate=function(m){return F(m)};var W,Q=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},te=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},re=0,oe=[],ge=[],ve=0,Ie=[],Le=[],Be=!1,je=ge;p.__private__.setCustomOutputDestination=function(m){Be=!0,je=m};var ot=function(m){Be||(je=m)};p.__private__.resetCustomOutputDestination=function(){Be=!1,je=ge};var H=p.__private__.out=function(m){return m=m.toString(),ve+=m.length+1,je.push(m),je},Ve=p.__private__.write=function(m){return H(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},bt=p.__private__.getArrayBuffer=function(m){for(var C=m.length,G=new ArrayBuffer(C),ee=new Uint8Array(G);C--;)ee[C]=m.charCodeAt(C);return G},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return at};var Ee=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Ee=U===R?m/Tt:m,this};var He,ze=p.__private__.getFontSize=p.getFontSize=function(){return U===P?Ee:Ee*Tt},ft=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return ft=m,this},p.__private__.getR2L=p.getR2L=function(){return ft};var rt,Yt=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))He=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');He=m}else He=parseInt(m,10)};p.__private__.getZoomMode=function(){return He};var Nt,wt=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');rt=m};p.__private__.getPageMode=function(){return rt};var Lt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Nt=m};p.__private__.getLayoutMode=function(){return Nt},p.__private__.setDisplayMode=p.setDisplayMode=function(m,C,G){return Yt(m),Lt(C),wt(G),this};var jt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(jt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jt[m]},p.__private__.getDocumentProperties=function(){return jt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var C in jt)jt.hasOwnProperty(C)&&m[C]&&(jt[C]=m[C]);return this},p.__private__.setDocumentProperty=function(m,C){if(Object.keys(jt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jt[m]=C};var Ze,Tt,We,En,Ot,dt={},Pt={},Jt=[],et={},tn={},pt={},gt={},sn=null,lt=0,tt=[],Mt=new B4(p),Nr=t.hotfixes||[],hr={},Pi={},wn=[],yt=function m(C,G,ee,ae,Ae,Pe){if(!(this instanceof m))return new m(C,G,ee,ae,Ae,Pe);isNaN(C)&&(C=1),isNaN(G)&&(G=0),isNaN(ee)&&(ee=0),isNaN(ae)&&(ae=1),isNaN(Ae)&&(Ae=0),isNaN(Pe)&&(Pe=0),this._matrix=[C,G,ee,ae,Ae,Pe]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(m)},yt.prototype.multiply=function(m){var C=m.sx*this.sx+m.shy*this.shx,G=m.sx*this.shy+m.shy*this.sy,ee=m.shx*this.sx+m.sy*this.shx,ae=m.shx*this.shy+m.sy*this.sy,Ae=m.tx*this.sx+m.ty*this.shx+this.tx,Pe=m.tx*this.shy+m.ty*this.sy+this.ty;return new yt(C,G,ee,ae,Ae,Pe)},yt.prototype.decompose=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,Ae=this.ty,Pe=Math.sqrt(m*m+C*C),Ke=(m/=Pe)*G+(C/=Pe)*ee;G-=m*Ke,ee-=C*Ke;var nt=Math.sqrt(G*G+ee*ee);return Ke/=nt,m*(ee/=nt)<C*(G/=nt)&&(m=-m,C=-C,Ke=-Ke,Pe=-Pe),{scale:new yt(Pe,0,0,nt,0,0),translate:new yt(1,0,0,1,ae,Ae),rotate:new yt(m,C,-C,m,0,0),skew:new yt(1,0,Ke,1,0,0)}},yt.prototype.toString=function(m){return this.join(" ")},yt.prototype.inversed=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,Ae=this.ty,Pe=1/(m*ee-C*G),Ke=ee*Pe,nt=-C*Pe,_t=-G*Pe,mt=m*Pe;return new yt(Ke,nt,_t,mt,-Ke*ae-_t*Ae,-nt*ae-mt*Ae)},yt.prototype.applyToPoint=function(m){var C=m.x*this.sx+m.y*this.shx+this.tx,G=m.x*this.shy+m.y*this.sy+this.ty;return new vi(C,G)},yt.prototype.applyToRectangle=function(m){var C=this.applyToPoint(m),G=this.applyToPoint(new vi(m.x+m.w,m.y+m.h));return new Ta(C.x,C.y,G.x-C.x,G.y-C.y)},yt.prototype.clone=function(){var m=this.sx,C=this.shy,G=this.shx,ee=this.sy,ae=this.tx,Ae=this.ty;return new yt(m,C,G,ee,ae,Ae)},p.Matrix=yt;var Wi=p.matrixMult=function(m,C){return C.multiply(m)},Xr=new yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Xr;var Tr=function(m,C){if(!tn[m]){var G=(C instanceof Yl?"Sh":"P")+(Object.keys(et).length+1).toString(10);C.id=G,tn[m]=G,et[G]=C,Mt.publish("addPattern",C)}};p.ShadingPattern=Yl,p.TilingPattern=mc,p.addShadingPattern=function(m,C){return S("addShadingPattern()"),Tr(m,C),this},p.beginTilingPattern=function(m){S("beginTilingPattern()"),fo(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,C){S("endTilingPattern()"),C.stream=Le[W].join(`
`),Tr(m,C),Mt.publish("endTilingPattern",C),wn.pop().restore()};var Fr,yn=p.__private__.newObject=function(){var m=In();return tr(m,!0),m},In=p.__private__.newObjectDeferred=function(){return re++,oe[re]=function(){return ve},re},tr=function(m,C){return C=typeof C=="boolean"&&C,oe[m]=ve,C&&H(m+" 0 obj"),m},kr=p.__private__.newAdditionalObject=function(){var m={objId:In(),content:""};return Ie.push(m),m},Gi=In(),Jr=In(),_r=p.__private__.decodeColorString=function(m){var C=m.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length!==5||C[4]!=="k"&&C[4]!=="K"||(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var G=parseFloat(C[0]);C=[G,G,G,"r"]}for(var ee="#",ae=0;ae<3;ae++)ee+=("0"+Math.floor(255*parseFloat(C[ae])).toString(16)).slice(-2);return ee},jr=p.__private__.encodeColorString=function(m){var C;typeof m=="string"&&(m={ch1:m});var G=m.ch1,ee=m.ch2,ae=m.ch3,Ae=m.ch4,Pe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Ke=new dI(G);if(Ke.ok)G=Ke.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var nt=parseInt(G.substr(1),16);G=nt>>16&255,ee=nt>>8&255,ae=255&nt}if(ee===void 0||Ae===void 0&&G===ee&&ee===ae)C=typeof G=="string"?G+" "+Pe[0]:m.precision===2?w(G/255)+" "+Pe[0]:N(G/255)+" "+Pe[0];else if(Ae===void 0||mn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Pe[1]].join(" ");C=typeof G=="string"?[G,ee,ae,Pe[1]].join(" "):m.precision===2?[w(G/255),w(ee/255),w(ae/255),Pe[1]].join(" "):[N(G/255),N(ee/255),N(ae/255),Pe[1]].join(" ")}else C=typeof G=="string"?[G,ee,ae,Ae,Pe[2]].join(" "):m.precision===2?[w(G),w(ee),w(ae),w(Ae),Pe[2]].join(" "):[N(G),N(ee),N(ae),N(Ae),Pe[2]].join(" ");return C},Zr=p.__private__.getFilters=function(){return o},be=p.__private__.putStream=function(m){var C=(m=m||{}).data||"",G=m.filters||Zr(),ee=m.alreadyAppliedFilters||[],ae=m.addLength1||!1,Ae=C.length,Pe=m.objectId,Ke=function(_){return _};if(d!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ke=_n.encryptor(Pe,0));var nt={};G===!0&&(G=["FlateEncode"]);var _t=m.additionalKeyValues||[],mt=(nt=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(C,G):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(nt.data.length!==0&&(_t.push({key:"Length",value:nt.data.length}),ae===!0&&_t.push({key:"Length1",value:Ae})),mt.length!=0)if(mt.split("/").length-1==1)_t.push({key:"Filter",value:mt});else{_t.push({key:"Filter",value:"["+mt+"]"});for(var $t=0;$t<_t.length;$t+=1)if(_t[$t].key==="DecodeParms"){for(var Tn=[],bn=0;bn<nt.reverseChain.split("/").length-1;bn+=1)Tn.push("null");Tn.push(_t[$t].value),_t[$t].value="["+Tn.join(" ")+"]"}}H("<<");for(var h=0;h<_t.length;h++)H("/"+_t[h].key+" "+_t[h].value);H(">>"),nt.data.length!==0&&(H("stream"),H(Ke(nt.data)),H("endstream"))},Re=p.__private__.putPage=function(m){var C=m.number,G=m.data,ee=m.objId,ae=m.contentsObjId;tr(ee,!0),H("<</Type /Page"),H("/Parent "+m.rootDictionaryObjId+" 0 R"),H("/Resources "+m.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(I(m.mediaBox.bottomLeftX))+" "+parseFloat(I(m.mediaBox.bottomLeftY))+" "+I(m.mediaBox.topRightX)+" "+I(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&H("/CropBox ["+I(m.cropBox.bottomLeftX)+" "+I(m.cropBox.bottomLeftY)+" "+I(m.cropBox.topRightX)+" "+I(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&H("/BleedBox ["+I(m.bleedBox.bottomLeftX)+" "+I(m.bleedBox.bottomLeftY)+" "+I(m.bleedBox.topRightX)+" "+I(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&H("/TrimBox ["+I(m.trimBox.bottomLeftX)+" "+I(m.trimBox.bottomLeftY)+" "+I(m.trimBox.topRightX)+" "+I(m.trimBox.topRightY)+"]"),m.artBox!==null&&H("/ArtBox ["+I(m.artBox.bottomLeftX)+" "+I(m.artBox.bottomLeftY)+" "+I(m.artBox.topRightX)+" "+I(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&H("/UserUnit "+m.userUnit),Mt.publish("putPage",{objId:ee,pageContext:tt[C],pageNumber:C,page:G}),H("/Contents "+ae+" 0 R"),H(">>"),H("endobj");var Ae=G.join(`
`);return U===R&&(Ae+=`
Q`),tr(ae,!0),be({data:Ae,filters:Zr(),objectId:ae}),H("endobj"),ee},ct=p.__private__.putPages=function(){var m,C,G=[];for(m=1;m<=lt;m++)tt[m].objId=In(),tt[m].contentsObjId=In();for(m=1;m<=lt;m++)G.push(Re({number:m,data:Le[m],objId:tt[m].objId,contentsObjId:tt[m].contentsObjId,mediaBox:tt[m].mediaBox,cropBox:tt[m].cropBox,bleedBox:tt[m].bleedBox,trimBox:tt[m].trimBox,artBox:tt[m].artBox,userUnit:tt[m].userUnit,rootDictionaryObjId:Gi,resourceDictionaryObjId:Jr}));tr(Gi,!0),H("<</Type /Pages");var ee="/Kids [";for(C=0;C<lt;C++)ee+=G[C]+" 0 R ";H(ee+"]"),H("/Count "+lt),H(">>"),H("endobj"),Mt.publish("postPutPages")},St=function(m){Mt.publish("putFont",{font:m,out:H,newObject:yn,putStream:be}),m.isAlreadyPutted!==!0&&(m.objectNumber=yn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+nc(m.postScriptName)),H("/Subtype /Type1"),typeof m.encoding=="string"&&H("/Encoding /"+m.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Fe=function(m){m.objectNumber=yn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[I(m.x),I(m.y),I(m.x+m.width),I(m.y+m.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var G=m.pages[1].join(`
`);be({data:G,additionalKeyValues:C,objectId:m.objectNumber}),H("endobj")},Bt=function(m,C){C||(C=21);var G=yn(),ee=function(Pe,Ke){var nt,_t=[],mt=1/(Ke-1);for(nt=0;nt<1;nt+=mt)_t.push(nt);if(_t.push(1),Pe[0].offset!=0){var $t={offset:0,color:Pe[0].color};Pe.unshift($t)}if(Pe[Pe.length-1].offset!=1){var Tn={offset:1,color:Pe[Pe.length-1].color};Pe.push(Tn)}for(var bn="",h=0,_=0;_<_t.length;_++){for(nt=_t[_];nt>Pe[h+1].offset;)h++;var A=Pe[h].offset,q=(nt-A)/(Pe[h+1].offset-A),ue=Pe[h].color,pe=Pe[h+1].color;bn+=te(Math.round((1-q)*ue[0]+q*pe[0]).toString(16))+te(Math.round((1-q)*ue[1]+q*pe[1]).toString(16))+te(Math.round((1-q)*ue[2]+q*pe[2]).toString(16))}return bn.trim()}(m.colors,C),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+C+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be({data:ee,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),H("endobj"),m.objectNumber=yn(),H("<< /ShadingType "+m.type),H("/ColorSpace /DeviceRGB");var Ae="/Coords ["+I(parseFloat(m.coords[0]))+" "+I(parseFloat(m.coords[1]))+" ";m.type===2?Ae+=I(parseFloat(m.coords[2]))+" "+I(parseFloat(m.coords[3])):Ae+=I(parseFloat(m.coords[2]))+" "+I(parseFloat(m.coords[3]))+" "+I(parseFloat(m.coords[4]))+" "+I(parseFloat(m.coords[5])),H(Ae+="]"),m.matrix&&H("/Matrix ["+m.matrix.toString()+"]"),H("/Function "+G+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},on=function(m,C){var G=In(),ee=yn();C.push({resourcesOid:G,objectOid:ee}),m.objectNumber=ee;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+m.boundingBox.map(I).join(" ")+"]"}),ae.push({key:"XStep",value:I(m.xStep)}),ae.push({key:"YStep",value:I(m.yStep)}),ae.push({key:"Resources",value:G+" 0 R"}),m.matrix&&ae.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),be({data:m.stream,additionalKeyValues:ae,objectId:m.objectNumber}),H("endobj")},Xe=function(m){for(var C in m.objectNumber=yn(),H("<<"),m)switch(C){case"opacity":H("/ca "+w(m[C]));break;case"stroke-opacity":H("/CA "+w(m[C]))}H(">>"),H("endobj")},On=function(m){tr(m.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var C in H("/Font <<"),dt)dt.hasOwnProperty(C)&&(g===!1||g===!0&&v.hasOwnProperty(C))&&H("/"+C+" "+dt[C].objectNumber+" 0 R");H(">>")}(),function(){if(Object.keys(et).length>0){for(var C in H("/Shading <<"),et)et.hasOwnProperty(C)&&et[C]instanceof Yl&&et[C].objectNumber>=0&&H("/"+C+" "+et[C].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),H(">>")}}(),function(C){if(Object.keys(et).length>0){for(var G in H("/Pattern <<"),et)et.hasOwnProperty(G)&&et[G]instanceof p.TilingPattern&&et[G].objectNumber>=0&&et[G].objectNumber<C&&H("/"+G+" "+et[G].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),H(">>")}}(m.objectOid),function(){if(Object.keys(pt).length>0){var C;for(C in H("/ExtGState <<"),pt)pt.hasOwnProperty(C)&&pt[C].objectNumber>=0&&H("/"+C+" "+pt[C].objectNumber+" 0 R");Mt.publish("putGStateDict"),H(">>")}}(),function(){for(var C in H("/XObject <<"),hr)hr.hasOwnProperty(C)&&hr[C].objectNumber>=0&&H("/"+C+" "+hr[C].objectNumber+" 0 R");Mt.publish("putXobjectDict"),H(">>")}(),H(">>"),H("endobj")},Mn=function(m){Pt[m.fontName]=Pt[m.fontName]||{},Pt[m.fontName][m.fontStyle]=m.id},Pr=function(m,C,G,ee,ae){var Ae={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:m,fontName:C,fontStyle:G,encoding:ee,isStandardFont:ae||!1,metadata:{}};return Mt.publish("addFont",{font:Ae,instance:this}),dt[Ae.id]=Ae,Mn(Ae),Ae.id},fr=p.__private__.pdfEscape=p.pdfEscape=function(m,C){return function(G,ee){var ae,Ae,Pe,Ke,nt,_t,mt,$t,Tn;if(Pe=(ee=ee||{}).sourceEncoding||"Unicode",nt=ee.outputEncoding,(ee.autoencode||nt)&&dt[Ze].metadata&&dt[Ze].metadata[Pe]&&dt[Ze].metadata[Pe].encoding&&(Ke=dt[Ze].metadata[Pe].encoding,!nt&&dt[Ze].encoding&&(nt=dt[Ze].encoding),!nt&&Ke.codePages&&(nt=Ke.codePages[0]),typeof nt=="string"&&(nt=Ke[nt]),nt)){for(mt=!1,_t=[],ae=0,Ae=G.length;ae<Ae;ae++)($t=nt[G.charCodeAt(ae)])?_t.push(String.fromCharCode($t)):_t.push(G[ae]),_t[ae].charCodeAt(0)>>8&&(mt=!0);G=_t.join("")}for(ae=G.length;mt===void 0&&ae!==0;)G.charCodeAt(ae-1)>>8&&(mt=!0),ae--;if(!mt)return G;for(_t=ee.noBOM?[]:[254,255],ae=0,Ae=G.length;ae<Ae;ae++){if((Tn=($t=G.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_t.push(Tn),_t.push($t-(Tn<<8))}return String.fromCharCode.apply(void 0,_t)}(m,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zn=p.__private__.beginPage=function(m){Le[++lt]=[],tt[lt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},oo(lt),ot(Le[W])},Ki=function(m,C){var G,ee,ae;switch(n=C||n,typeof m=="string"&&(G=x(m.toLowerCase()),Array.isArray(G)&&(ee=G[0],ae=G[1])),Array.isArray(m)&&(ee=m[0]*Tt,ae=m[1]*Tt),isNaN(ee)&&(ee=i[0],ae=i[1]),(ee>14400||ae>14400)&&(Sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ae=Math.min(14400,ae)),i=[ee,ae],n.substr(0,1)){case"l":ae>ee&&(i=[ae,ee]);break;case"p":ee>ae&&(i=[ae,ee])}zn(i),xt(Di),H(Ea),Oi!==0&&H(Oi+" J"),Na!==0&&H(Na+" j"),Mt.publish("addPage",{pageNumber:lt})},gs=function(m){m>0&&m<=lt&&(Le.splice(m,1),tt.splice(m,1),lt--,W>lt&&(W=lt),this.setPage(W))},oo=function(m){m>0&&m<=lt&&(W=m)},ao=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},zo=function(m,C,G){var ee,ae=void 0;return G=G||{},m=m!==void 0?m:dt[Ze].fontName,C=C!==void 0?C:dt[Ze].fontStyle,ee=m.toLowerCase(),Pt[ee]!==void 0&&Pt[ee][C]!==void 0?ae=Pt[ee][C]:Pt[m]!==void 0&&Pt[m][C]!==void 0?ae=Pt[m][C]:G.disableWarning===!1&&Sn.warn("Unable to look up font label for font '"+m+"', '"+C+"'. Refer to getFontList() for available fonts."),ae||G.noFallback||(ae=Pt.times[C])==null&&(ae=Pt.times.normal),ae},Ci=p.__private__.putInfo=function(){var m=yn(),C=function(ee){return ee};for(var G in d!==null&&(C=_n.encryptor(m,0)),H("<<"),H("/Producer ("+fr(C("jsPDF "+ht.version))+")"),jt)jt.hasOwnProperty(G)&&jt[G]&&H("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+fr(C(jt[G]))+")");H("/CreationDate ("+fr(C(ce))+")"),H(">>"),H("endobj")},Vr=p.__private__.putCatalog=function(m){var C=(m=m||{}).rootDictionaryObjId||Gi;switch(yn(),H("<<"),H("/Type /Catalog"),H("/Pages "+C+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+He;G.substr(G.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&H("/OpenAction [3 0 R /XYZ null null "+w(He)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}rt&&H("/PageMode /"+rt),Mt.publish("putCatalog"),H(">>"),H("endobj")},gi=p.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(re+1)),H("/Root "+re+" 0 R"),H("/Info "+(re-1)+" 0 R"),d!==null&&H("/Encrypt "+_n.oid+" 0 R"),H("/ID [ <"+me+"> <"+me+"> ]"),H(">>")},vn=p.__private__.putHeader=function(){H("%PDF-"+k),H("%")},ln=p.__private__.putXRef=function(){var m="0000000000";H("xref"),H("0 "+(re+1)),H("0000000000 65535 f ");for(var C=1;C<=re;C++)typeof oe[C]=="function"?H((m+oe[C]()).slice(-10)+" 00000 n "):oe[C]!==void 0?H((m+oe[C]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},hn=p.__private__.buildDocument=function(){var m;re=0,ve=0,ge=[],oe=[],Ie=[],Gi=In(),Jr=In(),ot(ge),Mt.publish("buildDocument"),vn(),ct(),function(){Mt.publish("putAdditionalObjects");for(var G=0;G<Ie.length;G++){var ee=Ie[G];tr(ee.objId,!0),H(ee.content),H("endobj")}Mt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var G in dt)dt.hasOwnProperty(G)&&(g===!1||g===!0&&v.hasOwnProperty(G))&&St(dt[G])}(),function(){var G;for(G in pt)pt.hasOwnProperty(G)&&Xe(pt[G])}(),function(){for(var G in hr)hr.hasOwnProperty(G)&&Fe(hr[G])}(),function(G){var ee;for(ee in et)et.hasOwnProperty(ee)&&(et[ee]instanceof Yl?Bt(et[ee]):et[ee]instanceof mc&&on(et[ee],G))}(m),Mt.publish("putResources"),m.forEach(On),On({resourcesOid:Jr,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources"),d!==null&&(_n.oid=yn(),H("<<"),H("/Filter /Standard"),H("/V "+_n.v),H("/R "+_n.r),H("/U <"+_n.toHexString(_n.U)+">"),H("/O <"+_n.toHexString(_n.O)+">"),H("/P "+_n.P),H(">>"),H("endobj")),Ci(),Vr();var C=ve;return ln(),gi(),H("startxref"),H(""+C),H("%%EOF"),ot(Le[W]),ge.join(`
`)},zt=p.__private__.getBlob=function(m){return new Blob([bt(m)],{type:"application/pdf"})},ei=p.output=p.__private__.output=(Fr=function(m,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",m){case void 0:return hn();case"save":p.save(C.filename);break;case"arraybuffer":return bt(hn());case"blob":return zt(hn());case"bloburi":case"bloburl":if(Et.URL!==void 0&&typeof Et.URL.createObjectURL=="function")return Et.URL&&Et.URL.createObjectURL(zt(hn()))||void 0;Sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ee=hn();try{G=j4(ee)}catch{G=j4(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+C.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ae=C.pdfObjectUrl,Ae="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Ke=Et.open();return Ke!==null&&Ke.document.write(Pe),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Et)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',_t=Et.open();if(_t!==null){_t.document.write(nt);var mt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=C.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Tn=Et.open();if(Tn!==null&&(Tn.document.write($t),Tn.document.title=C.filename),Tn||typeof safari>"u")return Tn;break;case"datauri":case"dataurl":return Et.document.location.href=this.output("datauristring",C);default:return null}},Fr.foo=function(){try{return Fr.apply(this,arguments)}catch(G){var m=G.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var C="Error in function "+m.split(`
`)[0].split("<")[0]+": "+G.message;if(!Et.console)throw new Error(C);Et.console.error(C,G),Et.alert&&alert(C)}},Fr.foo.bar=Fr,Fr.foo),dr=function(m){return Array.isArray(Nr)===!0&&Nr.indexOf(m)>-1};switch(r){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Tt=r}var _n=null;_e(),J();var Li=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[m].objId,pageNumber:m,pageContext:tt[m]}},qo=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in tt)if(tt[C].objId===m)break;return Li(C)},Ol=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:tt[W].objId,pageNumber:W,pageContext:tt[W]}};p.addPage=function(){return Ki.apply(this,arguments),this},p.setPage=function(){return oo.apply(this,arguments),ot.call(this,Le[W]),this},p.insertPage=function(m){return this.addPage(),this.movePage(W,m),this},p.movePage=function(m,C){var G,ee;if(m>C){G=Le[m],ee=tt[m];for(var ae=m;ae>C;ae--)Le[ae]=Le[ae-1],tt[ae]=tt[ae-1];Le[C]=G,tt[C]=ee,this.setPage(C)}else if(m<C){G=Le[m],ee=tt[m];for(var Ae=m;Ae<C;Ae++)Le[Ae]=Le[Ae+1],tt[Ae]=tt[Ae+1];Le[C]=G,tt[C]=ee,this.setPage(C)}return this},p.deletePage=function(){return gs.apply(this,arguments),this},p.__private__.text=p.text=function(m,C,G,ee,ae){var Ae,Pe,Ke,nt,_t,mt,$t,Tn,bn,h=(ee=ee||{}).scope||this;if(typeof m=="number"&&typeof C=="number"&&(typeof G=="string"||Array.isArray(G))){var _=G;G=C,C=m,m=_}if(arguments[3]instanceof yt==0?(Ke=arguments[4],nt=arguments[5],mn($t=arguments[3])==="object"&&$t!==null||(typeof Ke=="string"&&(nt=Ke,Ke=null),typeof $t=="string"&&(nt=$t,$t=null),typeof $t=="number"&&(Ke=$t,$t=null),ee={flags:$t,angle:Ke,align:nt})):(S("The transform parameter of text() with a Matrix value"),bn=ae),isNaN(C)||isNaN(G)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return h;var A,q="",ue=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Ho,pe=h.internal.scaleFactor;function Me(un){return un=un.split("	").join(Array(ee.TabLen||9).join(" ")),fr(un,$t)}function kt(un){for(var xn,rr=un.concat(),wr=[],Qo=rr.length;Qo--;)typeof(xn=rr.shift())=="string"?wr.push(xn):Array.isArray(un)&&(xn.length===1||xn[1]===void 0&&xn[2]===void 0)?wr.push(xn[0]):wr.push([xn[0],xn[1],xn[2]]);return wr}function kn(un,xn){var rr;if(typeof un=="string")rr=xn(un)[0];else if(Array.isArray(un)){for(var wr,Qo,bh=un.concat(),$u=[],yd=bh.length;yd--;)typeof(wr=bh.shift())=="string"?$u.push(xn(wr)[0]):Array.isArray(wr)&&typeof wr[0]=="string"&&(Qo=xn(wr[0],wr[1],wr[2]),$u.push([Qo[0],Qo[1],Qo[2]]));rr=$u}return rr}var Ht=!1,Pn=!0;if(typeof m=="string")Ht=!0;else if(Array.isArray(m)){var Cr=m.concat();Pe=[];for(var ti,Cn=Cr.length;Cn--;)(typeof(ti=Cr.shift())!="string"||Array.isArray(ti)&&typeof ti[0]!="string")&&(Pn=!1);Ht=Pn}if(Ht===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var ni=Ee/h.internal.scaleFactor,bs=ni*(ue-1);switch(ee.baseline){case"bottom":G-=bs;break;case"top":G+=ni-bs;break;case"hanging":G+=ni-2*bs;break;case"middle":G+=ni/2-bs}if((mt=ee.maxWidth||0)>0&&(typeof m=="string"?m=h.splitTextToSize(m,mt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(un,xn){return un.concat(h.splitTextToSize(xn,mt))},[]))),Ae={text:m,x:C,y:G,options:ee,mutex:{pdfEscape:fr,activeFontKey:Ze,fonts:dt,activeFontSize:Ee}},Mt.publish("preProcessText",Ae),m=Ae.text,Ke=(ee=Ae.options).angle,bn instanceof yt==0&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,ee.rotationDirection===0&&(Ke=-Ke),U===R&&(Ke=-Ke);var Go=Math.cos(Ke),dh=Math.sin(Ke);bn=new yt(Go,dh,-dh,Go,0,0)}else Ke&&Ke instanceof yt&&(bn=Ke);U!==R||bn||(bn=Xr),(_t=ee.charSpace||_s)!==void 0&&(q+=I(T(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tn=ee.horizontalScale)!==void 0&&(q+=I(100*Tn)+` Tz
`),ee.lang;var wi=-1,Ko=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,zu=h.internal.getCurrentPageInfo().pageContext;switch(Ko){case 0:case!1:case"fill":wi=0;break;case 1:case!0:case"stroke":wi=1;break;case 2:case"fillThenStroke":wi=2;break;case 3:case"invisible":wi=3;break;case 4:case"fillAndAddForClipping":wi=4;break;case 5:case"strokeAndAddPathForClipping":wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wi=6;break;case 7:case"addToPathForClipping":wi=7}var md=zu.usedRenderingMode!==void 0?zu.usedRenderingMode:-1;wi!==-1?q+=wi+` Tr
`:md!==-1&&(q+=`0 Tr
`),wi!==-1&&(zu.usedRenderingMode=wi),nt=ee.align||"left";var xs,Ul=Ee*ue,ph=h.internal.pageSize.getWidth(),mh=dt[Ze];_t=ee.charSpace||_s,mt=ee.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var Pa=[],Bl=function(un){return h.getStringUnitWidth(un,{font:mh,charSpace:_t,fontSize:Ee,doKerning:!1})*Ee/pe};if(Object.prototype.toString.call(m)==="[object Array]"){var Qi;Pe=kt(m),nt!=="left"&&(xs=Pe.map(Bl));var Xi,Ca=0;if(nt==="right"){C-=xs[0],m=[],Cn=Pe.length;for(var Yo=0;Yo<Cn;Yo++)Yo===0?(Xi=yi(C),Qi=vs(G)):(Xi=T(Ca-xs[Yo]),Qi=-Ul),m.push([Pe[Yo],Xi,Qi]),Ca=xs[Yo]}else if(nt==="center"){C-=xs[0]/2,m=[],Cn=Pe.length;for(var La=0;La<Cn;La++)La===0?(Xi=yi(C),Qi=vs(G)):(Xi=T((Ca-xs[La])/2),Qi=-Ul),m.push([Pe[La],Xi,Qi]),Ca=xs[La]}else if(nt==="left"){m=[],Cn=Pe.length;for(var gh=0;gh<Cn;gh++)m.push(Pe[gh])}else if(nt==="justify"&&mh.encoding==="Identity-H"){m=[],Cn=Pe.length,mt=mt!==0?mt:ph;for(var qu=0,nr=0;nr<Cn;nr++)if(Qi=nr===0?vs(G):-Ul,Xi=nr===0?yi(C):qu,nr<Cn-1){var gd=T((mt-xs[nr])/(Pe[nr].split(" ").length-1)),go=Pe[nr].split(" ");m.push([go[0]+" ",Xi,Qi]),qu=0;for(var yo=1;yo<go.length;yo++){var yh=(Bl(go[yo-1]+" "+go[yo])-Bl(go[yo]))*pe+gd;yo==go.length-1?m.push([go[yo],yh,0]):m.push([go[yo]+" ",yh,0]),qu-=yh}}else m.push([Pe[nr],Xi,Qi]);m.push(["",qu,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Cn=Pe.length,mt=mt!==0?mt:ph,nr=0;nr<Cn;nr++){Qi=nr===0?vs(G):-Ul,Xi=nr===0?yi(C):0;var vh=Pe[nr].split(" ").length-1,_h=vh>0?(mt-xs[nr])/vh:0;nr<Cn-1?Pa.push(I(T(_h))):Pa.push(0),m.push([Pe[nr],Xi,Qi])}}}(typeof ee.R2L=="boolean"?ee.R2L:ft)===!0&&(m=kn(m,function(un,xn,rr){return[un.split("").reverse().join(""),xn,rr]})),Ae={text:m,x:C,y:G,options:ee,mutex:{pdfEscape:fr,activeFontKey:Ze,fonts:dt,activeFontSize:Ee}},Mt.publish("postProcessText",Ae),m=Ae.text,A=Ae.mutex.isHex||!1;var wh=dt[Ze].encoding;wh!=="WinAnsiEncoding"&&wh!=="StandardEncoding"||(m=kn(m,function(un,xn,rr){return[Me(un),xn,rr]})),Pe=kt(m),m=[];for(var Ra,Da,Oa,zl=Array.isArray(Pe[0])?1:0,Ma="",ql=function(un,xn,rr){var wr="";return rr instanceof yt?(rr=typeof ee.angle=="number"?Wi(rr,new yt(1,0,0,1,un,xn)):Wi(new yt(1,0,0,1,un,xn),rr),U===R&&(rr=Wi(new yt(1,0,0,-1,0,0),rr)),wr=rr.join(" ")+` Tm
`):wr=I(un)+" "+I(xn)+` Td
`,wr},As=0;As<Pe.length;As++){switch(Ma="",zl){case 1:Oa=(A?"<":"(")+Pe[As][0]+(A?">":")"),Ra=parseFloat(Pe[As][1]),Da=parseFloat(Pe[As][2]);break;case 0:Oa=(A?"<":"(")+Pe[As]+(A?">":")"),Ra=yi(C),Da=vs(G)}Pa!==void 0&&Pa[As]!==void 0&&(Ma=Pa[As]+` Tw
`),As===0?m.push(Ma+ql(Ra,Da,bn)+Oa):zl===0?m.push(Ma+Oa):zl===1&&m.push(Ma+ql(Ra,Da,bn)+Oa)}m=zl===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var vo=`BT
/`;return vo+=Ze+" "+Ee+` Tf
`,vo+=I(Ee*ue)+` TL
`,vo+=co+`
`,vo+=q,vo+=m,H(vo+="ET"),v[Ze]=!0,h};var $o=p.__private__.clip=p.clip=function(m){return H(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return $o("evenodd")},p.__private__.discardPath=p.discardPath=function(){return H("n"),this};var ys=p.__private__.isValidStyle=function(m){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(C=!0),C};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return ys(m)&&(u=m),this};var Du=p.__private__.getStyle=p.getStyle=function(m){var C=u;switch(m){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=m}return C},lo=p.close=function(){return H("h"),this};p.stroke=function(){return H("S"),this},p.fill=function(m){return Ri("f",m),this},p.fillEvenOdd=function(m){return Ri("f*",m),this},p.fillStroke=function(m){return Ri("B",m),this},p.fillStrokeEvenOdd=function(m){return Ri("B*",m),this};var Ri=function(m,C){mn(C)==="object"?Mu(C,m):H(m)},uo=function(m){m===null||U===R&&m===void 0||(m=Du(m),H(m))};function Ou(m,C,G,ee,ae){var Ae=new mc(C||this.boundingBox,G||this.xStep,ee||this.yStep,this.gState,ae||this.matrix);Ae.stream=this.stream;var Pe=m+"$$"+this.cloneIndex+++"$$";return Tr(Pe,Ae),Ae}var Mu=function(m,C){var G=tn[m.key],ee=et[G];if(ee instanceof Yl)H("q"),H(Fu(C)),ee.gState&&p.setGState(ee.gState),H(m.matrix.toString()+" cm"),H("/"+G+" sh"),H("Q");else if(ee instanceof mc){var ae=new yt(1,0,0,-1,0,js());m.matrix&&(ae=ae.multiply(m.matrix||Xr),G=Ou.call(ee,m.key,m.boundingBox,m.xStep,m.yStep,ae).id),H("q"),H("/Pattern cs"),H("/"+G+" scn"),ee.gState&&p.setGState(ee.gState),H(C),H("Q")}},Fu=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Aa=p.moveTo=function(m,C){return H(I(T(m))+" "+I(X(C))+" m"),this},Fs=p.lineTo=function(m,C){return H(I(T(m))+" "+I(X(C))+" l"),this},Yi=p.curveTo=function(m,C,G,ee,ae,Ae){return H([I(T(m)),I(X(C)),I(T(G)),I(X(ee)),I(T(ae)),I(X(Ae)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!ys(ae))throw new Error("Invalid arguments passed to jsPDF.line");return U===P?this.lines([[G-m,ee-C]],m,C,[1,1],ae||"S"):this.lines([[G-m,ee-C]],m,C,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,C,G,ee,ae,Ae){var Pe,Ke,nt,_t,mt,$t,Tn,bn,h,_,A,q;if(typeof m=="number"&&(q=G,G=C,C=m,m=q),ee=ee||[1,1],Ae=Ae||!1,isNaN(C)||isNaN(G)||!Array.isArray(m)||!Array.isArray(ee)||!ys(ae)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Aa(C,G),Pe=ee[0],Ke=ee[1],_t=m.length,_=C,A=G,nt=0;nt<_t;nt++)(mt=m[nt]).length===2?(_=mt[0]*Pe+_,A=mt[1]*Ke+A,Fs(_,A)):($t=mt[0]*Pe+_,Tn=mt[1]*Ke+A,bn=mt[2]*Pe+_,h=mt[3]*Ke+A,_=mt[4]*Pe+_,A=mt[5]*Ke+A,Yi($t,Tn,bn,h,_,A));return Ae&&lo(),uo(ae),this},p.path=function(m){for(var C=0;C<m.length;C++){var G=m[C],ee=G.c;switch(G.op){case"m":Aa(ee[0],ee[1]);break;case"l":Fs(ee[0],ee[1]);break;case"c":Yi.apply(this,ee);break;case"h":lo()}}return this},p.__private__.rect=p.rect=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!ys(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return U===P&&(ee=-ee),H([I(T(m)),I(X(C)),I(T(G)),I(T(ee)),"re"].join(" ")),uo(ae),this},p.__private__.triangle=p.triangle=function(m,C,G,ee,ae,Ae,Pe){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(Ae)||!ys(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-m,ee-C],[ae-G,Ae-ee],[m-ae,C-Ae]],m,C,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,C,G,ee,ae,Ae,Pe){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||isNaN(ae)||isNaN(Ae)||!ys(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*G),Ae=Math.min(Ae,.5*ee),this.lines([[G-2*ae,0],[ae*Ke,0,ae,Ae-Ae*Ke,ae,Ae],[0,ee-2*Ae],[0,Ae*Ke,-ae*Ke,Ae,-ae,Ae],[2*ae-G,0],[-ae*Ke,0,-ae,-Ae*Ke,-ae,-Ae],[0,2*Ae-ee],[0,-Ae*Ke,ae*Ke,-Ae,ae,-Ae]],m+ae,C,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(m,C,G,ee,ae){if(isNaN(m)||isNaN(C)||isNaN(G)||isNaN(ee)||!ys(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*G,Pe=4/3*(Math.SQRT2-1)*ee;return Aa(m+G,C),Yi(m+G,C-Pe,m+Ae,C-ee,m,C-ee),Yi(m-Ae,C-ee,m-G,C-Pe,m-G,C),Yi(m-G,C+Pe,m-Ae,C+ee,m,C+ee),Yi(m+Ae,C+ee,m+G,C+Pe,m+G,C),uo(ae),this},p.__private__.circle=p.circle=function(m,C,G,ee){if(isNaN(m)||isNaN(C)||isNaN(G)||!ys(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,C,G,G,ee)},p.setFont=function(m,C,G){return G&&(C=M(C,G)),Ze=zo(m,C,{disableWarning:!1}),this};var hh=p.__private__.getFont=p.getFont=function(){return dt[zo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,C,G={};for(m in Pt)if(Pt.hasOwnProperty(m))for(C in G[m]=[],Pt[m])Pt[m].hasOwnProperty(C)&&G[m].push(C);return G},p.addFont=function(m,C,G,ee,ae){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(G=M(G,ee)),Pr.call(this,m,C,G,ae=ae||"Identity-H")};var Ho,Di=t.lineWidth||.200025,fh=p.__private__.getLineWidth=p.getLineWidth=function(){return Di},xt=p.__private__.setLineWidth=p.setLineWidth=function(m){return Di=m,H(I(T(m))+" w"),this};p.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(m,C){if(m=m||[],C=C||0,isNaN(C)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(G){return I(T(G))}).join(" "),C=I(T(C)),H("["+m+"] "+C+" d"),this};var Sa=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Ho};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Ho};var ju=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Ho=m),this},Wo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ho};ju(t.lineHeight);var yi=p.__private__.getHorizontalCoordinate=function(m){return T(m)},vs=p.__private__.getVerticalCoordinate=function(m){return U===R?m:tt[W].mediaBox.topRightY-tt[W].mediaBox.bottomLeftY-T(m)},Ml=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return I(yi(m))},Nn=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return I(vs(m))},Ea=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _r(Ea)},p.__private__.setStrokeColor=p.setDrawColor=function(m,C,G,ee){return Ea=jr({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"draw",precision:2}),H(Ea),this};var Fl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _r(Fl)},p.__private__.setFillColor=p.setFillColor=function(m,C,G,ee){return Fl=jr({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"fill",precision:2}),H(Fl),this};var co=t.textColor||"0 g",Vu=p.__private__.getTextColor=p.getTextColor=function(){return _r(co)};p.__private__.setTextColor=p.setTextColor=function(m,C,G,ee){return co=jr({ch1:m,ch2:C,ch3:G,ch4:ee,pdfColorType:"text",precision:3}),this};var _s=t.charSpace,Ia=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(_s||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _s=m,this};var Oi=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var C=p.CapJoinStyles[m];if(C===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oi=C,H(C+" J"),this};var Na=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var C=p.CapJoinStyles[m];if(C===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Na=C,H(C+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(I(T(m))+" M"),this},p.GState=V0,p.setGState=function(m){(m=typeof m=="string"?pt[gt[m]]:Uu(null,m)).equals(sn)||(H("/"+m.id+" gs"),sn=m)};var Uu=function(m,C){if(!m||!gt[m]){var G=!1;for(var ee in pt)if(pt.hasOwnProperty(ee)&&pt[ee].equals(C)){G=!0;break}if(G)C=pt[ee];else{var ae="GS"+(Object.keys(pt).length+1).toString(10);pt[ae]=C,C.id=ae}return m&&(gt[m]=C.id),Mt.publish("addGState",C),C}};p.addGState=function(m,C){return Uu(m,C),this},p.saveGraphicsState=function(){return H("q"),Jt.push({key:Ze,size:Ee,color:co}),this},p.restoreGraphicsState=function(){H("Q");var m=Jt.pop();return Ze=m.key,Ee=m.size,co=m.color,sn=null,this},p.setCurrentTransformationMatrix=function(m){return H(m.toString()+" cm"),this},p.comment=function(m){return H("#"+m),this};var vi=function(m,C){var G=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Ae){isNaN(Ae)||(G=parseFloat(Ae))}});var ee=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Ae){isNaN(Ae)||(ee=parseFloat(Ae))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(Ae){ae=Ae.toString()}}),this},Ta=function(m,C,G,ee){vi.call(this,m,C),this.type="rect";var ae=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(Pe){isNaN(Pe)||(ae=parseFloat(Pe))}});var Ae=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Pe){isNaN(Pe)||(Ae=parseFloat(Pe))}}),this},ho=function(){this.page=lt,this.currentPage=W,this.pages=Le.slice(0),this.pagesContext=tt.slice(0),this.x=We,this.y=En,this.matrix=Ot,this.width=mo(W),this.height=jl(W),this.outputDestination=je,this.id="",this.objectNumber=-1};ho.prototype.restore=function(){lt=this.page,W=this.currentPage,tt=this.pagesContext,Le=this.pages,We=this.x,En=this.y,Ot=this.matrix,Bu(W,this.width),_i(W,this.height),je=this.outputDestination};var fo=function(m,C,G,ee,ae){wn.push(new ho),lt=W=0,Le=[],We=m,En=C,Ot=ae,zn([G,ee])};for(var po in p.beginFormObject=function(m,C,G,ee,ae){return fo(m,C,G,ee,ae),this},p.endFormObject=function(m){return function(C){if(Pi[C])wn.pop().restore();else{var G=new ho,ee="Xo"+(Object.keys(hr).length+1).toString(10);G.id=ee,Pi[C]=ee,hr[ee]=G,Mt.publish("addFormObject",G),wn.pop().restore()}}(m),this},p.doFormObject=function(m,C){var G=hr[Pi[m]];return H("q"),H(C.toString()+" cm"),H("/"+G.id+" Do"),H("Q"),this},p.getFormObject=function(m){var C=hr[Pi[m]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},p.save=function(m,C){return m=m||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(Kl(zt(hn()),m),typeof Kl.unload=="function"&&Et.setTimeout&&setTimeout(Kl.unload,911),this):new Promise(function(G,ee){try{var ae=Kl(zt(hn()),m);typeof Kl.unload=="function"&&Et.setTimeout&&setTimeout(Kl.unload,911),G(ae)}catch(Ae){ee(Ae.message)}})},ht.API)ht.API.hasOwnProperty(po)&&(po==="events"&&ht.API.events.length?function(m,C){var G,ee,ae;for(ae=C.length-1;ae!==-1;ae--)G=C[ae][0],ee=C[ae][1],m.subscribe.apply(m,[G].concat(typeof ee=="function"?[ee]:ee))}(Mt,ht.API.events):p[po]=ht.API[po]);function mo(m){return tt[m].mediaBox.topRightX-tt[m].mediaBox.bottomLeftX}function Bu(m,C){tt[m].mediaBox.topRightX=C+tt[m].mediaBox.bottomLeftX}function jl(m){return tt[m].mediaBox.topRightY-tt[m].mediaBox.bottomLeftY}function _i(m,C){tt[m].mediaBox.topRightY=C+tt[m].mediaBox.bottomLeftY}var ws=p.getPageWidth=function(m){return mo(m=m||W)/Tt},Vl=p.setPageWidth=function(m,C){Bu(m,C*Tt)},js=p.getPageHeight=function(m){return jl(m=m||W)/Tt},ka=p.setPageHeight=function(m,C){_i(m,C*Tt)};return p.internal={pdfEscape:fr,getStyle:Du,getFont:hh,getFontSize:ze,getCharSpace:Ia,getTextColor:Vu,getLineHeight:Sa,getLineHeightFactor:Wo,getLineWidth:fh,write:Ve,getHorizontalCoordinate:yi,getVerticalCoordinate:vs,getCoordinateString:Ml,getVerticalCoordinateString:Nn,collections:{},newObject:yn,newAdditionalObject:kr,newObjectDeferred:In,newObjectDeferredBegin:tr,getFilters:Zr,putStream:be,events:Mt,scaleFactor:Tt,pageSize:{getWidth:function(){return ws(W)},setWidth:function(m){Vl(W,m)},getHeight:function(){return js(W)},setHeight:function(m){ka(W,m)}},encryptionOptions:d,encryption:_n,getEncryptor:function(m){return d!==null?_n.encryptor(m,0):function(C){return C}},output:ei,getNumberOfPages:ao,get pages(){return Le},out:H,f2:w,f3:N,getPageInfo:Li,getPageInfoByObjId:qo,getCurrentPageInfo:Ol,getPDFVersion:E,Point:vi,Rectangle:Ta,Matrix:yt,hasHotfix:dr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ws(W)},set:function(m){Vl(W,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return js(W)},set:function(m){ka(W,m)},enumerable:!0,configurable:!0}),(function(m){for(var C=0,G=at.length;C<G;C++){var ee=Pr.call(this,m[C][0],m[C][1],m[C][2],at[C][3],!0);g===!1&&(v[ee]=!0);var ae=m[C][0].split("-");Mn({id:ee,fontName:ae[0],fontStyle:ae[1]||""})}Mt.publish("addFonts",{fonts:dt,dictionary:Pt})}).call(p,at),Ze="F1",Ki(i,n),Mt.publish("initialized"),p}tc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},tc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},tc.prototype.processOwnerPassword=function(t,e){return j2(F2(e).substr(0,5),t)},tc.prototype.encryptor=function(t,e){var n=F2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return j2(n,r)}},V0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||mn(t)!==mn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="4.0.0";var Jn=ht.API,K5=1,Ru=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(t){return t.toFixed(2)},Wa=function(t){return t.toFixed(5)};Jn.__acroform__={};var Hi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},z4=function(t){return t*K5},bo=function(t){var e=new yI,n=Je.internal.getHeight(t)||0,r=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Rt(r)),Number(Rt(n))],e},Hj=Jn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Wj=Jn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Gj=Jn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},lr=Jn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Gj(t,e-1)},ur=Jn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hj(t,e-1)},cr=Jn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wj(t,e-1)},Kj=Jn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Rt(l.lowerLeft_X)),Number(Rt(l.lowerLeft_Y)),Number(Rt(l.upperRight_X)),Number(Rt(l.upperRight_Y))]},Yj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=V2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Rt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=bo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},V2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(w){return w.split(`
`)}):i.map(function(w){return[w]});var s=n,o=Je.internal.getHeight(t)||0;o=o<0?-o:o;var a=Je.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(w,N,T){if(w+1<i.length){var X=N+" "+i[w+1][0];return hp(X,t,T).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,g=hp("3",t,s).height,v=t.multiline?o-s:(o-g)/2,p=v+=2,k=0,E=0,B=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+hp(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",P=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var U=!1;if(i[R].length!==1&&B!==i[R].length-1){if((g+2)*(P+2)+2>o)continue e;x+=i[R][B],U=!0,E=R,R--}else{x=(x+=i[R][B]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var Z=parseInt(R),ie=l(Z,x,s),M=R>=i.length-1;if(ie&&!M){x+=" ",B=0;continue}if(ie||M){if(M)E=Z;else if(t.multiline&&(g+2)*(P+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(P+2)+2>o)continue e;E=Z}}for(var I="",S=k;S<=E;S++){var D=i[S];if(t.multiline){if(S===E){I+=D[B]+" ",B=(B+1)%D.length;continue}if(S===k){I+=D[D.length-1]+" ";continue}}I+=D[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=hp(I,t,s).width,t.textAlign){case"right":u=a-d-2;break;case"center":u=(a-d)/2;break;default:u=2}e+=Rt(u)+" "+Rt(p)+` Td
`,e+="("+Ru(I)+`) Tj
`,e+=-Rt(u)+` 0 Td
`,p=-(s+2),d=0,k=U?E:E+1,P++,x=""}break}return r.text=e,r.fontSize=s,r},hp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Qj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xj=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Jj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Qj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new vI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Xj(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=Kj(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Je.createDefaultAppearanceStream(a),mn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=Yj(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var g="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var p=a.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var k=p[o];typeof k=="function"&&(k=k.call(i,a)),g+="/"+o+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=p)=="function"&&(k=k.call(i,a)),g+="/"+o+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(E,B){for(var x in E)if(E.hasOwnProperty(x)){var P=x,R=E[x];B.internal.newObjectDeferredBegin(R.objId,!0),mn(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete E[P]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},gI=Jn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),mn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Ru(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},eg=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Ru(r(t))+")"},No=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};No.prototype.toString=function(){return this.objId+" 0 R"},No.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},No.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:gI(i,this.objId,this.scope)}):i instanceof No?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var yI=function(){No.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Hi(yI,No);var vI=function(){No.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ru(n(t))+")"}},set:function(n){t=n}})};Hi(vI,No);var io=function t(){No.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!lr(e,3)},set:function(x){x?this.F=ur(e,3):this.F=cr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof U0)return;s="FieldObject"+t.FieldNum++}var x=function(P){return P};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ru(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/K5:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof U0||this instanceof uu))return eg(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Or==0?eg(v,this.objId,this.scope):v},set:function(x){x=x.toString(),v=this instanceof Or==0?x.substr(0,1)==="("?Yu(x.substr(1,x.length-2)):Yu(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or==1?Yu(v.substr(1,v.length-1)):v},set:function(x){x=x.toString(),v=this instanceof Or==1?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Or==0?eg(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof Or==0?x.substr(0,1)==="("?Yu(x.substr(1,x.length-2)):Yu(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or==1?Yu(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Or==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(x){x=!!x,E=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(x){k=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,1)},set:function(x){x?this.Ff=ur(this.Ff,1):this.Ff=cr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,2)},set:function(x){x?this.Ff=ur(this.Ff,2):this.Ff=cr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,3)},set:function(x){x?this.Ff=ur(this.Ff,3):this.Ff=cr(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');B=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(B){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};Hi(io,No);var Pc=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,18)},set:function(n){n?this.Ff=ur(this.Ff,18):this.Ff=cr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ur(this.Ff,19):this.Ff=cr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,20)},set:function(n){n?(this.Ff=ur(this.Ff,20),e.sort()):this.Ff=cr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,22)},set:function(n){n?this.Ff=ur(this.Ff,22):this.Ff=cr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(n){n?this.Ff=ur(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,27)},set:function(n){n?this.Ff=ur(this.Ff,27):this.Ff=cr(this.Ff,27)}}),this.hasAppearanceStream=!1};Hi(Pc,io);var Cc=function(){Pc.call(this),this.fontName="helvetica",this.combo=!1};Hi(Cc,Pc);var Lc=function(){Cc.call(this),this.combo=!0};Hi(Lc,Cc);var Up=function(){Lc.call(this),this.edit=!0};Hi(Up,Lc);var Or=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,15)},set:function(n){n?this.Ff=ur(this.Ff,15):this.Ff=cr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,16)},set:function(n){n?this.Ff=ur(this.Ff,16):this.Ff=cr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,17)},set:function(n){n?this.Ff=ur(this.Ff,17):this.Ff=cr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(n){n?this.Ff=ur(this.Ff,26):this.Ff=cr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ru(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){mn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Hi(Or,io);var Bp=function(){Or.call(this),this.pushButton=!0};Hi(Bp,Or);var Rc=function(){Or.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Hi(Rc,Or);var U0=function(){var t,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ru(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){mn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hi(U0,io),Rc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Rc.prototype.createOption=function(t){var e=new U0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Zj.call(this.scope,e),e};var zp=function(){Or.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};Hi(zp,Or);var uu=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,13)},set:function(e){e?this.Ff=ur(this.Ff,13):this.Ff=cr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,21)},set:function(e){e?this.Ff=ur(this.Ff,21):this.Ff=cr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(e){e?this.Ff=ur(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,24)},set:function(e){e?this.Ff=ur(this.Ff,24):this.Ff=cr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,25)},set:function(e){e?this.Ff=ur(this.Ff,25):this.Ff=cr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(e){e?this.Ff=ur(this.Ff,26):this.Ff=cr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hi(uu,io);var qp=function(){uu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,14)},set:function(t){t?this.Ff=ur(this.Ff,14):this.Ff=cr(this.Ff,14)}}),this.password=!0};Hi(qp,uu);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=bo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=V2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(Je.internal.getWidth(t))+" "+Rt(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=bo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Je.internal.getHeight(t),o=Je.internal.getWidth(t),a=V2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Rt(o)+" "+Rt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(o-1)+" "+Rt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Rt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=bo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(Je.internal.getWidth(t))+" "+Rt(Je.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=bo(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Je.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Wa(Je.internal.getWidth(t)/2)+" "+Wa(Je.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=bo(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Je.internal.Bezier_C).toFixed(5)),o=Number((r*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wa(Je.internal.getWidth(t)/2)+" "+Wa(Je.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Wa(Je.internal.getWidth(t)/2)+" "+Wa(Je.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=bo(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Wa(Je.internal.getWidth(t)/2)+" "+Wa(Je.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=bo(t);e.scope=t.scope;var n=[],r=Je.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Rt(Je.internal.getWidth(t)-2)+" "+Rt(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=bo(t);e.scope=t.scope;var n=Je.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(Je.internal.getWidth(t))+" "+Rt(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rt(Je.internal.getWidth(t)-2)+" "+Rt(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=bo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(Je.internal.getWidth(t))+" "+Rt(Je.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),n=Je.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Je.internal.getWidth=function(t){var e=0;return mn(t)==="object"&&(e=z4(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return mn(t)==="object"&&(e=z4(t.Rect[3])),e};var Zj=Jn.addField=function(t){if(Jj(this,t),!(t instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Jn.AcroFormChoiceField=Pc,Jn.AcroFormListBox=Cc,Jn.AcroFormComboBox=Lc,Jn.AcroFormEditBox=Up,Jn.AcroFormButton=Or,Jn.AcroFormPushButton=Bp,Jn.AcroFormRadioButton=Rc,Jn.AcroFormCheckBox=zp,Jn.AcroFormTextField=uu,Jn.AcroFormPasswordField=qp,Jn.AcroFormAppearance=Je,Jn.AcroForm={ChoiceField:Pc,ListBox:Cc,ComboBox:Lc,EditBox:Up,Button:Or,PushButton:Bp,RadioButton:Rc,CheckBox:zp,TextField:uu,PasswordField:qp,Appearance:Je},ht.AcroForm={ChoiceField:Pc,ListBox:Cc,ComboBox:Lc,EditBox:Up,Button:Or,PushButton:Bp,RadioButton:Rc,CheckBox:zp,TextField:uu,PasswordField:qp,Appearance:Je};function _I(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(w,N){var T,X,ce,me,ye,J=n;if((N=N||n)==="RGBA"||w.data!==void 0&&w.data instanceof Uint8ClampedArray&&"height"in w&&"width"in w)return"RGBA";if(ie(w))for(ye in r)for(ce=r[ye],T=0;T<ce.length;T+=1){for(me=!0,X=0;X<ce[T].length;X+=1)if(ce[T][X]!==void 0&&ce[T][X]!==w[X]){me=!1;break}if(me===!0){J=ye;break}}else for(ye in r)for(ce=r[ye],T=0;T<ce.length;T+=1){for(me=!0,X=0;X<ce[T].length;X+=1)if(ce[T][X]!==void 0&&ce[T][X]!==w.charCodeAt(X)){me=!1;break}if(me===!0){J=ye;break}}return J===n&&N!==n&&(J=N),J},s=function w(N){for(var T=this.internal.write,X=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:N.width}),me.push({key:"Height",value:N.height}),N.colorSpace===x.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===x.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var ye="",J=0,le=N.transparency.length;J<le;J++)ye+=N.transparency[J]+" "+N.transparency[J]+" ";me.push({key:"Mask",value:"["+ye+"]"})}N.sMask!==void 0&&me.push({key:"SMask",value:N.objectId+1+" 0 R"});var we=N.filter!==void 0?["/"+N.filter]:void 0;if(X({data:N.data,additionalKeyValues:me,alreadyAppliedFilters:we,objectId:N.objectId}),T("endobj"),"sMask"in N&&N.sMask!==void 0){var _e,F=(_e=N.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:N.bitsPerComponent,W={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:N.sMask};"filter"in N&&(W.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(N.width),W.filter=N.filter),w.call(this,W)}if(N.colorSpace===x.INDEXED){var Q=this.internal.newObject();X({data:I(new Uint8Array(N.palette)),objectId:Q}),T("endobj")}},o=function(){var w=this.internal.collections[e+"images"];for(var N in w)s.call(this,w[N])},a=function(){var w,N=this.internal.collections[e+"images"],T=this.internal.write;for(var X in N)T("/I"+(w=N[X]).index,w.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var w=this.internal.collections[e+"images"];return l.call(this),w},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(w){return typeof t["process"+w.toUpperCase()]=="function"},v=function(w){return mn(w)==="object"&&w.nodeType===1},p=function(w,N){if(w.nodeName==="IMG"&&w.hasAttribute("src")){var T=""+w.getAttribute("src");if(T.indexOf("data:image/")===0)return Vp(unescape(T).split("base64,").pop());var X=t.loadFile(T,!0);if(X!==void 0)return X}if(w.nodeName==="CANVAS"){if(w.width===0||w.height===0)throw new Error("Given canvas must have data. Canvas width: "+w.width+", height: "+w.height);var ce;switch(N){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Vp(w.toDataURL(ce,1).split("base64,").pop())}},k=function(w){var N=this.internal.collections[e+"images"];if(N){for(var T in N)if(w===N[T].alias)return N[T]}},E=function(w,N,T){return w||N||(w=-96,N=-96),w<0&&(w=-1*T.width*72/w/this.internal.scaleFactor),N<0&&(N=-1*T.height*72/N/this.internal.scaleFactor),w===0&&(w=N*T.width/T.height),N===0&&(N=w*T.height/T.width),[w,N]},B=function(w,N,T,X,ce,me){var ye=E.call(this,T,X,ce),J=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,we=u.call(this);if(T=ye[0],X=ye[1],we[ce.index]=ce,me){me*=Math.PI/180;var _e=Math.cos(me),F=Math.sin(me),W=function(te){return te.toFixed(4)},Q=[W(_e),W(F),W(-1*F),W(_e),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,J(w),le(N+X),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([J(T),"0","0",J(X),"0","0","cm"].join(" "))):this.internal.write([J(T),"0","0",J(X),J(w),le(N+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(w){var N,T,X=0;if(typeof w=="string")for(T=w.length,N=0;N<T;N++)X=(X<<5)-X+w.charCodeAt(N),X|=0;else if(ie(w))for(T=w.byteLength/2,N=0;N<T;N++)X=(X<<5)-X+w[N],X|=0;return X},U=t.__addimage__.validateStringAsBase64=function(w){(w=w||"").toString().trim();var N=!0;return w.length===0&&(N=!1),w.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(w.substr(0,w.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(w.substr(-2))===!1&&(N=!1),N},Z=t.__addimage__.extractImageFromDataUrl=function(w){if(w==null||!(w=w.trim()).startsWith("data:"))return null;var N=w.indexOf(",");return N<0?null:w.substring(0,N).trim().endsWith("base64")?w.substring(N+1):null};t.__addimage__.isArrayBuffer=function(w){return w instanceof ArrayBuffer};var ie=t.__addimage__.isArrayBufferView=function(w){return w instanceof Int8Array||w instanceof Uint8Array||w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(w){for(var N=w.length,T=new Uint8Array(N),X=0;X<N;X++)T[X]=w.charCodeAt(X);return T},I=t.__addimage__.arrayBufferToBinaryString=function(w){for(var N="",T=ie(w)?w:new Uint8Array(w),X=0;X<T.length;X+=8192)N+=String.fromCharCode.apply(null,T.subarray(X,X+8192));return N};t.addImage=function(){var w,N,T,X,ce,me,ye,J,le;if(typeof arguments[1]=="number"?(N=n,T=arguments[1],X=arguments[2],ce=arguments[3],me=arguments[4],ye=arguments[5],J=arguments[6],le=arguments[7]):(N=arguments[1],T=arguments[2],X=arguments[3],ce=arguments[4],me=arguments[5],ye=arguments[6],J=arguments[7],le=arguments[8]),mn(w=arguments[0])==="object"&&!v(w)&&"imageData"in w){var we=w;w=we.imageData,N=we.format||N||n,T=we.x||T||0,X=we.y||X||0,ce=we.w||we.width||ce,me=we.h||we.height||me,ye=we.alias||ye,J=we.compression||J,le=we.rotation||we.angle||le}var _e=this.internal.getFilters();if(J===void 0&&_e.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(T)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=S.call(this,w,N,ye,J);return B.call(this,T,X,ce,me,F,le),this};var S=function(w,N,T,X){var ce,me,ye;if(typeof w=="string"&&i(w)===n){w=unescape(w);var J=D(w,!1);(J!==""||(J=t.loadFile(w,!0))!==void 0)&&(w=J)}if(v(w)&&(w=p(w,N)),N=i(w,N),!g(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ye=T)==null||ye.length===0)&&(T=function(le){return typeof le=="string"||ie(le)?R(le):ie(le.data)?R(le.data):null}(w)),(ce=k.call(this,T))||(w instanceof Uint8Array||N==="RGBA"||(me=w,w=M(w)),ce=this["process"+N.toUpperCase()](w,d.call(this),T,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:P.NONE}(X),me)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},D=t.__addimage__.convertBase64ToBinaryString=function(w,N){N=typeof N!="boolean"||N;var T,X="";if(typeof w=="string"){var ce;T=(ce=Z(w))!==null&&ce!==void 0?ce:w;try{X=Vp(T)}catch(me){if(N)throw U(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(w){var N,T,X="";if(v(w)&&(w=p(w)),typeof w=="string"&&i(w)===n&&((X=D(w,!1))===""&&(X=t.loadFile(w)||""),w=X),T=i(w),!g(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(w instanceof Uint8Array||(w=M(w)),!(N=this["process"+T.toUpperCase()](w)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=T,N}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,g=0;g<u.length&&!d;g++)switch((r=u[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var p=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(E.objId),P=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(x(r.contents))+")",s+=" /Popup "+B.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(x(P))+") >>",E.content=s;var R=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",B.content=s,this.internal.write(E.objId,"0 R",B.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(k(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Z=this.annotations._nameMap[r.options.name];r.options.pageNumber=Z.page,r.options.top=Z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(k(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ie=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ie+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(u*d)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},a=t.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&i.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&s(E)&&e[E.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(E){var B=0,x=n,P="",R=0;for(B=0;B<E.length;B+=1)x[E.charCodeAt(B)]!==void 0?(R++,typeof(x=x[E.charCodeAt(B)])=="number"&&(P+=String.fromCharCode(x),x=n,R=0),B===E.length-1&&(x=n,P+=E.charAt(B-(R-1)),B-=R-1,R=0)):(x=n,P+=E.charAt(B-R),B-=R,R=0);return P};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(E,B,x){return o(E)?s(E)===!1?-1:!u(E)||!o(B)&&!o(x)||!o(x)&&a(B)||a(E)&&!o(B)||a(E)&&l(B)||a(E)&&a(B)?0:d(E)&&o(B)&&!a(B)&&o(x)&&u(x)?3:a(E)||!o(x)?1:2:-1},p=function(E){var B=0,x=0,P=0,R="",U="",Z="",ie=(E=E||"").split("\\s+"),M=[];for(B=0;B<ie.length;B+=1){for(M.push(""),x=0;x<ie[B].length;x+=1)R=ie[B][x],U=ie[B][x-1],Z=ie[B][x+1],o(R)?(P=v(R,U,Z),M[B]+=P!==-1?String.fromCharCode(e[R.charCodeAt(0)][P]):R):M[B]+=R;M[B]=g(M[B])}return M.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var E,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(B)){var P=0;for(x=[],P=0;P<B.length;P+=1)Array.isArray(B[P])?x.push([p(B[P][0]),B[P][1],B[P][2]]):x.push([p(B[P])]);E=x}else E=p(B);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",k])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(E){k=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,p=0,k=0,E=0,B=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,U){return R.concat(B.splitTextToSize(U,x))},[])):l=Array.isArray(l)?l:[l];for(var P=0;P<l.length;P++)p<(E=this.getStringUnitWidth(l[P],{font:g})*d)&&(p=E);return p!==0&&(k=l.length),{w:p/=v,h:Math.max((k*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,p&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,g,v){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,k,E,B,x=[],P=[],R=[],U={},Z={},ie=[],M=[],I=(v=v||{}).autoSize||!1,S=v.printHeaders!==!1,D=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,w=v.margins||Object.assign({width:this.getPageWidth()},e),N=typeof v.padding=="number"?v.padding:3,T=v.headerBackgroundColor||"#c8c8c8",X=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=w,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=X,this.setFontSize(D),g==null)P=x=Object.keys(d[0]),R=x.map(function(){return"left"});else if(Array.isArray(g)&&mn(g[0])==="object")for(x=g.map(function(we){return we.name}),P=g.map(function(we){return we.prompt||we.name||""}),R=g.map(function(we){return we.align||"left"}),p=0;p<g.length;p+=1)Z[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(P=x=g,R=x.map(function(){return"left"}));if(I||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<x.length;p+=1){for(U[B=x[p]]=d.map(function(we){return we[B]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(P[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=U[B],this.setFont(void 0,"normal"),E=0;E<k.length;E+=1)ie.push(this.getTextDimensions(k[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[B]=Math.max.apply(null,ie)+N+N,ie=[]}if(S){var ce={};for(p=0;p<x.length;p+=1)ce[x[p]]={},ce[x[p]].text=P[p],ce[x[p]].align=R[p];var me=a.call(this,ce,Z);M=x.map(function(we){return new s(l,u,Z[we],me,ce[we].text,void 0,ce[we].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var ye=g.reduce(function(we,_e){return we[_e.name]=_e.align,we},{});for(p=0;p<d.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:d[p]},this);var J=a.call(this,d[p],Z);for(E=0;E<x.length;E+=1){var le=d[p][x[E]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:E,data:le},this),o.call(this,new s(l,u,Z[x[E]],J,le,p+2,ye[x[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(p){var k=l[p];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/v+d+d},this).reduce(function(p,k){return Math.max(p,k)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,v.push(d)),d.lineNumber=l;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(k)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(ht.API);var wI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],U2=_I(bI),xI=[100,200,300,400,500,600,700,800,900],eV=_I(xI);function tg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return wI[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof U2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function q4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var tV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function H4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function W4(t){return t.trimLeft()}function nV(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function rV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var fp,G4,K4,Qu,dp,Y4,Q4,X4,ng=["times"];function J4(t,e,n,r,i){var s=4,o=e3;switch(i){case ht.API.image_compression.FAST:s=1,o=Z4;break;case ht.API.image_compression.MEDIUM:s=6,o=t3;break;case ht.API.image_compression.SLOW:s=9,o=n3}t=function(l,u,d,g){for(var v,p=l.length/u,k=new Uint8Array(l.length+p),E=[iV,Z4,e3,t3,n3],B=0;B<p;B+=1){var x=B*u,P=l.subarray(x,x+u);if(g)k.set(g(P,d,v),x+B);else{for(var R=E.length,U=[],Z=0;Z<R;Z+=1)U[Z]=E[Z](P,d,v);var ie=oV(U.concat());k.set(U[ie],x+B)}v=P}return k}(t,e,Math.ceil(n*r/8),o);var a=N2(t,{level:s});return ht.API.__addimage__.arrayBufferToBinaryString(a)}function iV(t){var e=Array.apply([],t);return e.unshift(0),e}function Z4(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function e3(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function t3(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function n3(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=sV(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function sV(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function oV(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function rg(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return AI(t,i)>>s&o}function r3(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,d,g){if(d+1<u.byteLength)u.setUint16(d,g,!1);else{var v=g>>8&255;u.setUint8(d,v)}})(t,s,AI(t,s)&~(a<<o)&65535|l)}function AI(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function aV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,d=[],g=0,v=null,p=0,k=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];g=t[e++]|t[e++]<<8,v=t[e++],1&E||(v=null),p=E>>2&7,e++;break;case 254:for(;;){if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var B=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,U=t[e++],Z=U>>6&1,ie=1<<1+(7&U),M=a,I=l,S=!1;U>>7&&(S=!0,M=e,I=ie,e+=3*ie);var D=e;for(e++;;){var w;if(!((w=t[e++])>=0))throw Error("Invalid block size");if(w===0)break;e+=w}d.push({x:B,y:x,width:P,height:R,has_local_palette:S,palette_offset:M,palette_size:I,data_offset:D,data_length:e-D,transparent_index:v,interlaced:!!Z,delay:g,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return k},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,T){var X=this.frameInfo(N),ce=X.width*X.height,me=new Uint8Array(ce);i3(t,X.data_offset,me,ce);var ye=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,we=n-le,_e=le,F=4*(X.y*n+X.x),W=4*((X.y+X.height)*n+X.x),Q=F,te=4*we;X.interlaced===!0&&(te+=4*n*7);for(var re=8,oe=0,ge=me.length;oe<ge;++oe){var ve=me[oe];if(_e===0&&(_e=le,(Q+=te)>=W&&(te=4*we+4*n*(re-1),Q=F+(le+we)*(re<<1),re>>=1)),ve===J)Q+=4;else{var Ie=t[ye+3*ve],Le=t[ye+3*ve+1],Be=t[ye+3*ve+2];T[Q++]=Be,T[Q++]=Le,T[Q++]=Ie,T[Q++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(N,T){var X=this.frameInfo(N),ce=X.width*X.height,me=new Uint8Array(ce);i3(t,X.data_offset,me,ce);var ye=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,we=n-le,_e=le,F=4*(X.y*n+X.x),W=4*((X.y+X.height)*n+X.x),Q=F,te=4*we;X.interlaced===!0&&(te+=4*n*7);for(var re=8,oe=0,ge=me.length;oe<ge;++oe){var ve=me[oe];if(_e===0&&(_e=le,(Q+=te)>=W&&(te=4*we+4*n*(re-1),Q=F+(le+we)*(re<<1),re>>=1)),ve===J)Q+=4;else{var Ie=t[ye+3*ve],Le=t[ye+3*ve+1],Be=t[ye+3*ve+2];T[Q++]=Ie,T[Q++]=Le,T[Q++]=Be,T[Q++]=255}--_e}}}function i3(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,d=0,g=0,v=0,p=t[e++],k=new Int32Array(4096),E=null;;){for(;d<16&&p!==0;)g|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var B=g&u;if(g>>=l,d-=l,B!==s){if(B===o)break;for(var x=B<a?B:E,P=0,R=x;R>s;)R=k[R]>>8,++P;var U=R;if(v+P+(x!==B?1:0)>r)return void Sn.log("Warning, gif stream longer than expected.");n[v++]=U;var Z=v+=P;for(x!==B&&(n[v++]=U),R=x;P--;)R=k[R],n[--Z]=255&R,R>>=8;E!==null&&a<4096&&(k[a++]=E<<8|U,a>=u+1&&l<12&&(++l,u=u<<1|1)),E=B}else a=o+1,u=(1<<(l=i+1))-1,E=null}return v!==r&&Sn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ig(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),g=new Array(65535),v=new Array(65535),p=new Array(64),k=new Array(64),E=[],B=0,x=7,P=new Array(64),R=new Array(64),U=new Array(64),Z=new Array(256),ie=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],w=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(F,W){for(var Q=0,te=0,re=new Array,oe=1;oe<=16;oe++){for(var ge=1;ge<=F[oe];ge++)re[W[te]]=[],re[W[te]][0]=Q,re[W[te]][1]=oe,te++,Q++;Q*=2}return re}function ye(F){for(var W=F[0],Q=F[1]-1;Q>=0;)W&1<<Q&&(B|=1<<x),Q--,--x<0&&(B==255?(J(255),J(0)):J(B),x=7,B=0)}function J(F){E.push(F)}function le(F){J(F>>8&255),J(255&F)}function we(F,W,Q,te,re){for(var oe,ge=re[0],ve=re[240],Ie=function(Ee,He){var ze,ft,rt,Yt,Nt,wt,Lt,jt,Ze,Tt,We=0;for(Ze=0;Ze<8;++Ze){ze=Ee[We],ft=Ee[We+1],rt=Ee[We+2],Yt=Ee[We+3],Nt=Ee[We+4],wt=Ee[We+5],Lt=Ee[We+6];var En=ze+(jt=Ee[We+7]),Ot=ze-jt,dt=ft+Lt,Pt=ft-Lt,Jt=rt+wt,et=rt-wt,tn=Yt+Nt,pt=Yt-Nt,gt=En+tn,sn=En-tn,lt=dt+Jt,tt=dt-Jt;Ee[We]=gt+lt,Ee[We+4]=gt-lt;var Mt=.707106781*(tt+sn);Ee[We+2]=sn+Mt,Ee[We+6]=sn-Mt;var Nr=.382683433*((gt=pt+et)-(tt=Pt+Ot)),hr=.5411961*gt+Nr,Pi=1.306562965*tt+Nr,wn=.707106781*(lt=et+Pt),yt=Ot+wn,Wi=Ot-wn;Ee[We+5]=Wi+hr,Ee[We+3]=Wi-hr,Ee[We+1]=yt+Pi,Ee[We+7]=yt-Pi,We+=8}for(We=0,Ze=0;Ze<8;++Ze){ze=Ee[We],ft=Ee[We+8],rt=Ee[We+16],Yt=Ee[We+24],Nt=Ee[We+32],wt=Ee[We+40],Lt=Ee[We+48];var Xr=ze+(jt=Ee[We+56]),Tr=ze-jt,Fr=ft+Lt,yn=ft-Lt,In=rt+wt,tr=rt-wt,kr=Yt+Nt,Gi=Yt-Nt,Jr=Xr+kr,_r=Xr-kr,jr=Fr+In,Zr=Fr-In;Ee[We]=Jr+jr,Ee[We+32]=Jr-jr;var be=.707106781*(Zr+_r);Ee[We+16]=_r+be,Ee[We+48]=_r-be;var Re=.382683433*((Jr=Gi+tr)-(Zr=yn+Tr)),ct=.5411961*Jr+Re,St=1.306562965*Zr+Re,Fe=.707106781*(jr=tr+yn),Bt=Tr+Fe,on=Tr-Fe;Ee[We+40]=on+ct,Ee[We+24]=on-ct,Ee[We+8]=Bt+St,Ee[We+56]=Bt-St,We++}for(Ze=0;Ze<64;++Ze)Tt=Ee[Ze]*He[Ze],p[Ze]=Tt>0?Tt+.5|0:Tt-.5|0;return p}(F,W),Le=0;Le<64;++Le)k[M[Le]]=Ie[Le];var Be=k[0]-Q;Q=k[0],Be==0?ye(te[0]):(ye(te[v[oe=32767+Be]]),ye(g[oe]));for(var je=63;je>0&&k[je]==0;)je--;if(je==0)return ye(ge),Q;for(var ot,H=1;H<=je;){for(var Ve=H;k[H]==0&&H<=je;)++H;var bt=H-Ve;if(bt>=16){ot=bt>>4;for(var at=1;at<=ot;++at)ye(ve);bt&=15}oe=32767+k[H],ye(re[(bt<<4)+v[oe]]),ye(g[oe]),H++}return je!=63&&ye(ge),Q}function _e(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(W){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var re=o((Q[te]*W+50)/100);re=Math.min(Math.max(re,1),255),a[M[te]]=re}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ve=o((oe[ge]*W+50)/100);ve=Math.min(Math.max(ve,1),255),l[M[ge]]=ve}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Be=0;Be<8;Be++)for(var je=0;je<8;je++)u[Le]=1/(a[M[Le]]*Ie[Be]*Ie[je]*8),d[Le]=1/(l[M[Le]]*Ie[Be]*Ie[je]*8),Le++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,W){W&&_e(W),E=new Array,B=0,x=7,le(65496),le(65504),le(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),le(1),le(1),J(0),J(0),function(){le(65499),le(132),J(0);for(var ft=0;ft<64;ft++)J(a[ft]);J(1);for(var rt=0;rt<64;rt++)J(l[rt])}(),function(ft,rt){le(65472),le(17),J(8),le(rt),le(ft),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(F.width,F.height),function(){le(65476),le(418),J(0);for(var ft=0;ft<16;ft++)J(I[ft+1]);for(var rt=0;rt<=11;rt++)J(S[rt]);J(16);for(var Yt=0;Yt<16;Yt++)J(D[Yt+1]);for(var Nt=0;Nt<=161;Nt++)J(w[Nt]);J(1);for(var wt=0;wt<16;wt++)J(N[wt+1]);for(var Lt=0;Lt<=11;Lt++)J(T[Lt]);J(17);for(var jt=0;jt<16;jt++)J(X[jt+1]);for(var Ze=0;Ze<=161;Ze++)J(ce[Ze])}(),le(65498),le(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Q=0,te=0,re=0;B=0,x=7,this.encode.displayName="_encode_";for(var oe,ge,ve,Ie,Le,Be,je,ot,H,Ve=F.data,bt=F.width,at=F.height,Ee=4*bt,He=0;He<at;){for(oe=0;oe<Ee;){for(Le=Ee*He+oe,je=-1,ot=0,H=0;H<64;H++)Be=Le+(ot=H>>3)*Ee+(je=4*(7&H)),He+ot>=at&&(Be-=Ee*(He+1+ot-at)),oe+je>=Ee&&(Be-=oe+je-Ee+4),ge=Ve[Be++],ve=Ve[Be++],Ie=Ve[Be++],P[H]=(ie[ge]+ie[ve+256|0]+ie[Ie+512|0]>>16)-128,R[H]=(ie[ge+768|0]+ie[ve+1024|0]+ie[Ie+1280|0]>>16)-128,U[H]=(ie[ge+1280|0]+ie[ve+1536|0]+ie[Ie+1792|0]>>16)-128;Q=we(P,u,Q,e,r),te=we(R,d,te,n,i),re=we(U,d,re,n,i),oe+=32}He+=8}if(x>=0){var ze=[];ze[1]=x+1,ze[0]=(1<<x+1)-1,ye(ze)}return le(65497),new Uint8Array(E)},t=t||50,function(){for(var F=String.fromCharCode,W=0;W<256;W++)Z[W]=F(W)}(),e=me(I,S),n=me(N,T),r=me(D,w),i=me(X,ce),function(){for(var F=1,W=2,Q=1;Q<=15;Q++){for(var te=F;te<W;te++)v[32767+te]=Q,g[32767+te]=[],g[32767+te][1]=Q,g[32767+te][0]=te;for(var re=-(W-1);re<=-F;re++)v[32767+re]=Q,g[32767+re]=[],g[32767+re][1]=Q,g[32767+re][0]=W-1+re;F<<=1,W<<=1}}(),function(){for(var F=0;F<256;F++)ie[F]=19595*F,ie[F+256|0]=38470*F,ie[F+512|0]=7471*F+32768,ie[F+768|0]=-11059*F,ie[F+1024|0]=-21709*F,ie[F+1280|0]=32768*F+8421375,ie[F+1536|0]=-27439*F,ie[F+1792|0]=-5329*F}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function s3(t){function e(S){if(!S)throw Error("assert :P")}function n(S,D,w){for(var N=0;4>N;N++)if(S[D+N]!=w.charCodeAt(N))return!0;return!1}function r(S,D,w,N,T){for(var X=0;X<T;X++)S[D+X]=w[N+X]}function i(S,D,w,N){for(var T=0;T<N;T++)S[D+T]=w}function s(S){return new Int32Array(S)}function o(S,D){for(var w=[],N=0;N<S;N++)w.push(new D);return w}function a(S,D){var w=[];return function N(T,X,ce){for(var me=ce[X],ye=0;ye<me&&(T.push(ce.length>X+1?[]:new D),!(ce.length<X+1));ye++)N(T[ye],X+1,ce)}(w,0,S),w}var l=function(){var S=this;function D(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function w(c,f,y,b,L){e(!(b%y));do c[f+(b-=y)]=L;while(0<b)}function N(c,f,y,b,L){if(e(2328>=L),512>=L)var j=s(512);else if((j=s(L))==null)return 0;return function(V,z,$,K,ne,de){var Y,se,he=z,xe=1<<$,fe=s(16),Se=s(16);for(e(ne!=0),e(K!=null),e(V!=null),e(0<$),se=0;se<ne;++se){if(15<K[se])return 0;++fe[K[se]]}if(fe[0]==ne)return 0;for(Se[1]=0,Y=1;15>Y;++Y){if(fe[Y]>1<<Y)return 0;Se[Y+1]=Se[Y]+fe[Y]}for(se=0;se<ne;++se)Y=K[se],0<K[se]&&(de[Se[Y]++]=se);if(Se[15]==1)return(K=new T).g=0,K.value=de[0],w(V,he,1,xe,K),xe;var Ne,De=-1,Ce=xe-1,ut=0,Qe=1,Vt=1,it=1<<$;for(se=0,Y=1,ne=2;Y<=$;++Y,ne<<=1){if(Qe+=Vt<<=1,0>(Vt-=fe[Y]))return 0;for(;0<fe[Y];--fe[Y])(K=new T).g=Y,K.value=de[se++],w(V,he+ut,ne,it,K),ut=D(ut,Y)}for(Y=$+1,ne=2;15>=Y;++Y,ne<<=1){if(Qe+=Vt<<=1,0>(Vt-=fe[Y]))return 0;for(;0<fe[Y];--fe[Y]){if(K=new T,(ut&Ce)!=De){for(he+=it,Ne=1<<(De=Y)-$;15>De&&!(0>=(Ne-=fe[De]));)++De,Ne<<=1;xe+=it=1<<(Ne=De-$),V[z+(De=ut&Ce)].g=Ne+$,V[z+De].value=he-z-De}K.g=Y-$,K.value=de[se++],w(V,he+(ut>>$),ne,it,K),ut=D(ut,Y)}}return Qe!=2*Se[15]-1?0:xe}(c,f,y,b,L,j)}function T(){this.value=this.g=0}function X(){this.value=this.g=0}function ce(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bl,X)}function me(c,f,y,b){e(c!=null),e(f!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,ge(c)}function ye(c,f){for(var y=0;0<f--;)y|=Ie(c,128)<<f;return y}function J(c,f){var y=ye(c,f);return ve(c)?-y:y}function le(c,f,y,b){var L,j=0;for(e(c!=null),e(f!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),L=0;L<b;++L)j+=f[y+L]<<8*L;c.Ra=j,c.bb=b,c.oa=f,c.pa=y}function we(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Ca-8>>>0,++c.bb,c.u-=8;te(c)&&(c.h=1,c.u=0)}function _e(c,f){if(e(0<=f),!c.h&&f<=Xi){var y=Q(c)&Qi[f];return c.u+=f,we(c),y}return c.h=1,c.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(c){return c.Ra>>>(c.u&Ca-1)>>>0}function te(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Ca}function re(c,f){c.u=f,c.h=te(c)}function oe(c){c.u>=Yo&&(e(c.u>=Yo),we(c))}function ge(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ve(c){return ye(c,1)}function Ie(c,f){var y=c.Ca;0>c.b&&ge(c);var b=c.b,L=y*f>>>8,j=(c.I>>>b>L)+0;for(j?(y-=L,c.I-=L+1<<b>>>0):y=L+1,b=y,L=0;256<=b;)L+=8,b>>=8;return b=7^L+La[b],c.b-=b,c.Ca=(y<<b)-1,j}function Le(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=255&y}function Be(c,f){return c[f+0]|c[f+1]<<8}function je(c,f){return Be(c,f)|c[f+2]<<16}function ot(c,f){return Be(c,f)|Be(c,f+2)<<16}function H(c,f){var y=1<<f;return e(c!=null),e(0<f),c.X=s(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function Ve(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function at(c,f,y,b){e(y!=null),e(b!=null);var L=y[0],j=b[0];return L==0&&(L=(c*j+f/2)/f),j==0&&(j=(f*L+c/2)/c),0>=L||0>=j?0:(y[0]=L,b[0]=j,1)}function Ee(c,f){return c+(1<<f)-1>>>f}function He(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function ze(c,f){S[f]=function(y,b,L,j,V,z,$){var K;for(K=0;K<V;++K){var ne=S[c](z[$+K-1],L,j+K);z[$+K]=He(y[b+K],ne)}}}function ft(){this.ud=this.hd=this.jd=0}function rt(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function Yt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Nt(c,f){return Yt(c+(c-f+.5>>1))}function wt(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function Lt(c,f,y,b,L,j,V){for(b=j[V-1],y=0;y<L;++y)j[V+y]=b=He(c[f+y],b)}function jt(c,f,y,b,L){var j;for(j=0;j<y;++j){var V=c[f+j],z=V>>8&255,$=16711935&($=($=16711935&V)+((z<<16)+z));b[L+j]=(4278255360&V)+$>>>0}}function Ze(c,f){f.jd=255&c,f.hd=c>>8&255,f.ud=c>>16&255}function Tt(c,f,y,b,L,j){var V;for(V=0;V<b;++V){var z=f[y+V],$=z>>>8,K=z,ne=255&(ne=(ne=z>>>16)+((c.jd<<24>>24)*($<<24>>24)>>>5));K=255&(K=(K+=(c.hd<<24>>24)*($<<24>>24)>>>5)+((c.ud<<24>>24)*(ne<<24>>24)>>>5)),L[j+V]=(4278255360&z)+(ne<<16)+K}}function We(c,f,y,b,L){S[f]=function(j,V,z,$,K,ne,de,Y,se){for($=de;$<Y;++$)for(de=0;de<se;++de)K[ne++]=L(z[b(j[V++])])},S[c]=function(j,V,z,$,K,ne,de){var Y=8>>j.b,se=j.Ea,he=j.K[0],xe=j.w;if(8>Y)for(j=(1<<j.b)-1,xe=(1<<Y)-1;V<z;++V){var fe,Se=0;for(fe=0;fe<se;++fe)fe&j||(Se=b($[K++])),ne[de++]=L(he[Se&xe]),Se>>=Y}else S["VP8LMapColor"+y]($,K,he,xe,ne,de,V,z,se)}}function En(c,f,y,b,L){for(y=f+y;f<y;){var j=c[f++];b[L++]=j>>16&255,b[L++]=j>>8&255,b[L++]=255&j}}function Ot(c,f,y,b,L){for(y=f+y;f<y;){var j=c[f++];b[L++]=j>>16&255,b[L++]=j>>8&255,b[L++]=255&j,b[L++]=j>>24&255}}function dt(c,f,y,b,L){for(y=f+y;f<y;){var j=(V=c[f++])>>16&240|V>>12&15,V=240&V|V>>28&15;b[L++]=j,b[L++]=V}}function Pt(c,f,y,b,L){for(y=f+y;f<y;){var j=(V=c[f++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;b[L++]=j,b[L++]=V}}function Jt(c,f,y,b,L){for(y=f+y;f<y;){var j=c[f++];b[L++]=255&j,b[L++]=j>>8&255,b[L++]=j>>16&255}}function et(c,f,y,b,L,j){if(j==0)for(y=f+y;f<y;)Le(b,((j=c[f++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),L+=32;else r(b,L,c,f,y)}function tn(c,f){S[f][0]=S[c+"0"],S[f][1]=S[c+"1"],S[f][2]=S[c+"2"],S[f][3]=S[c+"3"],S[f][4]=S[c+"4"],S[f][5]=S[c+"5"],S[f][6]=S[c+"6"],S[f][7]=S[c+"7"],S[f][8]=S[c+"8"],S[f][9]=S[c+"9"],S[f][10]=S[c+"10"],S[f][11]=S[c+"11"],S[f][12]=S[c+"12"],S[f][13]=S[c+"13"],S[f][14]=S[c+"0"],S[f][15]=S[c+"0"]}function pt(c){return c==k1||c==P1||c==Ad||c==C1}function gt(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new sn,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nr(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function hr(c,f){var y=c.T,b=f.ba.f.RGBA,L=b.eb,j=b.fb+c.ka*b.A,V=Es[f.ba.S],z=c.y,$=c.O,K=c.f,ne=c.N,de=c.ea,Y=c.W,se=f.cc,he=f.dc,xe=f.Mc,fe=f.Nc,Se=c.ka,Ne=c.ka+c.T,De=c.U,Ce=De+1>>1;for(Se==0?V(z,$,null,null,K,ne,de,Y,K,ne,de,Y,L,j,null,null,De):(V(f.ec,f.fc,z,$,se,he,xe,fe,K,ne,de,Y,L,j-b.A,L,j,De),++y);Se+2<Ne;Se+=2)se=K,he=ne,xe=de,fe=Y,ne+=c.Rc,Y+=c.Rc,j+=2*b.A,V(z,($+=2*c.fa)-c.fa,z,$,se,he,xe,fe,K,ne,de,Y,L,j-b.A,L,j,De);return $+=c.fa,c.j+Ne<c.o?(r(f.ec,f.fc,z,$,De),r(f.cc,f.dc,K,ne,Ce),r(f.Mc,f.Nc,de,Y,Ce),y--):1&Ne||V(z,$,null,null,K,ne,de,Y,K,ne,de,Y,L,j+b.A,null,null,De),y}function Pi(c,f,y){var b=c.F,L=[c.J];if(b!=null){var j=c.U,V=f.ba.S,z=V==xd||V==Ad;f=f.ba.f.RGBA;var $=[0],K=c.ka;$[0]=c.T,c.Kb&&(K==0?--$[0]:(--K,L[0]-=c.width),c.j+c.ka+c.T==c.o&&($[0]=c.o-c.j-K));var ne=f.eb;K=f.fb+K*f.A,c=nv(b,L[0],c.width,j,$,ne,K+(z?0:3),f.A),e(y==$),c&&pt(V)&&xh(ne,K,z,j,$,f.A)}return 0}function wn(c){var f=c.ma,y=f.ba.S,b=11>y,L=y==wd||y==bd||y==xd||y==T1||y==12||pt(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!ph(f.Oa,c,L?11:12))return 0;if(L&&pt(y)&&kt(),c.da)alert("todo:use_scaling");else{if(b){if(f.Ib=Nr,c.Kb){if(y=c.U+1>>1,f.memory=s(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=hr,kt()}}else alert("todo:EmitYUV");L&&(f.Jb=Pi,b&&pe())}if(b&&!_v){for(c=0;256>c;++c)$I[c]=89858*(c-128)+Ed>>Sd,GI[c]=-22014*(c-128)+Ed,WI[c]=-45773*(c-128),HI[c]=113618*(c-128)+Ed>>Sd;for(c=Sh;c<D1;++c)f=76283*(c-16)+Ed>>Sd,KI[c-Sh]=Ci(f,255),YI[c-Sh]=Ci(f+8>>4,15);_v=1}return 1}function yt(c){var f=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function Wi(c){c.ma.memory=null}function Xr(c,f,y,b){return _e(c,8)!=47?0:(f[0]=_e(c,14)+1,y[0]=_e(c,14)+1,b[0]=_e(c,1),_e(c,3)!=0?0:!c.h)}function Tr(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+_e(f,y)+1}function Fr(c,f){return 120<f?f-120:1<=(y=((y=PI[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function yn(c,f,y){var b=Q(y),L=c[f+=255&b].g-8;return 0<L&&(re(y,y.u+8),b=Q(y),f+=c[f].value,f+=b&(1<<L)-1),re(y,y.u+c[f].g),c[f].value}function In(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,e(8>=y.g),c.g}function tr(c,f,y){var b=c.xc;return e((f=b==0?0:c.vc[c.md*(y>>b)+(f>>b)])<c.Wb),c.Ya[f]}function kr(c,f,y,b){var L=c.ab,j=c.c*f,V=c.C;f=V+f;var z=y,$=b;for(b=c.Ta,y=c.Ua;0<L--;){var K=c.gc[L],ne=V,de=f,Y=z,se=$,he=($=b,z=y,K.Ea);switch(e(ne<de),e(de<=K.nc),K.hc){case 2:nr(Y,se,(de-ne)*he,$,z);break;case 0:var xe=ne,fe=de,Se=$,Ne=z,De=(it=K).Ea;xe==0&&(gh(Y,se,null,null,1,Se,Ne),Lt(Y,se+1,0,0,De-1,Se,Ne+1),se+=De,Ne+=De,++xe);for(var Ce=1<<it.b,ut=Ce-1,Qe=Ee(De,it.b),Vt=it.K,it=it.w+(xe>>it.b)*Qe;xe<fe;){var Qt=Vt,br=it,Ut=1;for(qu(Y,se,Se,Ne-De,1,Se,Ne);Ut<De;){var st=(Ut&~ut)+Ce;st>De&&(st=De),(0,vh[Qt[br++]>>8&15])(Y,se+ +Ut,Se,Ne+Ut-De,st-Ut,Se,Ne+Ut),Ut=st}se+=De,Ne+=De,++xe&ut||(it+=Qe)}de!=K.nc&&r($,z-he,$,z+(de-ne-1)*he,he);break;case 1:for(he=Y,fe=se,De=(Y=K.Ea)-(Ne=Y&~(Se=(se=1<<K.b)-1)),xe=Ee(Y,K.b),Ce=K.K,K=K.w+(ne>>K.b)*xe;ne<de;){for(ut=Ce,Qe=K,Vt=new ft,it=fe+Ne,Qt=fe+Y;fe<it;)Ze(ut[Qe++],Vt),_h(Vt,he,fe,se,$,z),fe+=se,z+=se;fe<Qt&&(Ze(ut[Qe++],Vt),_h(Vt,he,fe,De,$,z),fe+=De,z+=De),++ne&Se||(K+=xe)}break;case 3:if(Y==$&&se==z&&0<K.b){for(fe=$,Y=he=z+(de-ne)*he-(Ne=(de-ne)*Ee(K.Ea,K.b)),se=$,Se=z,xe=[],Ne=(De=Ne)-1;0<=Ne;--Ne)xe[Ne]=se[Se+Ne];for(Ne=De-1;0<=Ne;--Ne)fe[Y+Ne]=xe[Ne];gd(K,ne,de,$,he,$,z)}else gd(K,ne,de,Y,se,$,z)}z=b,$=y}$!=y&&r(b,y,z,$,j)}function Gi(c,f){var y=c.V,b=c.Ba+c.c*c.C,L=f-c.C;if(e(f<=c.l.o),e(16>=L),0<L){var j=c.l,V=c.Ta,z=c.Ua,$=j.width;if(kr(c,L,y,b),L=z=[z],e((y=c.C)<(b=f)),e(j.v<j.va),b>j.o&&(b=j.o),y<j.j){var K=j.j-y;y=j.j,L[0]+=K*$}if(y>=b?y=0:(L[0]+=4*j.v,j.ka=y-j.j,j.U=j.va-j.v,j.T=b-y,y=1),y){if(z=z[0],11>(y=c.ca).S){var ne=y.f.RGBA,de=(b=y.S,L=j.U,j=j.T,K=ne.eb,ne.A),Y=j;for(ne=ne.fb+c.Ma*ne.A;0<Y--;){var se=V,he=z,xe=L,fe=K,Se=ne;switch(b){case _d:wh(se,he,xe,fe,Se);break;case wd:Ra(se,he,xe,fe,Se);break;case k1:Ra(se,he,xe,fe,Se),xh(fe,Se,0,xe,1,0);break;case uv:zl(se,he,xe,fe,Se);break;case bd:et(se,he,xe,fe,Se,1);break;case P1:et(se,he,xe,fe,Se,1),xh(fe,Se,0,xe,1,0);break;case xd:et(se,he,xe,fe,Se,0);break;case Ad:et(se,he,xe,fe,Se,0),xh(fe,Se,1,xe,1,0);break;case T1:Da(se,he,xe,fe,Se);break;case C1:Da(se,he,xe,fe,Se),tv(fe,Se,xe,1,0);break;case cv:Oa(se,he,xe,fe,Se);break;default:e(0)}z+=$,ne+=de}c.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=f,e(c.C<=c.i)}function Jr(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,b=c.Ya[f].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function _r(c,f,y,b,L,j){if(c.Z!=0){var V=c.qd,z=c.rd;for(e(ja[c.Z]!=null);f<y;++f)ja[c.Z](V,z,b,L,b,L,j),V=b,z=L,L+=j;c.qd=V,c.rd=z}}function jr(c,f){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(f<=c.l.o),f>b){var L=c.l.width,j=y.ca,V=y.tb+L*b,z=c.V,$=c.Ba+c.c*b,K=c.gc;e(c.ab==1),e(K[0].hc==3),yo(K[0],b,f,z,$,j,V),_r(y,b,f,j,V,L)}c.C=c.Ma=f}function Zr(c,f,y,b,L,j,V){var z=c.$/b,$=c.$%b,K=c.m,ne=c.s,de=y+c.$,Y=de;L=y+b*L;var se=y+b*j,he=280+ne.ua,xe=c.Pb?z:16777216,fe=0<ne.ua?ne.Wa:null,Se=ne.wc,Ne=de<se?tr(ne,$,z):null;e(c.C<j),e(se<=L);var De=!1;e:for(;;){for(;De||de<se;){var Ce=0;if(z>=xe){var ut=de-y;e((xe=c).Pb),xe.wd=xe.m,xe.xd=ut,0<xe.s.ua&&Ve(xe.s.Wa,xe.s.vb),xe=z+LI}if($&Se||(Ne=tr(ne,$,z)),e(Ne!=null),Ne.Qb&&(f[de]=Ne.qb,De=!0),!De)if(oe(K),Ne.jc){Ce=K,ut=f;var Qe=de,Vt=Ne.pd[Q(Ce)&Bl-1];e(Ne.jc),256>Vt.g?(re(Ce,Ce.u+Vt.g),ut[Qe]=Vt.value,Ce=0):(re(Ce,Ce.u+Vt.g-256),e(256<=Vt.value),Ce=Vt.value),Ce==0&&(De=!0)}else Ce=yn(Ne.G[0],Ne.H[0],K);if(K.h)break;if(De||256>Ce){if(!De)if(Ne.nd)f[de]=(Ne.qb|Ce<<8)>>>0;else{if(oe(K),De=yn(Ne.G[1],Ne.H[1],K),oe(K),ut=yn(Ne.G[2],Ne.H[2],K),Qe=yn(Ne.G[3],Ne.H[3],K),K.h)break;f[de]=(Qe<<24|De<<16|Ce<<8|ut)>>>0}if(De=!1,++de,++$>=b&&($=0,++z,V!=null&&z<=j&&!(z%16)&&V(c,z),fe!=null))for(;Y<de;)Ce=f[Y++],fe.X[(506832829*Ce&4294967295)>>>fe.Mb]=Ce}else if(280>Ce){if(Ce=Tr(Ce-256,K),ut=yn(Ne.G[4],Ne.H[4],K),oe(K),ut=Fr(b,ut=Tr(ut,K)),K.h)break;if(de-y<ut||L-de<Ce)break e;for(Qe=0;Qe<Ce;++Qe)f[de+Qe]=f[de+Qe-ut];for(de+=Ce,$+=Ce;$>=b;)$-=b,++z,V!=null&&z<=j&&!(z%16)&&V(c,z);if(e(de<=L),$&Se&&(Ne=tr(ne,$,z)),fe!=null)for(;Y<de;)Ce=f[Y++],fe.X[(506832829*Ce&4294967295)>>>fe.Mb]=Ce}else{if(!(Ce<he))break e;for(De=Ce-280,e(fe!=null);Y<de;)Ce=f[Y++],fe.X[(506832829*Ce&4294967295)>>>fe.Mb]=Ce;Ce=de,e(!(De>>>(ut=fe).Xa)),f[Ce]=ut.X[De],De=!0}De||e(K.h==te(K))}if(c.Pb&&K.h&&de<L)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ve(c.s.vb,c.s.Wa);else{if(K.h)break e;V!=null&&V(c,z>j?j:z),c.a=0,c.$=de-y}return 1}return c.a=3,0}function be(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Re(){var c=new _t;return c==null?null:(c.a=0,c.xb=dv,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),nr=jt,_h=Tt,wh=En,Ra=Ot,Da=dt,Oa=Pt,zl=Jt,S.VP8LMapColor32b=go,S.VP8LMapColor8b=yh,c)}function ct(c,f,y,b,L){var j=1,V=[c],z=[f],$=b.m,K=b.s,ne=null,de=0;e:for(;;){if(y)for(;j&&_e($,1);){var Y=V,se=z,he=b,xe=1,fe=he.m,Se=he.gc[he.ab],Ne=_e(fe,2);if(he.Oc&1<<Ne)j=0;else{switch(he.Oc|=1<<Ne,Se.hc=Ne,Se.Ea=Y[0],Se.nc=se[0],Se.K=[null],++he.ab,e(4>=he.ab),Ne){case 0:case 1:Se.b=_e(fe,3)+2,xe=ct(Ee(Se.Ea,Se.b),Ee(Se.nc,Se.b),0,he,Se.K),Se.K=Se.K[0];break;case 3:var De,Ce=_e(fe,8)+1,ut=16<Ce?0:4<Ce?1:2<Ce?2:3;if(Y[0]=Ee(Se.Ea,ut),Se.b=ut,De=xe=ct(Ce,1,0,he,Se.K)){var Qe,Vt=Ce,it=Se,Qt=1<<(8>>it.b),br=s(Qt);if(br==null)De=0;else{var Ut=it.K[0],st=it.w;for(br[0]=it.K[0][0],Qe=1;Qe<1*Vt;++Qe)br[Qe]=He(Ut[st+Qe],br[Qe-1]);for(;Qe<4*Qt;++Qe)br[Qe]=0;it.K[0]=null,it.K[0]=br,De=1}}xe=De;break;case 2:break;default:e(0)}j=xe}}if(V=V[0],z=z[0],j&&_e($,1)&&!(j=1<=(de=_e($,4))&&11>=de)){b.a=3;break e}var Ue;if(Ue=j)t:{var ir,Ft,Zt,Fn=b,Ur=V,bi=z,Qn=de,ri=y,xi=Fn.m,xr=Fn.s,nn=[null],fn=1,Xn=0,dn=CI[Qn];n:for(;;){if(ri&&_e(xi,1)){var Br=_e(xi,3)+2,Us=Ee(Ur,Br),sr=Ee(bi,Br),Mi=Us*sr;if(!ct(Us,sr,0,Fn,nn))break n;for(nn=nn[0],xr.xc=Br,ir=0;ir<Mi;++ir){var An=nn[ir]>>8&65535;nn[ir]=An,An>=fn&&(fn=An+1)}}if(xi.h)break n;for(Ft=0;5>Ft;++Ft){var Ar=hv[Ft];!Ft&&0<Qn&&(Ar+=1<<Qn),Xn<Ar&&(Xn=Ar)}var Zi=o(fn*dn,T),Ai=fn,es=o(Ai,ce);if(es==null)var ts=null;else e(65536>=Ai),ts=es;var Fi=s(Xn);if(ts==null||Fi==null||Zi==null){Fn.a=1;break n}var ns=Zi;for(ir=Zt=0;ir<fn;++ir){var Ln=ts[ir],rs=Ln.G,Bs=Ln.H,$l=0,Jo=1,zr=0;for(Ft=0;5>Ft;++Ft){Ar=hv[Ft],rs[Ft]=ns,Bs[Ft]=Zt,!Ft&&0<Qn&&(Ar+=1<<Qn);i:{var Nd,O1=Ar,Td=Fn,Eh=Fi,JI=ns,ZI=Zt,M1=0,Va=Td.m,eN=_e(Va,1);if(i(Eh,0,0,O1),eN){var tN=_e(Va,1)+1,nN=_e(Va,1),xv=_e(Va,nN==0?1:8);Eh[xv]=1,tN==2&&(Eh[xv=_e(Va,8)]=1);var kd=1}else{var Av=s(19),Sv=_e(Va,4)+4;if(19<Sv){Td.a=3;var Pd=0;break i}for(Nd=0;Nd<Sv;++Nd)Av[kI[Nd]]=_e(Va,3);var F1=void 0,Ih=void 0,Ev=Td,rN=Av,Cd=O1,Iv=Eh,j1=0,Ua=Ev.m,Nv=8,Tv=o(128,T);r:for(;N(Tv,0,7,rN,19);){if(_e(Ua,1)){var iN=2+2*_e(Ua,3);if((F1=2+_e(Ua,iN))>Cd)break r}else F1=Cd;for(Ih=0;Ih<Cd&&F1--;){oe(Ua);var kv=Tv[0+(127&Q(Ua))];re(Ua,Ua.u+kv.g);var Hu=kv.value;if(16>Hu)Iv[Ih++]=Hu,Hu!=0&&(Nv=Hu);else{var sN=Hu==16,Pv=Hu-16,oN=NI[Pv],Cv=_e(Ua,II[Pv])+oN;if(Ih+Cv>Cd)break r;for(var aN=sN?Nv:0;0<Cv--;)Iv[Ih++]=aN}}j1=1;break r}j1||(Ev.a=3),kd=j1}(kd=kd&&!Va.h)&&(M1=N(JI,ZI,8,Eh,O1)),kd&&M1!=0?Pd=M1:(Td.a=3,Pd=0)}if(Pd==0)break n;if(Jo&&TI[Ft]==1&&(Jo=ns[Zt].g==0),$l+=ns[Zt].g,Zt+=Pd,3>=Ft){var Nh,V1=Fi[0];for(Nh=1;Nh<Ar;++Nh)Fi[Nh]>V1&&(V1=Fi[Nh]);zr+=V1}}if(Ln.nd=Jo,Ln.Qb=0,Jo&&(Ln.qb=(rs[3][Bs[3]+0].value<<24|rs[1][Bs[1]+0].value<<16|rs[2][Bs[2]+0].value)>>>0,$l==0&&256>rs[0][Bs[0]+0].value&&(Ln.Qb=1,Ln.qb+=rs[0][Bs[0]+0].value<<8)),Ln.jc=!Ln.Qb&&6>zr,Ln.jc){var Ld,Zo=Ln;for(Ld=0;Ld<Bl;++Ld){var Ba=Ld,za=Zo.pd[Ba],Rd=Zo.G[0][Zo.H[0]+Ba];256<=Rd.value?(za.g=Rd.g+256,za.value=Rd.value):(za.g=0,za.value=0,Ba>>=In(Rd,8,za),Ba>>=In(Zo.G[1][Zo.H[1]+Ba],16,za),Ba>>=In(Zo.G[2][Zo.H[2]+Ba],0,za),In(Zo.G[3][Zo.H[3]+Ba],24,za))}}}xr.vc=nn,xr.Wb=fn,xr.Ya=ts,xr.yc=Zi,Ue=1;break t}Ue=0}if(!(j=Ue)){b.a=3;break e}if(0<de){if(K.ua=1<<de,!H(K.Wa,de)){b.a=1,j=0;break e}}else K.ua=0;var U1=b,Lv=V,lN=z,B1=U1.s,z1=B1.xc;if(U1.c=Lv,U1.i=lN,B1.md=Ee(Lv,z1),B1.wc=z1==0?-1:(1<<z1)-1,y){b.xb=VI;break e}if((ne=s(V*z))==null){b.a=1,j=0;break e}j=(j=Zr(b,ne,0,V,z,z,null))&&!$.h;break e}return j?(L!=null?L[0]=ne:(e(ne==null),e(y)),b.$=0,y||be(K)):be(K),j}function St(c,f){var y=c.c*c.i,b=y+f+16*f;return e(c.c<=f),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function Fe(c,f){var y=c.C,b=f-y,L=c.V,j=c.Ba+c.c*y;for(e(f<=c.l.o);0<b;){var V=16<b?16:b,z=c.l.ma,$=c.l.width,K=$*V,ne=z.ca,de=z.tb+$*y,Y=c.Ta,se=c.Ua;kr(c,V,L,j),rv(Y,se,ne,de,K),_r(z,y,y+V,ne,de,$),b-=V,L+=V*c.c,y+=V}e(y==f),c.C=c.Ma=f}function Bt(){this.ub=this.yd=this.td=this.Rb=0}function on(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xe(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function On(){this.Yb=function(){var c=[];return function f(y,b,L){for(var j=L[b],V=0;V<j&&(y.push(L.length>b+1?[]:0),!(L.length<b+1));V++)f(y[V],b+1,L)}(c,0,[3,11]),c}()}function Mn(){this.jb=s(3),this.Wc=a([4,8],On),this.Xc=a([4,17],On)}function Pr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function fr(){this.ld=this.La=this.dd=this.tc=0}function zn(){this.Na=this.la=0}function Ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function oo(){this.uc=this.M=this.Nb=0,this.wa=Array(new fr),this.Y=0,this.ya=Array(new gs),this.aa=0,this.l=new Vr}function ao(){this.y=s(16),this.f=s(8),this.ea=s(8)}function zo(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Bt,this.Kc=new on,this.ed=new Pr,this.Qa=new Xe,this.Ic=this.$c=this.Aa=0,this.D=new oo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,Ki),this.Pa=new Mn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ao),this.Hd=0,this.rb=Array(new zn),this.sb=0,this.wa=Array(new fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gs),this.L=this.aa=0,this.gd=a([4,2],fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ci(c,f){return 0>c?0:c>f?f:c}function Vr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function gi(){var c=new zo;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Ah||(Ah=zt)),c}function vn(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function ln(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function hn(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return vn(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,b=f.w,L=f.ha;if(4>L)return vn(c,7,"Truncated header.");var j=y[b+0]|y[b+1]<<8|y[b+2]<<16,V=c.Od;if(V.Rb=!(1&j),V.td=j>>1&7,V.yd=j>>4&1,V.ub=j>>5,3<V.td)return vn(c,3,"Incorrect keyframe parameters.");if(!V.yd)return vn(c,4,"Frame not displayable.");b+=3,L-=3;var z=c.Kc;if(V.Rb){if(7>L)return vn(c,7,"cannot parse picture header");if(!ln(y,b,L))return vn(c,3,"Bad code word");z.c=16383&(y[b+4]<<8|y[b+3]),z.Td=y[b+4]>>6,z.i=16383&(y[b+6]<<8|y[b+5]),z.Ud=y[b+6]>>6,b+=7,L-=7,c.za=z.c+15>>4,c.Ub=z.i+15>>4,f.width=z.c,f.height=z.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((j=c.Pa).jb,0,255,j.jb.length),e((j=c.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,i(j.Zb,0,0,j.Zb.length),i(j.Lb,0,0,j.Lb)}if(V.ub>L)return vn(c,7,"bad partition length");me(j=c.m,y,b,V.ub),b+=V.ub,L-=V.ub,V.Rb&&(z.Ld=ve(j),z.Kd=ve(j)),z=c.Qa;var $,K=c.Pa;if(e(j!=null),e(z!=null),z.Cb=ve(j),z.Cb){if(z.Bb=ve(j),ve(j)){for(z.Fb=ve(j),$=0;4>$;++$)z.Zb[$]=ve(j)?J(j,7):0;for($=0;4>$;++$)z.Lb[$]=ve(j)?J(j,6):0}if(z.Bb)for($=0;3>$;++$)K.jb[$]=ve(j)?ye(j,8):255}else z.Bb=0;if(j.Ka)return vn(c,3,"cannot parse segment header");if((z=c.ed).zd=ve(j),z.Tb=ye(j,6),z.wb=ye(j,3),z.Pc=ve(j),z.Pc&&ve(j)){for(K=0;4>K;++K)ve(j)&&(z.vd[K]=J(j,6));for(K=0;4>K;++K)ve(j)&&(z.od[K]=J(j,6))}if(c.L=z.Tb==0?0:z.zd?1:2,j.Ka)return vn(c,3,"cannot parse filter header");var ne=L;if(L=$=b,b=$+ne,z=ne,c.Xb=(1<<ye(c.m,2))-1,ne<3*(K=c.Xb))y=7;else{for($+=3*K,z-=3*K,ne=0;ne<K;++ne){var de=y[L+0]|y[L+1]<<8|y[L+2]<<16;de>z&&(de=z),me(c.Jc[+ne],y,$,de),$+=de,z-=de,L+=3}me(c.Jc[+K],y,$,z),y=$<b?0:5}if(y!=0)return vn(c,y,"cannot parse partitions");for(y=ye($=c.m,7),L=ve($)?J($,4):0,b=ve($)?J($,4):0,z=ve($)?J($,4):0,K=ve($)?J($,4):0,$=ve($)?J($,4):0,ne=c.Qa,de=0;4>de;++de){if(ne.Cb){var Y=ne.Zb[de];ne.Fb||(Y+=y)}else{if(0<de){c.pb[de]=c.pb[0];continue}Y=y}var se=c.pb[de];se.Sc[0]=L1[Ci(Y+L,127)],se.Sc[1]=R1[Ci(Y+0,127)],se.Eb[0]=2*L1[Ci(Y+b,127)],se.Eb[1]=101581*R1[Ci(Y+z,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=L1[Ci(Y+K,117)],se.Qc[1]=R1[Ci(Y+$,127)],se.lc=Y+$}if(!V.Rb)return vn(c,4,"Not a key frame.");for(ve(j),V=c.Pa,y=0;4>y;++y){for(L=0;8>L;++L)for(b=0;3>b;++b)for(z=0;11>z;++z)K=Ie(j,FI[y][L][b][z])?ye(j,8):OI[y][L][b][z],V.Wc[y][L].Yb[b][z]=K;for(L=0;17>L;++L)V.Xc[y][L]=V.Wc[y][jI[L]]}return c.kc=ve(j),c.kc&&(c.Bd=ye(j,8)),c.cb=1}function zt(c,f,y,b,L,j,V){var z=f[L].Yb[y];for(y=0;16>L;++L){if(!Ie(c,z[y+0]))return L;for(;!Ie(c,z[y+1]);)if(z=f[++L].Yb[0],y=0,L==16)return 16;var $=f[L+1].Yb;if(Ie(c,z[y+2])){var K=c,ne=0;if(Ie(K,(Y=z)[(de=y)+3]))if(Ie(K,Y[de+6])){for(z=0,de=2*(ne=Ie(K,Y[de+8]))+(Y=Ie(K,Y[de+9+ne])),ne=0,Y=RI[de];Y[z];++z)ne+=ne+Ie(K,Y[z]);ne+=3+(8<<de)}else Ie(K,Y[de+7])?(ne=7+2*Ie(K,165),ne+=Ie(K,145)):ne=5+Ie(K,159);else ne=Ie(K,Y[de+4])?3+Ie(K,Y[de+5]):2;z=$[2]}else ne=1,z=$[1];$=V+DI[L],0>(K=c).b&&ge(K);var de,Y=K.b,se=(de=K.Ca>>1)-(K.I>>Y)>>31;--K.b,K.Ca+=se,K.Ca|=1,K.I-=(de+1&se)<<Y,j[$]=((ne^se)-se)*b[(0<L)+0]}return 16}function ei(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function dr(c,f,y,b,L){L=c[f+y+32*b]+(L>>3),c[f+y+32*b]=-256&L?0>L?0:255:L}function _n(c,f,y,b,L,j){dr(c,f,0,y,b+L),dr(c,f,1,y,b+j),dr(c,f,2,y,b-j),dr(c,f,3,y,b-L)}function Li(c){return(20091*c>>16)+c}function qo(c,f,y,b){var L,j=0,V=s(16);for(L=0;4>L;++L){var z=c[f+0]+c[f+8],$=c[f+0]-c[f+8],K=(35468*c[f+4]>>16)-Li(c[f+12]),ne=Li(c[f+4])+(35468*c[f+12]>>16);V[j+0]=z+ne,V[j+1]=$+K,V[j+2]=$-K,V[j+3]=z-ne,j+=4,f++}for(L=j=0;4>L;++L)z=(c=V[j+0]+4)+V[j+8],$=c-V[j+8],K=(35468*V[j+4]>>16)-Li(V[j+12]),dr(y,b,0,0,z+(ne=Li(V[j+4])+(35468*V[j+12]>>16))),dr(y,b,1,0,$+K),dr(y,b,2,0,$-K),dr(y,b,3,0,z-ne),j++,b+=32}function Ol(c,f,y,b){var L=c[f+0]+4,j=35468*c[f+4]>>16,V=Li(c[f+4]),z=35468*c[f+1]>>16;_n(y,b,0,L+V,c=Li(c[f+1]),z),_n(y,b,1,L+j,c,z),_n(y,b,2,L-j,c,z),_n(y,b,3,L-V,c,z)}function $o(c,f,y,b,L){qo(c,f,y,b),L&&qo(c,f+16,y,b+4)}function ys(c,f,y,b){ql(c,f+0,y,b,1),ql(c,f+32,y,b+128,1)}function Du(c,f,y,b){var L;for(c=c[f+0]+4,L=0;4>L;++L)for(f=0;4>f;++f)dr(y,b,f,L,c)}function lo(c,f,y,b){c[f+0]&&un(c,f+0,y,b),c[f+16]&&un(c,f+16,y,b+4),c[f+32]&&un(c,f+32,y,b+128),c[f+48]&&un(c,f+48,y,b+128+4)}function Ri(c,f,y,b){var L,j=s(16);for(L=0;4>L;++L){var V=c[f+0+L]+c[f+12+L],z=c[f+4+L]+c[f+8+L],$=c[f+4+L]-c[f+8+L],K=c[f+0+L]-c[f+12+L];j[0+L]=V+z,j[8+L]=V-z,j[4+L]=K+$,j[12+L]=K-$}for(L=0;4>L;++L)V=(c=j[0+4*L]+3)+j[3+4*L],z=j[1+4*L]+j[2+4*L],$=j[1+4*L]-j[2+4*L],K=c-j[3+4*L],y[b+0]=V+z>>3,y[b+16]=K+$>>3,y[b+32]=V-z>>3,y[b+48]=K-$>>3,b+=64}function uo(c,f,y){var b,L=f-32,j=Ji,V=255-c[L-1];for(b=0;b<y;++b){var z,$=j,K=V+c[f-1];for(z=0;z<y;++z)c[f+z]=$[K+c[L+z]];f+=32}}function Ou(c,f){uo(c,f,4)}function Mu(c,f){uo(c,f,8)}function Fu(c,f){uo(c,f,16)}function Aa(c,f){var y;for(y=0;16>y;++y)r(c,f+32*y,c,f-32,16)}function Fs(c,f){var y;for(y=16;0<y;--y)i(c,f,c[f-1],16),f+=32}function Yi(c,f,y){var b;for(b=0;16>b;++b)i(f,y+32*b,c,16)}function hh(c,f){var y,b=16;for(y=0;16>y;++y)b+=c[f-1+32*y]+c[f+y-32];Yi(b>>5,c,f)}function Ho(c,f){var y,b=8;for(y=0;16>y;++y)b+=c[f-1+32*y];Yi(b>>4,c,f)}function Di(c,f){var y,b=8;for(y=0;16>y;++y)b+=c[f+y-32];Yi(b>>4,c,f)}function fh(c,f){Yi(128,c,f)}function xt(c,f,y){return c+2*f+y+2>>2}function Sa(c,f){var y,b=f-32;for(b=new Uint8Array([xt(c[b-1],c[b+0],c[b+1]),xt(c[b+0],c[b+1],c[b+2]),xt(c[b+1],c[b+2],c[b+3]),xt(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)r(c,f+32*y,b,0,b.length)}function ju(c,f){var y=c[f-1],b=c[f-1+32],L=c[f-1+64],j=c[f-1+96];Le(c,f+0,16843009*xt(c[f-1-32],y,b)),Le(c,f+32,16843009*xt(y,b,L)),Le(c,f+64,16843009*xt(b,L,j)),Le(c,f+96,16843009*xt(L,j,j))}function Wo(c,f){var y,b=4;for(y=0;4>y;++y)b+=c[f+y-32]+c[f-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,f+32*y,b,4)}function yi(c,f){var y=c[f-1+0],b=c[f-1+32],L=c[f-1+64],j=c[f-1-32],V=c[f+0-32],z=c[f+1-32],$=c[f+2-32],K=c[f+3-32];c[f+0+96]=xt(b,L,c[f-1+96]),c[f+1+96]=c[f+0+64]=xt(y,b,L),c[f+2+96]=c[f+1+64]=c[f+0+32]=xt(j,y,b),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=xt(V,j,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=xt(z,V,j),c[f+3+32]=c[f+2+0]=xt($,z,V),c[f+3+0]=xt(K,$,z)}function vs(c,f){var y=c[f+1-32],b=c[f+2-32],L=c[f+3-32],j=c[f+4-32],V=c[f+5-32],z=c[f+6-32],$=c[f+7-32];c[f+0+0]=xt(c[f+0-32],y,b),c[f+1+0]=c[f+0+32]=xt(y,b,L),c[f+2+0]=c[f+1+32]=c[f+0+64]=xt(b,L,j),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=xt(L,j,V),c[f+3+32]=c[f+2+64]=c[f+1+96]=xt(j,V,z),c[f+3+64]=c[f+2+96]=xt(V,z,$),c[f+3+96]=xt(z,$,$)}function Ml(c,f){var y=c[f-1+0],b=c[f-1+32],L=c[f-1+64],j=c[f-1-32],V=c[f+0-32],z=c[f+1-32],$=c[f+2-32],K=c[f+3-32];c[f+0+0]=c[f+1+64]=j+V+1>>1,c[f+1+0]=c[f+2+64]=V+z+1>>1,c[f+2+0]=c[f+3+64]=z+$+1>>1,c[f+3+0]=$+K+1>>1,c[f+0+96]=xt(L,b,y),c[f+0+64]=xt(b,y,j),c[f+0+32]=c[f+1+96]=xt(y,j,V),c[f+1+32]=c[f+2+96]=xt(j,V,z),c[f+2+32]=c[f+3+96]=xt(V,z,$),c[f+3+32]=xt(z,$,K)}function Nn(c,f){var y=c[f+0-32],b=c[f+1-32],L=c[f+2-32],j=c[f+3-32],V=c[f+4-32],z=c[f+5-32],$=c[f+6-32],K=c[f+7-32];c[f+0+0]=y+b+1>>1,c[f+1+0]=c[f+0+64]=b+L+1>>1,c[f+2+0]=c[f+1+64]=L+j+1>>1,c[f+3+0]=c[f+2+64]=j+V+1>>1,c[f+0+32]=xt(y,b,L),c[f+1+32]=c[f+0+96]=xt(b,L,j),c[f+2+32]=c[f+1+96]=xt(L,j,V),c[f+3+32]=c[f+2+96]=xt(j,V,z),c[f+3+64]=xt(V,z,$),c[f+3+96]=xt(z,$,K)}function Ea(c,f){var y=c[f-1+0],b=c[f-1+32],L=c[f-1+64],j=c[f-1+96];c[f+0+0]=y+b+1>>1,c[f+2+0]=c[f+0+32]=b+L+1>>1,c[f+2+32]=c[f+0+64]=L+j+1>>1,c[f+1+0]=xt(y,b,L),c[f+3+0]=c[f+1+32]=xt(b,L,j),c[f+3+32]=c[f+1+64]=xt(L,j,j),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=j}function Fl(c,f){var y=c[f-1+0],b=c[f-1+32],L=c[f-1+64],j=c[f-1+96],V=c[f-1-32],z=c[f+0-32],$=c[f+1-32],K=c[f+2-32];c[f+0+0]=c[f+2+32]=y+V+1>>1,c[f+0+32]=c[f+2+64]=b+y+1>>1,c[f+0+64]=c[f+2+96]=L+b+1>>1,c[f+0+96]=j+L+1>>1,c[f+3+0]=xt(z,$,K),c[f+2+0]=xt(V,z,$),c[f+1+0]=c[f+3+32]=xt(y,V,z),c[f+1+32]=c[f+3+64]=xt(b,y,V),c[f+1+64]=c[f+3+96]=xt(L,b,y),c[f+1+96]=xt(j,L,b)}function co(c,f){var y;for(y=0;8>y;++y)r(c,f+32*y,c,f-32,8)}function Vu(c,f){var y;for(y=0;8>y;++y)i(c,f,c[f-1],8),f+=32}function _s(c,f,y){var b;for(b=0;8>b;++b)i(f,y+32*b,c,8)}function Ia(c,f){var y,b=8;for(y=0;8>y;++y)b+=c[f+y-32]+c[f-1+32*y];_s(b>>4,c,f)}function Oi(c,f){var y,b=4;for(y=0;8>y;++y)b+=c[f+y-32];_s(b>>3,c,f)}function Na(c,f){var y,b=4;for(y=0;8>y;++y)b+=c[f-1+32*y];_s(b>>3,c,f)}function Uu(c,f){_s(128,c,f)}function vi(c,f,y){var b=c[f-y],L=c[f+0],j=3*(L-b)+N1[1020+c[f-2*y]-c[f+y]],V=vd[112+(j+4>>3)];c[f-y]=Ji[255+b+vd[112+(j+3>>3)]],c[f+0]=Ji[255+L-V]}function Ta(c,f,y,b){var L=c[f+0],j=c[f+y];return Ss[255+c[f-2*y]-c[f-y]]>b||Ss[255+j-L]>b}function ho(c,f,y,b){return 4*Ss[255+c[f-y]-c[f+0]]+Ss[255+c[f-2*y]-c[f+y]]<=b}function fo(c,f,y,b,L){var j=c[f-3*y],V=c[f-2*y],z=c[f-y],$=c[f+0],K=c[f+y],ne=c[f+2*y],de=c[f+3*y];return 4*Ss[255+z-$]+Ss[255+V-K]>b?0:Ss[255+c[f-4*y]-j]<=L&&Ss[255+j-V]<=L&&Ss[255+V-z]<=L&&Ss[255+de-ne]<=L&&Ss[255+ne-K]<=L&&Ss[255+K-$]<=L}function po(c,f,y,b){var L=2*b+1;for(b=0;16>b;++b)ho(c,f+b,y,L)&&vi(c,f+b,y)}function mo(c,f,y,b){var L=2*b+1;for(b=0;16>b;++b)ho(c,f+b*y,1,L)&&vi(c,f+b*y,1)}function Bu(c,f,y,b){var L;for(L=3;0<L;--L)po(c,f+=4*y,y,b)}function jl(c,f,y,b){var L;for(L=3;0<L;--L)mo(c,f+=4,y,b)}function _i(c,f,y,b,L,j,V,z){for(j=2*j+1;0<L--;){if(fo(c,f,y,j,V))if(Ta(c,f,y,z))vi(c,f,y);else{var $=c,K=f,ne=y,de=$[K-2*ne],Y=$[K-ne],se=$[K+0],he=$[K+ne],xe=$[K+2*ne],fe=27*(Ne=N1[1020+3*(se-Y)+N1[1020+de-he]])+63>>7,Se=18*Ne+63>>7,Ne=9*Ne+63>>7;$[K-3*ne]=Ji[255+$[K-3*ne]+Ne],$[K-2*ne]=Ji[255+de+Se],$[K-ne]=Ji[255+Y+fe],$[K+0]=Ji[255+se-fe],$[K+ne]=Ji[255+he-Se],$[K+2*ne]=Ji[255+xe-Ne]}f+=b}}function ws(c,f,y,b,L,j,V,z){for(j=2*j+1;0<L--;){if(fo(c,f,y,j,V))if(Ta(c,f,y,z))vi(c,f,y);else{var $=c,K=f,ne=y,de=$[K-ne],Y=$[K+0],se=$[K+ne],he=vd[112+(4+(xe=3*(Y-de))>>3)],xe=vd[112+(xe+3>>3)],fe=he+1>>1;$[K-2*ne]=Ji[255+$[K-2*ne]+fe],$[K-ne]=Ji[255+de+xe],$[K+0]=Ji[255+Y-he],$[K+ne]=Ji[255+se-fe]}f+=b}}function Vl(c,f,y,b,L,j){_i(c,f,y,1,16,b,L,j)}function js(c,f,y,b,L,j){_i(c,f,1,y,16,b,L,j)}function ka(c,f,y,b,L,j){var V;for(V=3;0<V;--V)ws(c,f+=4*y,y,1,16,b,L,j)}function m(c,f,y,b,L,j){var V;for(V=3;0<V;--V)ws(c,f+=4,1,y,16,b,L,j)}function C(c,f,y,b,L,j,V,z){_i(c,f,L,1,8,j,V,z),_i(y,b,L,1,8,j,V,z)}function G(c,f,y,b,L,j,V,z){_i(c,f,1,L,8,j,V,z),_i(y,b,1,L,8,j,V,z)}function ee(c,f,y,b,L,j,V,z){ws(c,f+4*L,L,1,8,j,V,z),ws(y,b+4*L,L,1,8,j,V,z)}function ae(c,f,y,b,L,j,V,z){ws(c,f+4,1,L,8,j,V,z),ws(y,b+4,1,L,8,j,V,z)}function Ae(){this.ba=new lt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ke(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nt(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new T}function _t(){this.xb=this.a=0,this.l=new Vr,this.ca=new lt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nt,this.ab=0,this.gc=o(4,Ke),this.Oc=0}function mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $t(c,f,y,b,L,j,V){for(c=c==null?0:c[f+0],f=0;f<V;++f)L[j+f]=c+y[b+f]&255,c=L[j+f]}function Tn(c,f,y,b,L,j,V){var z;if(c==null)$t(null,null,y,b,L,j,V);else for(z=0;z<V;++z)L[j+z]=c[f+z]+y[b+z]&255}function bn(c,f,y,b,L,j,V){if(c==null)$t(null,null,y,b,L,j,V);else{var z,$=c[f+0],K=$,ne=$;for(z=0;z<V;++z)K=ne+($=c[f+z])-K,ne=y[b+z]+(-256&K?0>K?0:255:K)&255,K=$,L[j+z]=ne}}function h(c,f,y,b){var L=f.width,j=f.o;if(e(c!=null&&f!=null),0>y||0>=b||y+b>j)return null;if(!c.Cc){if(c.ga==null){var V;if(c.ga=new mt,(V=c.ga==null)||(V=f.width*f.o,e(c.Gb.length==0),c.Gb=s(V),c.Uc=0,c.Gb==null?V=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,V=1),V=!V),!V){V=c.ga;var z=c.Fa,$=c.P,K=c.qc,ne=c.mb,de=c.nb,Y=$+1,se=K-1,he=V.l;if(e(z!=null&&ne!=null&&f!=null),ja[0]=null,ja[1]=$t,ja[2]=Tn,ja[3]=bn,V.ca=ne,V.tb=de,V.c=f.width,V.i=f.height,e(0<V.c&&0<V.i),1>=K)f=0;else if(V.$a=3&z[$+0],V.Z=z[$+0]>>2&3,V.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||$)f=0;else if(he.put=yt,he.ac=wn,he.bc=Wi,he.ma=V,he.width=f.width,he.height=f.height,he.Da=f.Da,he.v=f.v,he.va=f.va,he.j=f.j,he.o=f.o,V.$a)e:{e(V.$a==1),f=Re();t:for(;;){if(f==null){f=0;break e}if(e(V!=null),V.mc=f,f.c=V.c,f.i=V.i,f.l=V.l,f.l.ma=V,f.l.width=V.c,f.l.height=V.i,f.a=0,le(f.m,z,Y,se),!ct(V.c,V.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Jr(f.s)?(V.ic=1,z=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(z),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(V.ic=0,f=St(f,V.c)),!f))break t;f=1;break e}V.mc=null,f=0}else f=se>=V.c*V.i;V=!f}if(V)return null;c.ga.Lc!=1?c.Ga=0:b=j-y}e(c.ga!=null),e(y+b<=j);e:{if(f=(z=c.ga).c,j=z.l.o,z.$a==0){if(Y=c.rc,se=c.Vc,he=c.Fa,$=c.P+1+y*f,K=c.mb,ne=c.nb+y*f,e($<=c.P+c.qc),z.Z!=0)for(e(ja[z.Z]!=null),V=0;V<b;++V)ja[z.Z](Y,se,he,$,K,ne,f),Y=K,se=ne,ne+=f,$+=f;else for(V=0;V<b;++V)r(K,ne,he,$,f),Y=K,se=ne,ne+=f,$+=f;c.rc=Y,c.Vc=se}else{if(e(z.mc!=null),f=y+b,e((V=z.mc)!=null),e(f<=V.i),V.C>=f)f=1;else if(z.ic||pe(),z.ic){z=V.V,Y=V.Ba,se=V.c;var xe=V.i,fe=(he=1,$=V.$/se,K=V.$%se,ne=V.m,de=V.s,V.$),Se=se*xe,Ne=se*f,De=de.wc,Ce=fe<Ne?tr(de,K,$):null;e(fe<=Se),e(f<=xe),e(Jr(de));t:for(;;){for(;!ne.h&&fe<Ne;){if(K&De||(Ce=tr(de,K,$)),e(Ce!=null),oe(ne),256>(xe=yn(Ce.G[0],Ce.H[0],ne)))z[Y+fe]=xe,++fe,++K>=se&&(K=0,++$<=f&&!($%16)&&jr(V,$));else{if(!(280>xe)){he=0;break t}xe=Tr(xe-256,ne);var ut,Qe=yn(Ce.G[4],Ce.H[4],ne);if(oe(ne),!(fe>=(Qe=Fr(se,Qe=Tr(Qe,ne)))&&Se-fe>=xe)){he=0;break t}for(ut=0;ut<xe;++ut)z[Y+fe+ut]=z[Y+fe+ut-Qe];for(fe+=xe,K+=xe;K>=se;)K-=se,++$<=f&&!($%16)&&jr(V,$);fe<Ne&&K&De&&(Ce=tr(de,K,$))}e(ne.h==te(ne))}jr(V,$>f?f:$);break t}!he||ne.h&&fe<Se?(he=0,V.a=ne.h?5:3):V.$=fe,f=he}else f=Zr(V,V.V,V.Ba,V.c,V.i,f,Fe);if(!f){b=0;break e}}y+b>=j&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*L}function _(c,f,y,b,L,j){for(;0<L--;){var V,z=c,$=f+(y?1:0),K=c,ne=f+(y?0:3);for(V=0;V<b;++V){var de=K[ne+4*V];de!=255&&(de*=32897,z[$+4*V+0]=z[$+4*V+0]*de>>23,z[$+4*V+1]=z[$+4*V+1]*de>>23,z[$+4*V+2]=z[$+4*V+2]*de>>23)}f+=j}}function A(c,f,y,b,L){for(;0<b--;){var j;for(j=0;j<y;++j){var V=c[f+2*j+0],z=15&(K=c[f+2*j+1]),$=4369*z,K=(240&K|K>>4)*$>>16;c[f+2*j+0]=(240&V|V>>4)*$>>16&240|(15&V|V<<4)*$>>16>>4&15,c[f+2*j+1]=240&K|z}f+=L}}function q(c,f,y,b,L,j,V,z){var $,K,ne=255;for(K=0;K<L;++K){for($=0;$<b;++$){var de=c[f+$];j[V+4*$]=de,ne&=de}f+=y,V+=z}return ne!=255}function ue(c,f,y,b,L){var j;for(j=0;j<L;++j)y[b+j]=c[f+j]>>8}function pe(){xh=_,tv=A,nv=q,rv=ue}function Me(c,f,y){S[c]=function(b,L,j,V,z,$,K,ne,de,Y,se,he,xe,fe,Se,Ne,De){var Ce,ut=De-1>>1,Qe=z[$+0]|K[ne+0]<<16,Vt=de[Y+0]|se[he+0]<<16;e(b!=null);var it=3*Qe+Vt+131074>>2;for(f(b[L+0],255&it,it>>16,xe,fe),j!=null&&(it=3*Vt+Qe+131074>>2,f(j[V+0],255&it,it>>16,Se,Ne)),Ce=1;Ce<=ut;++Ce){var Qt=z[$+Ce]|K[ne+Ce]<<16,br=de[Y+Ce]|se[he+Ce]<<16,Ut=Qe+Qt+Vt+br+524296,st=Ut+2*(Qt+Vt)>>3;it=st+Qe>>1,Qe=(Ut=Ut+2*(Qe+br)>>3)+Qt>>1,f(b[L+2*Ce-1],255&it,it>>16,xe,fe+(2*Ce-1)*y),f(b[L+2*Ce-0],255&Qe,Qe>>16,xe,fe+(2*Ce-0)*y),j!=null&&(it=Ut+Vt>>1,Qe=st+br>>1,f(j[V+2*Ce-1],255&it,it>>16,Se,Ne+(2*Ce-1)*y),f(j[V+2*Ce+0],255&Qe,Qe>>16,Se,Ne+(2*Ce+0)*y)),Qe=Qt,Vt=br}1&De||(it=3*Qe+Vt+131074>>2,f(b[L+De-1],255&it,it>>16,xe,fe+(De-1)*y),j!=null&&(it=3*Vt+Qe+131074>>2,f(j[V+De-1],255&it,it>>16,Se,Ne+(De-1)*y)))}}function kt(){Es[_d]=UI,Es[wd]=pv,Es[uv]=BI,Es[bd]=mv,Es[xd]=gv,Es[T1]=yv,Es[cv]=zI,Es[k1]=pv,Es[P1]=mv,Es[Ad]=gv,Es[C1]=yv}function kn(c){return c&~qI?0>c?0:255:c>>vv}function Ht(c,f){return kn((19077*c>>8)+(26149*f>>8)-14234)}function Pn(c,f,y){return kn((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function Cr(c,f){return kn((19077*c>>8)+(33050*f>>8)-17685)}function ti(c,f,y,b,L){b[L+0]=Ht(c,y),b[L+1]=Pn(c,f,y),b[L+2]=Cr(c,f)}function Cn(c,f,y,b,L){b[L+0]=Cr(c,f),b[L+1]=Pn(c,f,y),b[L+2]=Ht(c,y)}function ni(c,f,y,b,L){var j=Pn(c,f,y);f=j<<3&224|Cr(c,f)>>3,b[L+0]=248&Ht(c,y)|j>>5,b[L+1]=f}function bs(c,f,y,b,L){var j=240&Cr(c,f)|15;b[L+0]=240&Ht(c,y)|Pn(c,f,y)>>4,b[L+1]=j}function Go(c,f,y,b,L){b[L+0]=255,ti(c,f,y,b,L+1)}function dh(c,f,y,b,L){Cn(c,f,y,b,L),b[L+3]=255}function wi(c,f,y,b,L){ti(c,f,y,b,L),b[L+3]=255}function Ko(c,f,y){S[c]=function(b,L,j,V,z,$,K,ne,de){for(var Y=ne+(-2&de)*y;ne!=Y;)f(b[L+0],j[V+0],z[$+0],K,ne),f(b[L+1],j[V+0],z[$+0],K,ne+y),L+=2,++V,++$,ne+=2*y;1&de&&f(b[L+0],j[V+0],z[$+0],K,ne)}}function zu(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function md(c,f,y,b,L){switch(c>>>30){case 3:ql(f,y,b,L,0);break;case 2:As(f,y,b,L);break;case 1:un(f,y,b,L)}}function xs(c,f){var y,b,L=f.M,j=f.Nb,V=c.oc,z=c.pc+40,$=c.oc,K=c.pc+584,ne=c.oc,de=c.pc+600;for(y=0;16>y;++y)V[z+32*y-1]=129;for(y=0;8>y;++y)$[K+32*y-1]=129,ne[de+32*y-1]=129;for(0<L?V[z-1-32]=$[K-1-32]=ne[de-1-32]=129:(i(V,z-32-1,127,21),i($,K-32-1,127,9),i(ne,de-32-1,127,9)),b=0;b<c.za;++b){var Y=f.ya[f.aa+b];if(0<b){for(y=-1;16>y;++y)r(V,z+32*y-4,V,z+32*y+12,4);for(y=-1;8>y;++y)r($,K+32*y-4,$,K+32*y+4,4),r(ne,de+32*y-4,ne,de+32*y+4,4)}var se=c.Gd,he=c.Hd+b,xe=Y.ad,fe=Y.Hc;if(0<L&&(r(V,z-32,se[he].y,0,16),r($,K-32,se[he].f,0,8),r(ne,de-32,se[he].ea,0,8)),Y.Za){var Se=V,Ne=z-32+16;for(0<L&&(b>=c.za-1?i(Se,Ne,se[he].y[15],4):r(Se,Ne,se[he+1].y,0,4)),y=0;4>y;y++)Se[Ne+128+y]=Se[Ne+256+y]=Se[Ne+384+y]=Se[Ne+0+y];for(y=0;16>y;++y,fe<<=2)Se=V,Ne=z+wv[y],Vs[Y.Ob[y]](Se,Ne),md(fe,xe,16*+y,Se,Ne)}else if(Se=zu(b,L,Y.Ob[0]),Fa[Se](V,z),fe!=0)for(y=0;16>y;++y,fe<<=2)md(fe,xe,16*+y,V,z+wv[y]);for(y=Y.Gc,Se=zu(b,L,Y.Dd),Xo[Se]($,K),Xo[Se](ne,de),fe=xe,Se=$,Ne=K,255&(Y=0|y)&&(170&Y?vo(fe,256,Se,Ne):xn(fe,256,Se,Ne)),Y=ne,fe=de,255&(y>>=8)&&(170&y?vo(xe,320,Y,fe):xn(xe,320,Y,fe)),L<c.Ub-1&&(r(se[he].y,0,V,z+480,16),r(se[he].f,0,$,K+224,8),r(se[he].ea,0,ne,de+224,8)),y=8*j*c.B,se=c.sa,he=c.ta+16*b+16*j*c.R,xe=c.qa,Y=c.ra+8*b+y,fe=c.Ha,Se=c.Ia+8*b+y,y=0;16>y;++y)r(se,he+y*c.R,V,z+32*y,16);for(y=0;8>y;++y)r(xe,Y+y*c.B,$,K+32*y,8),r(fe,Se+y*c.B,ne,de+32*y,8)}}function Ul(c,f,y,b,L,j,V,z,$){var K=[0],ne=[0],de=0,Y=$!=null?$.kd:0,se=$??new Pe;if(c==null||12>y)return 7;se.data=c,se.w=f,se.ha=y,f=[f],y=[y],se.gb=[se.gb];e:{var he=f,xe=y,fe=se.gb;if(e(c!=null),e(xe!=null),e(fe!=null),fe[0]=0,12<=xe[0]&&!n(c,he[0],"RIFF")){if(n(c,he[0]+8,"WEBP")){fe=3;break e}var Se=ot(c,he[0]+4);if(12>Se||4294967286<Se){fe=3;break e}if(Y&&Se>xe[0]-8){fe=7;break e}fe[0]=Se,he[0]+=12,xe[0]-=12}fe=0}if(fe!=0)return fe;for(Se=0<se.gb[0],y=y[0];;){e:{var Ne=c;xe=f,fe=y;var De=K,Ce=ne,ut=he=[0];if((it=de=[de])[0]=0,8>fe[0])fe=7;else{if(!n(Ne,xe[0],"VP8X")){if(ot(Ne,xe[0]+4)!=10){fe=3;break e}if(18>fe[0]){fe=7;break e}var Qe=ot(Ne,xe[0]+8),Vt=1+je(Ne,xe[0]+12);if(2147483648<=Vt*(Ne=1+je(Ne,xe[0]+15))){fe=3;break e}ut!=null&&(ut[0]=Qe),De!=null&&(De[0]=Vt),Ce!=null&&(Ce[0]=Ne),xe[0]+=18,fe[0]-=18,it[0]=1}fe=0}}if(de=de[0],he=he[0],fe!=0)return fe;if(xe=!!(2&he),!Se&&de)return 3;if(j!=null&&(j[0]=!!(16&he)),V!=null&&(V[0]=xe),z!=null&&(z[0]=0),V=K[0],he=ne[0],de&&xe&&$==null){fe=0;break}if(4>y){fe=7;break}if(Se&&de||!Se&&!de&&!n(c,f[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Qe=c,fe=f,Se=y;var it=se.gb;De=se.na,Ce=se.P,ut=se.Sa,Vt=22,e(Qe!=null),e(Se!=null),Ne=fe[0];var Qt=Se[0];for(e(De!=null),e(ut!=null),De[0]=null,Ce[0]=null,ut[0]=0;;){if(fe[0]=Ne,Se[0]=Qt,8>Qt){fe=7;break e}var br=ot(Qe,Ne+4);if(4294967286<br){fe=3;break e}var Ut=8+br+1&-2;if(Vt+=Ut,0<it&&Vt>it){fe=3;break e}if(!n(Qe,Ne,"VP8 ")||!n(Qe,Ne,"VP8L")){fe=0;break e}if(Qt[0]<Ut){fe=7;break e}n(Qe,Ne,"ALPH")||(De[0]=Qe,Ce[0]=Ne+8,ut[0]=br),Ne+=Ut,Qt-=Ut}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],fe!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(it=c,fe=f,Se=y,De=se.gb[0],Ce=se.Ja,ut=se.xa,Qe=fe[0],Ne=!n(it,Qe,"VP8 "),Vt=!n(it,Qe,"VP8L"),e(it!=null),e(Se!=null),e(Ce!=null),e(ut!=null),8>Se[0])fe=7;else{if(Ne||Vt){if(it=ot(it,Qe+4),12<=De&&it>De-12){fe=3;break e}if(Y&&it>Se[0]-8){fe=7;break e}Ce[0]=it,fe[0]+=8,Se[0]-=8,ut[0]=Vt}else ut[0]=5<=Se[0]&&it[Qe+0]==47&&!(it[Qe+4]>>5),Ce[0]=Se[0];fe=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],f=f[0],fe!=0)break;if(4294967286<se.Ja)return 3;if(z==null||xe||(z[0]=se.xa?2:1),V=[V],he=[he],se.xa){if(5>y){fe=7;break}z=V,Y=he,xe=j,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(Se=[0],it=[0],De=[0],le(Ce=new W,c,f,y),Xr(Ce,Se,it,De)?(z!=null&&(z[0]=Se[0]),Y!=null&&(Y[0]=it[0]),xe!=null&&(xe[0]=De[0]),c=1):c=0):c=0}else{if(10>y){fe=7;break}z=he,c==null||10>y||!ln(c,f+3,y-3)?c=0:(Y=c[f+0]|c[f+1]<<8|c[f+2]<<16,xe=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=se.Ja||!xe||!c?c=0:(V&&(V[0]=xe),z&&(z[0]=c),c=1))}if(!c||(V=V[0],he=he[0],de&&(K[0]!=V||ne[0]!=he)))return 3;$!=null&&($[0]=se,$.offset=f-$.w,e(4294967286>f-$.w),e($.offset==$.ha-y));break}return fe==0||fe==7&&de&&$==null?(j!=null&&(j[0]|=se.na!=null&&0<se.na.length),b!=null&&(b[0]=V),L!=null&&(L[0]=he),0):fe}function ph(c,f,y){var b=f.width,L=f.height,j=0,V=0,z=b,$=L;if(f.Da=c!=null&&0<c.Da,f.Da&&(z=c.cd,$=c.bd,j=c.v,V=c.j,11>y||(j&=-2,V&=-2),0>j||0>V||0>=z||0>=$||j+z>b||V+$>L))return 0;if(f.v=j,f.j=V,f.va=j+z,f.o=V+$,f.U=z,f.T=$,f.da=c!=null&&0<c.da,f.da){if(!at(z,$,y=[c.ib],j=[c.hb]))return 0;f.ib=y[0],f.hb=j[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*b/4&&f.hb<3*L/4,f.Kb=0),1}function mh(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function Pa(c,f,y,b){if(b==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var L=y.cd,j=y.bd,V=-2&y.v,z=-2&y.j;if(0>V||0>z||0>=L||0>=j||V+L>c||z+j>f)return 2;c=L,f=j}if(y.da){if(!at(c,f,L=[y.ib],j=[y.hb]))return 2;c=L[0],f=j[0]}}b.width=c,b.height=f;e:{var $=b.width,K=b.height;if(c=b.S,0>=$||0>=K||!(c>=_d&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){V=j=L=f=0;var ne=(z=$*bv[c])*K;if(11>c||(j=(K+1)/2*(f=($+1)/2),c==12&&(V=(L=$)*K)),(K=s(ne+2*j+V))==null){c=1;break e}b.sd=K,11>c?(($=b.f.RGBA).eb=K,$.fb=0,$.A=z,$.size=ne):(($=b.f.kb).y=K,$.O=0,$.fa=z,$.Fd=ne,$.f=K,$.N=0+ne,$.Ab=f,$.Cd=j,$.ea=K,$.W=0+ne+j,$.Db=f,$.Ed=j,c==12&&($.F=K,$.J=0+ne+2*j),$.Tc=V,$.lb=L)}if(f=1,L=b.S,j=b.width,V=b.height,L>=_d&&13>L)if(11>L)c=b.f.RGBA,f&=(z=Math.abs(c.A))*(V-1)+j<=c.size,f&=z>=j*bv[L],f&=c.eb!=null;else{c=b.f.kb,z=(j+1)/2,ne=(V+1)/2,$=Math.abs(c.fa),K=Math.abs(c.Ab);var de=Math.abs(c.Db),Y=Math.abs(c.lb),se=Y*(V-1)+j;f&=$*(V-1)+j<=c.Fd,f&=K*(ne-1)+z<=c.Cd,f=(f&=de*(ne-1)+z<=c.Ed)&$>=j&K>=z&de>=z,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,L==12&&(f&=Y>=j,f&=se<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=mh(b)),c}var Bl=64,Qi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xi=24,Ca=32,Yo=8,La=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(c){return c},S.Predictor2=function(c,f,y){return f[y+0]},S.Predictor3=function(c,f,y){return f[y+1]},S.Predictor4=function(c,f,y){return f[y-1]},S.Predictor5=function(c,f,y){return rt(rt(c,f[y+1]),f[y+0])},S.Predictor6=function(c,f,y){return rt(c,f[y-1])},S.Predictor7=function(c,f,y){return rt(c,f[y+0])},S.Predictor8=function(c,f,y){return rt(f[y-1],f[y+0])},S.Predictor9=function(c,f,y){return rt(f[y+0],f[y+1])},S.Predictor10=function(c,f,y){return rt(rt(c,f[y-1]),rt(f[y+0],f[y+1]))},S.Predictor11=function(c,f,y){var b=f[y+0];return 0>=wt(b>>24&255,c>>24&255,(f=f[y-1])>>24&255)+wt(b>>16&255,c>>16&255,f>>16&255)+wt(b>>8&255,c>>8&255,f>>8&255)+wt(255&b,255&c,255&f)?b:c},S.Predictor12=function(c,f,y){var b=f[y+0];return(Yt((c>>24&255)+(b>>24&255)-((f=f[y-1])>>24&255))<<24|Yt((c>>16&255)+(b>>16&255)-(f>>16&255))<<16|Yt((c>>8&255)+(b>>8&255)-(f>>8&255))<<8|Yt((255&c)+(255&b)-(255&f)))>>>0},S.Predictor13=function(c,f,y){var b=f[y-1];return(Nt((c=rt(c,f[y+0]))>>24&255,b>>24&255)<<24|Nt(c>>16&255,b>>16&255)<<16|Nt(c>>8&255,b>>8&255)<<8|Nt(255&c,255&b))>>>0};var gh=S.PredictorAdd0;S.PredictorAdd1=Lt,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var qu=S.PredictorAdd2;We("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),We("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var nr,gd=S.ColorIndexInverseTransform,go=S.MapARGB,yo=S.VP8LColorIndexInverseTransformAlpha,yh=S.MapAlpha,vh=S.VP8LPredictorsAdd=[];vh.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var _h,wh,Ra,Da,Oa,zl,Ma,ql,As,vo,un,xn,rr,wr,Qo,bh,$u,yd,Y5,Q5,X5,J5,Z5,ev,xh,tv,nv,rv,iv=s(511),sv=s(2041),ov=s(225),av=s(767),lv=0,N1=sv,vd=ov,Ji=av,Ss=iv,_d=0,wd=1,uv=2,bd=3,xd=4,T1=5,cv=6,k1=7,P1=8,Ad=9,C1=10,II=[2,3,7],NI=[3,3,11],hv=[280,256,256,256,40],TI=[0,1,1,1,0],kI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],PI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],CI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],LI=8,L1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],R1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ah=null,RI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],DI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],OI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],MI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],Vs=[],Xo=[],VI=1,dv=2,ja=[],Es=[];Me("UpsampleRgbLinePair",ti,3),Me("UpsampleBgrLinePair",Cn,3),Me("UpsampleRgbaLinePair",wi,4),Me("UpsampleBgraLinePair",dh,4),Me("UpsampleArgbLinePair",Go,4),Me("UpsampleRgba4444LinePair",bs,2),Me("UpsampleRgb565LinePair",ni,2);var UI=S.UpsampleRgbLinePair,BI=S.UpsampleBgrLinePair,pv=S.UpsampleRgbaLinePair,mv=S.UpsampleBgraLinePair,gv=S.UpsampleArgbLinePair,yv=S.UpsampleRgba4444LinePair,zI=S.UpsampleRgb565LinePair,Sd=16,Ed=1<<Sd-1,Sh=-227,D1=482,vv=6,qI=(256<<vv)-1,_v=0,$I=s(256),HI=s(256),WI=s(256),GI=s(256),KI=s(D1-Sh),YI=s(D1-Sh);Ko("YuvToRgbRow",ti,3),Ko("YuvToBgrRow",Cn,3),Ko("YuvToRgbaRow",wi,4),Ko("YuvToBgraRow",dh,4),Ko("YuvToArgbRow",Go,4),Ko("YuvToRgba4444Row",bs,2),Ko("YuvToRgb565Row",ni,2);var wv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Id=[0,2,8],QI=[8,7,6,4,4,2,2,2,1,1,1,1],XI=1;this.WebPDecodeRGBA=function(c,f,y,b,L){var j=wd,V=new Ae,z=new lt;V.ba=z,z.S=j,z.width=[z.width],z.height=[z.height];var $=z.width,K=z.height,ne=new tt;if(ne==null||c==null)var de=2;else e(ne!=null),de=Ul(c,f,y,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(de!=0?$=0:($!=null&&($[0]=ne.width[0]),K!=null&&(K[0]=ne.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],b!=null&&(b[0]=z.width),L!=null&&(L[0]=z.height);e:{if(b=new Vr,(L=new Pe).data=c,L.w=f,L.ha=y,L.kd=1,f=[0],e(L!=null),((c=Ul(L.data,L.w,L.ha,null,null,null,f,null,L))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(V!=null),b.data=L.data,b.w=L.w+L.offset,b.ha=L.ha-L.offset,b.put=yt,b.ac=wn,b.bc=Wi,b.ma=V,L.xa){if((c=Re())==null){V=1;break e}if(function(Y,se){var he=[0],xe=[0],fe=[0];t:for(;;){if(Y==null)return 0;if(se==null)return Y.a=2,0;if(Y.l=se,Y.a=0,le(Y.m,se.data,se.w,se.ha),!Xr(Y.m,he,xe,fe)){Y.a=3;break t}if(Y.xb=dv,se.width=he[0],se.height=xe[0],!ct(he[0],xe[0],1,Y,null))break t;return 1}return e(Y.a!=0),0}(c,b)){if(b=(f=Pa(b.width,b.height,V.Oa,V.ba))==0){t:{b=c;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((L=y.ma)!=null),b.xb!=0){if(b.ca=L.ba,b.tb=L.tb,e(b.ca!=null),!ph(L.Oa,y,bd)){b.a=2;break n}if(!St(b,y.width)||y.da)break n;if((y.da||pt(b.ca.S))&&pe(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&pe()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!H(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!Zr(b,b.V,b.Ba,b.c,b.i,y.o,Gi))break n;L.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(f=c.a)}else f=c.a}else{if((c=new gi)==null){V=1;break e}if(c.Fa=L.na,c.P=L.P,c.qc=L.Sa,hn(c,b)){if((f=Pa(b.width,b.height,V.Oa,V.ba))==0){if(c.Aa=0,y=V.Oa,e((L=c)!=null),y!=null){if(0<($=0>($=y.Md)?0:100<$?255:255*$/100)){for(K=ne=0;4>K;++K)12>(de=L.pb[K]).lc&&(de.ia=$*QI[0>de.lc?0:de.lc]>>3),ne|=de.ia;ne&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=y.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(Y,se){if(Y==null)return 0;if(se==null)return vn(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!hn(Y,se))return 0;if(e(Y.cb),se.ac==null||se.ac(se)){se.ob&&(Y.L=0);var he=Id[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=se.v-he>>4,Y.zb=se.j-he>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=se.o+15+he>>4,Y.Hb=se.va+15+he>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var xe=Y.ed;for(he=0;4>he;++he){var fe;if(Y.Qa.Cb){var Se=Y.Qa.Lb[he];Y.Qa.Fb||(Se+=xe.Tb)}else Se=xe.Tb;for(fe=0;1>=fe;++fe){var Ne=Y.gd[he][fe],De=Se;if(xe.Pc&&(De+=xe.vd[0],fe&&(De+=xe.od[0])),0<(De=0>De?0:63<De?63:De)){var Ce=De;0<xe.wb&&(Ce=4<xe.wb?Ce>>2:Ce>>1)>9-xe.wb&&(Ce=9-xe.wb),1>Ce&&(Ce=1),Ne.dd=Ce,Ne.tc=2*De+Ce,Ne.ld=40<=De?2:15<=De?1:0}else Ne.tc=0;Ne.La=fe}}}he=0}else vn(Y,6,"Frame setup failed"),he=Y.a;if(he=he==0){if(he){Y.$c=0,0<Y.Aa||(Y.Ic=XI);t:{he=Y.Ic,xe=4*(Ce=Y.za);var ut=32*Ce,Qe=Ce+1,Vt=0<Y.L?Ce*(0<Y.Aa?2:1):0,it=(Y.Aa==2?2:1)*Ce;if((Ne=xe+832+(fe=3*(16*he+Id[Y.L])/2*ut)+(Se=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=Ne)he=0;else{if(Ne>Y.Vb){if(Y.Vb=0,Y.Ec=s(Ne),Y.Fc=0,Y.Ec==null){he=vn(Y,1,"no memory during frame initialization.");break t}Y.Vb=Ne}Ne=Y.Ec,De=Y.Fc,Y.Ac=Ne,Y.Bc=De,De+=xe,Y.Gd=o(ut,ao),Y.Hd=0,Y.rb=o(Qe+1,zn),Y.sb=1,Y.wa=Vt?o(Vt,fr):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Ce),e(!0),Y.oc=Ne,Y.pc=De,De+=832,Y.ya=o(it,gs),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Ce),Y.R=16*Ce,Y.B=8*Ce,Ce=(ut=Id[Y.L])*Y.R,ut=ut/2*Y.B,Y.sa=Ne,Y.ta=De+Ce,Y.qa=Y.sa,Y.ra=Y.ta+16*he*Y.R+ut,Y.Ha=Y.qa,Y.Ia=Y.ra+8*he*Y.B+ut,Y.$c=0,De+=fe,Y.mb=Se?Ne:null,Y.nb=Se?De:null,e(De+Se<=Y.Fc+Y.Vb),ei(Y),i(Y.Ac,Y.Bc,0,xe),he=1}}if(he){if(se.ka=0,se.y=Y.sa,se.O=Y.ta,se.f=Y.qa,se.N=Y.ra,se.ea=Y.Ha,se.Vd=Y.Ia,se.fa=Y.R,se.Rc=Y.B,se.F=null,se.J=0,!lv){for(he=-255;255>=he;++he)iv[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)sv[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)ov[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)av[255+he]=0>he?0:255<he?255:he;lv=1}Ma=Ri,ql=$o,vo=ys,un=Du,xn=lo,As=Ol,rr=Vl,wr=js,Qo=C,bh=G,$u=ka,yd=m,Y5=ee,Q5=ae,X5=po,J5=mo,Z5=Bu,ev=jl,Vs[0]=Wo,Vs[1]=Ou,Vs[2]=Sa,Vs[3]=ju,Vs[4]=yi,Vs[5]=Ml,Vs[6]=vs,Vs[7]=Nn,Vs[8]=Fl,Vs[9]=Ea,Fa[0]=hh,Fa[1]=Fu,Fa[2]=Aa,Fa[3]=Fs,Fa[4]=Ho,Fa[5]=Di,Fa[6]=fh,Xo[0]=Ia,Xo[1]=Mu,Xo[2]=co,Xo[3]=Vu,Xo[4]=Na,Xo[5]=Oi,Xo[6]=Uu,he=1}else he=0}he&&(he=function(Qt,br){for(Qt.M=0;Qt.M<Qt.Va;++Qt.M){var Ut,st=Qt.Jc[Qt.M&Qt.Xb],Ue=Qt.m,ir=Qt;for(Ut=0;Ut<ir.za;++Ut){var Ft=Ue,Zt=ir,Fn=Zt.Ac,Ur=Zt.Bc+4*Ut,bi=Zt.zc,Qn=Zt.ya[Zt.aa+Ut];if(Zt.Qa.Bb?Qn.$b=Ie(Ft,Zt.Pa.jb[0])?2+Ie(Ft,Zt.Pa.jb[2]):Ie(Ft,Zt.Pa.jb[1]):Qn.$b=0,Zt.kc&&(Qn.Ad=Ie(Ft,Zt.Bd)),Qn.Za=!Ie(Ft,145)+0,Qn.Za){var ri=Qn.Ob,xi=0;for(Zt=0;4>Zt;++Zt){var xr,nn=bi[0+Zt];for(xr=0;4>xr;++xr){nn=MI[Fn[Ur+xr]][nn];for(var fn=fv[Ie(Ft,nn[0])];0<fn;)fn=fv[2*fn+Ie(Ft,nn[fn])];nn=-fn,Fn[Ur+xr]=nn}r(ri,xi,Fn,Ur,4),xi+=4,bi[0+Zt]=nn}}else nn=Ie(Ft,156)?Ie(Ft,128)?1:3:Ie(Ft,163)?2:0,Qn.Ob[0]=nn,i(Fn,Ur,nn,4),i(bi,0,nn,4);Qn.Dd=Ie(Ft,142)?Ie(Ft,114)?Ie(Ft,183)?1:3:2:0}if(ir.m.Ka)return vn(Qt,7,"Premature end-of-partition0 encountered.");for(;Qt.ja<Qt.za;++Qt.ja){if(ir=st,Ft=(Ue=Qt).rb[Ue.sb-1],Fn=Ue.rb[Ue.sb+Ue.ja],Ut=Ue.ya[Ue.aa+Ue.ja],Ur=Ue.kc?Ut.Ad:0)Ft.la=Fn.la=0,Ut.Za||(Ft.Na=Fn.Na=0),Ut.Hc=0,Ut.Gc=0,Ut.ia=0;else{var Xn,dn;if(Ft=Fn,Fn=ir,Ur=Ue.Pa.Xc,bi=Ue.ya[Ue.aa+Ue.ja],Qn=Ue.pb[bi.$b],Zt=bi.ad,ri=0,xi=Ue.rb[Ue.sb-1],nn=xr=0,i(Zt,ri,0,384),bi.Za)var Br=0,Us=Ur[3];else{fn=s(16);var sr=Ft.Na+xi.Na;if(sr=Ah(Fn,Ur[1],sr,Qn.Eb,0,fn,0),Ft.Na=xi.Na=(0<sr)+0,1<sr)Ma(fn,0,Zt,ri);else{var Mi=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Zt[ri+fn]=Mi}Br=1,Us=Ur[0]}var An=15&Ft.la,Ar=15&xi.la;for(fn=0;4>fn;++fn){var Zi=1&Ar;for(Mi=dn=0;4>Mi;++Mi)An=An>>1|(Zi=(sr=Ah(Fn,Us,sr=Zi+(1&An),Qn.Sc,Br,Zt,ri))>Br)<<7,dn=dn<<2|(3<sr?3:1<sr?2:Zt[ri+0]!=0),ri+=16;An>>=4,Ar=Ar>>1|Zi<<7,xr=(xr<<8|dn)>>>0}for(Us=An,Br=Ar>>4,Xn=0;4>Xn;Xn+=2){for(dn=0,An=Ft.la>>4+Xn,Ar=xi.la>>4+Xn,fn=0;2>fn;++fn){for(Zi=1&Ar,Mi=0;2>Mi;++Mi)sr=Zi+(1&An),An=An>>1|(Zi=0<(sr=Ah(Fn,Ur[2],sr,Qn.Qc,0,Zt,ri)))<<3,dn=dn<<2|(3<sr?3:1<sr?2:Zt[ri+0]!=0),ri+=16;An>>=2,Ar=Ar>>1|Zi<<5}nn|=dn<<4*Xn,Us|=An<<4<<Xn,Br|=(240&Ar)<<Xn}Ft.la=Us,xi.la=Br,bi.Hc=xr,bi.Gc=nn,bi.ia=43690&nn?0:Qn.ia,Ur=!(xr|nn)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Ut.$b][Ut.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Ur),ir.Ka)return vn(Qt,7,"Premature end-of-file encountered.")}if(ei(Qt),Ue=br,ir=1,Ut=(st=Qt).D,Ft=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Ut.M=st.M,Ut.uc=Ft,xs(st,Ut),ir=1,Ut=(dn=st.D).Nb,Ft=(nn=Id[st.L])*st.R,Fn=nn/2*st.B,fn=16*Ut*st.R,Mi=8*Ut*st.B,Ur=st.sa,bi=st.ta-Ft+fn,Qn=st.qa,Zt=st.ra-Fn+Mi,ri=st.Ha,xi=st.Ia-Fn+Mi,Ar=(An=dn.M)==0,xr=An>=st.Va-1,st.Aa==2&&xs(st,dn),dn.uc)for(Zi=(sr=st).D.M,e(sr.D.uc),dn=sr.yb;dn<sr.Hb;++dn){Br=dn,Us=Zi;var Ai=(es=(zr=sr).D).Nb;Xn=zr.R;var es=es.wa[es.Y+Br],ts=zr.sa,Fi=zr.ta+16*Ai*Xn+16*Br,ns=es.dd,Ln=es.tc;if(Ln!=0)if(e(3<=Ln),zr.L==1)0<Br&&J5(ts,Fi,Xn,Ln+4),es.La&&ev(ts,Fi,Xn,Ln),0<Us&&X5(ts,Fi,Xn,Ln+4),es.La&&Z5(ts,Fi,Xn,Ln);else{var rs=zr.B,Bs=zr.qa,$l=zr.ra+8*Ai*rs+8*Br,Jo=zr.Ha,zr=zr.Ia+8*Ai*rs+8*Br;Ai=es.ld,0<Br&&(wr(ts,Fi,Xn,Ln+4,ns,Ai),bh(Bs,$l,Jo,zr,rs,Ln+4,ns,Ai)),es.La&&(yd(ts,Fi,Xn,Ln,ns,Ai),Q5(Bs,$l,Jo,zr,rs,Ln,ns,Ai)),0<Us&&(rr(ts,Fi,Xn,Ln+4,ns,Ai),Qo(Bs,$l,Jo,zr,rs,Ln+4,ns,Ai)),es.La&&($u(ts,Fi,Xn,Ln,ns,Ai),Y5(Bs,$l,Jo,zr,rs,Ln,ns,Ai))}}if(st.ia&&alert("todo:DitherRow"),Ue.put!=null){if(dn=16*An,An=16*(An+1),Ar?(Ue.y=st.sa,Ue.O=st.ta+fn,Ue.f=st.qa,Ue.N=st.ra+Mi,Ue.ea=st.Ha,Ue.W=st.Ia+Mi):(dn-=nn,Ue.y=Ur,Ue.O=bi,Ue.f=Qn,Ue.N=Zt,Ue.ea=ri,Ue.W=xi),xr||(An-=nn),An>Ue.o&&(An=Ue.o),Ue.F=null,Ue.J=null,st.Fa!=null&&0<st.Fa.length&&dn<An&&(Ue.J=h(st,Ue,dn,An-dn),Ue.F=st.mb,Ue.F==null&&Ue.F.length==0)){ir=vn(st,3,"Could not decode alpha data.");break t}dn<Ue.j&&(nn=Ue.j-dn,dn=Ue.j,e(!(1&nn)),Ue.O+=st.R*nn,Ue.N+=st.B*(nn>>1),Ue.W+=st.B*(nn>>1),Ue.F!=null&&(Ue.J+=Ue.width*nn)),dn<An&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=dn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=An-dn,ir=Ue.put(Ue))}Ut+1!=st.Ic||xr||(r(st.sa,st.ta-Ft,Ur,bi+16*st.R,Ft),r(st.qa,st.ra-Fn,Qn,Zt+8*st.B,Fn),r(st.Ha,st.Ia-Fn,ri,xi+8*st.B,Fn))}if(!ir)return vn(Qt,6,"Output aborted.")}return 1}(Y,se)),se.bc!=null&&se.bc(se),he&=1}return he?(Y.cb=0,he):0})(c,b)||(f=c.a)}}else f=c.a}f==0&&V.Oa!=null&&V.Oa.fd&&(f=mh(V.ba))}V=f}j=V!=0?null:11>j?z.f.RGBA.eb:z.f.kb.y}else j=null;return j};var bv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(S,D){for(var w="",N=0;N<4;N++)w+=String.fromCharCode(S[D++]);return w}function d(S,D){return S[D+0]|S[D+1]<<8}function g(S,D){return(S[D+0]|S[D+1]<<8|S[D+2]<<16)>>>0}function v(S,D){return(S[D+0]|S[D+1]<<8|S[D+2]<<16|S[D+3]<<24)>>>0}new l;var p=[0],k=[0],E=[],B=new l,x=t,P=function(S,D){var w={},N=0,T=!1,X=0,ce=0;if(w.frames=[],!function(F,W){for(var Q=0;Q<4;Q++)if(F[W+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(S,D)){for(v(S,D+=4),D+=8;D<S.length;){var me=u(S,D),ye=v(S,D+=4);D+=4;var J=ye+(1&ye);switch(me){case"VP8 ":case"VP8L":w.frames[N]===void 0&&(w.frames[N]={}),(_e=w.frames[N]).src_off=T?ce:D-8,_e.src_size=X+ye+8,N++,T&&(T=!1,X=0,ce=0);break;case"VP8X":(_e=w.header={}).feature_flags=S[D];var le=D+4;_e.canvas_width=1+g(S,le),le+=3,_e.canvas_height=1+g(S,le),le+=3;break;case"ALPH":T=!0,X=J+8,ce=D-8;break;case"ANIM":(_e=w.header).bgcolor=v(S,D),le=D+4,_e.loop_count=d(S,le),le+=2;break;case"ANMF":var we,_e;(_e=w.frames[N]={}).offset_x=2*g(S,D),D+=3,_e.offset_y=2*g(S,D),D+=3,_e.width=1+g(S,D),D+=3,_e.height=1+g(S,D),D+=3,_e.duration=g(S,D),D+=3,we=S[D++],_e.dispose=1&we,_e.blend=we>>1&1}me!="ANMF"&&(D+=J)}return w}}(x,0);P.response=x,P.rgbaoutput=!0,P.dataurl=!1;var R=P.header?P.header:null,U=P.frames?P.frames:null;if(R){R.loop_counter=R.loop_count,p=[R.canvas_height],k=[R.canvas_width];for(var Z=0;Z<U.length&&U[Z].blend!=0;Z++);}var ie=U[0],M=B.WebPDecodeRGBA(x,ie.src_off,ie.src_size,k,p);ie.rgba=M,ie.imgwidth=k[0],ie.imgheight=p[0];for(var I=0;I<k[0]*p[0]*4;I++)E[I]=M[I];return this.width=k,this.height=p,this.data=E,this}(function(t){var e,n,r,i,s,o,a,l,u,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var g=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=F;Object.defineProperty(this,"pdf",{get:function(){return W}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(H){Q=!!H}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(H){te=!!H}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(H){isNaN(H)||(re=H)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(H){isNaN(H)||(oe=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Ve;typeof H=="number"?Ve=[H,H,H,H]:((Ve=new Array(4))[0]=H[0],Ve[1]=H.length>=2?H[1]:Ve[0],Ve[2]=H.length>=3?H[2]:Ve[0],Ve[3]=H.length>=4?H[3]:Ve[1]),u.margin=Ve}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(H){ge=H}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(H){ve=H}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(H){Ie=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof d&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(H){Le=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Ve;Ve=v(H),this.ctx.fillStyle=Ve.style,this.ctx.isFillTransparent=Ve.a===0,this.ctx.fillOpacity=Ve.a,this.pdf.setFillColor(Ve.r,Ve.g,Ve.b,{a:Ve.a}),this.pdf.setTextColor(Ve.r,Ve.g,Ve.b,{a:Ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Ve=v(H);this.ctx.strokeStyle=Ve.style,this.ctx.isStrokeTransparent=Ve.a===0,this.ctx.strokeOpacity=Ve.a,Ve.a===0?this.pdf.setDrawColor(255,255,255):(Ve.a,this.pdf.setDrawColor(Ve.r,Ve.g,Ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Be=null,je=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(H){Be=null,je=null,ot=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Ve;if(this.ctx.font=H,(Ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var bt=Ve[1];Ve[2];var at=Ve[3],Ee=Ve[4];Ve[5];var He=Ve[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(ze==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var ft=function(We){var En,Ot,dt=[],Pt=We.trim();if(Pt==="")return ng;if(Pt in $4)return[$4[Pt]];for(;Pt!=="";){switch(Ot=null,En=(Pt=W4(Pt)).charAt(0)){case'"':case"'":Ot=nV(Pt.substring(1),En);break;default:Ot=rV(Pt)}if(Ot===null||(dt.push(Ot[0]),(Pt=W4(Ot[1]))!==""&&Pt.charAt(0)!==","))return ng;Pt=Pt.replace(/^,/,"")}return dt}(He);if(this.fontFaces){var rt=function(We,En){var Ot=We.getFontList(),dt=JSON.stringify(Ot);if(Be===null||je!==dt){var Pt=function(Jt){var et=[];return Object.keys(Jt).forEach(function(tn){Jt[tn].forEach(function(pt){var gt=null;switch(pt){case"bold":gt={family:tn,weight:"bold"};break;case"italic":gt={family:tn,style:"italic"};break;case"bolditalic":gt={family:tn,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:tn}}gt!==null&&(gt.ref={name:tn,style:pt},et.push(gt))})}),et}(Ot);Be=function(Jt){for(var et={},tn=0;tn<Jt.length;++tn){var pt=tg(Jt[tn]),gt=pt.family,sn=pt.stretch,lt=pt.style,tt=pt.weight;et[gt]=et[gt]||{},et[gt][sn]=et[gt][sn]||{},et[gt][sn][lt]=et[gt][sn][lt]||{},et[gt][sn][lt][tt]=pt}return et}(Pt.concat(En)),je=dt}return Be}(this.pdf,this.fontFaces),Yt=ft.map(function(We){return{family:We,stretch:"normal",weight:at,style:bt}}),Nt=function(We,En,Ot){for(var dt=(Ot=Ot||{}).defaultFontFamily||"times",Pt=Object.assign({},tV,Ot.genericFontFamilies||{}),Jt=null,et=null,tn=0;tn<En.length;++tn)if(Pt[(Jt=tg(En[tn])).family]&&(Jt.family=Pt[Jt.family]),We.hasOwnProperty(Jt.family)){et=We[Jt.family];break}if(!(et=et||We[dt]))throw new Error("Could not find a font-family for the rule '"+H4(Jt)+"' and default family '"+dt+"'.");if(et=function(pt,gt){if(gt[pt])return gt[pt];var sn=U2[pt],lt=sn<=U2.normal?-1:1,tt=q4(gt,bI,sn,lt);if(!tt)throw new Error("Could not find a matching font-stretch value for "+pt);return tt}(Jt.stretch,et),et=function(pt,gt){if(gt[pt])return gt[pt];for(var sn=wI[pt],lt=0;lt<sn.length;++lt)if(gt[sn[lt]])return gt[sn[lt]];throw new Error("Could not find a matching font-style for "+pt)}(Jt.style,et),!(et=function(pt,gt){if(gt[pt])return gt[pt];if(pt===400&&gt[500])return gt[500];if(pt===500&&gt[400])return gt[400];var sn=eV[pt],lt=q4(gt,xI,sn,pt<400?-1:1);if(!lt)throw new Error("Could not find a matching font-weight for value "+pt);return lt}(Jt.weight,et)))throw new Error("Failed to resolve a font for the rule '"+H4(Jt)+"'.");return et}(rt,Yt);this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var wt="";(at==="bold"||parseInt(at,10)>=700||bt==="bold")&&(wt="bold"),bt==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var Lt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<ft.length;Ze++){if(this.pdf.internal.getFont(ft[Ze],wt,{noFallback:!0,disableWarning:!0})!==void 0){Lt=ft[Ze];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(ft[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Lt=ft[Ze],wt="bold";else if(this.pdf.internal.getFont(ft[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Lt=ft[Ze],wt="normal";break}}if(Lt===""){for(var Tt=0;Tt<ft.length;Tt++)if(jt[ft[Tt]]){Lt=jt[ft[Tt]];break}}Lt=Lt===""?"Times":Lt,this.pdf.setFont(Lt,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};g.prototype.setLineDash=function(F){this.lineDash=F},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){U.call(this,"fill",!1)},g.prototype.stroke=function(){U.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(F,W){if(isNaN(F)||isNaN(W))throw Sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(F,W));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(F,W)},g.prototype.closePath=function(){var F=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&mn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){F=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},g.prototype.lineTo=function(F,W){if(isNaN(F)||isNaN(W))throw Sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(F,W));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},g.prototype.quadraticCurveTo=function(F,W,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(F)||isNaN(W))throw Sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(Q,te)),oe=this.ctx.transform.applyToPoint(new o(F,W));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},g.prototype.bezierCurveTo=function(F,W,Q,te,re,oe){if(isNaN(re)||isNaN(oe)||isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te))throw Sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(re,oe)),ve=this.ctx.transform.applyToPoint(new o(F,W)),Ie=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Ie.x,y2:Ie.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},g.prototype.arc=function(F,W,Q,te,re,oe){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te)||isNaN(re))throw Sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(F,W));F=ge.x,W=ge.y;var ve=this.ctx.transform.applyToPoint(new o(0,Q)),Ie=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ve.x-Ie.x,2)+Math.pow(ve.y-Ie.y,2))}Math.abs(re-te)>=2*Math.PI&&(te=0,re=2*Math.PI),this.path.push({type:"arc",x:F,y:W,radius:Q,startAngle:te,endAngle:re,counterclockwise:oe})},g.prototype.arcTo=function(F,W,Q,te,re){throw new Error("arcTo not implemented.")},g.prototype.rect=function(F,W,Q,te){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te))throw Sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,W),this.lineTo(F+Q,W),this.lineTo(F+Q,W+te),this.lineTo(F,W+te),this.lineTo(F,W),this.lineTo(F+Q,W),this.lineTo(F,W)},g.prototype.fillRect=function(F,W,Q,te){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te))throw Sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,W,Q,te),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},g.prototype.strokeRect=function(F,W,Q,te){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te))throw Sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(F,W,Q,te),this.stroke())},g.prototype.clearRect=function(F,W,Q,te){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te))throw Sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,W,Q,te))},g.prototype.save=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},g.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(W),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(F){var W,Q,te,re;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))W=0,Q=0,te=0,re=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(oe!==null)W=parseInt(oe[1]),Q=parseInt(oe[2]),te=parseInt(oe[3]),re=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)W=parseInt(oe[1]),Q=parseInt(oe[2]),te=parseInt(oe[3]),re=parseFloat(oe[4]);else{if(re=1,typeof F=="string"&&F.charAt(0)!=="#"){var ge=new dI(F);F=ge.ok?ge.toHex():"#000000"}F.length===4?(W=F.substring(1,2),W+=W,Q=F.substring(2,3),Q+=Q,te=F.substring(3,4),te+=te):(W=F.substring(1,3),Q=F.substring(3,5),te=F.substring(5,7)),W=parseInt(W,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:W,g:Q,b:te,a:re,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(F,W,Q,te){if(isNaN(W)||isNaN(Q)||typeof F!="string")throw Sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var re=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:F,x:W,y:Q,scale:oe,angle:re,align:this.textAlign,maxWidth:te})}},g.prototype.strokeText=function(F,W,Q,te){if(isNaN(W)||isNaN(Q)||typeof F!="string")throw Sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){te=isNaN(te)?void 0:te;var re=J(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:F,x:W,y:Q,scale:oe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:te})}},g.prototype.measureText=function(F){if(typeof F!="string")throw Sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Q=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),re=W.getStringUnitWidth(F)*te/W.internal.scaleFactor;return new function(oe){var ge=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:re*=Math.round(96*Q/72*1e4)/1e4})},g.prototype.scale=function(F,W){if(isNaN(F)||isNaN(W))throw Sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(F,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.rotate=function(F){if(isNaN(F))throw Sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.translate=function(F,W){if(isNaN(F)||isNaN(W))throw Sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,F,W);this.ctx.transform=this.ctx.transform.multiply(Q)},g.prototype.transform=function(F,W,Q,te,re,oe){if(isNaN(F)||isNaN(W)||isNaN(Q)||isNaN(te)||isNaN(re)||isNaN(oe))throw Sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(F,W,Q,te,re,oe);this.ctx.transform=this.ctx.transform.multiply(ge)},g.prototype.setTransform=function(F,W,Q,te,re,oe){F=isNaN(F)?1:F,W=isNaN(W)?0:W,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,re=isNaN(re)?0:re,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(F,W,Q,te,re,oe)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(F,W,Q,te,re,oe,ge,ve,Ie){var Le=this.pdf.getImageProperties(F),Be=1,je=1,ot=1,H=1;te!==void 0&&ve!==void 0&&(ot=ve/te,H=Ie/re,Be=Le.width/te*ve/te,je=Le.height/re*Ie/re),oe===void 0&&(oe=W,ge=Q,W=0,Q=0),te!==void 0&&ve===void 0&&(ve=te,Ie=re),te===void 0&&ve===void 0&&(ve=Le.width,Ie=Le.height);var Ve=this.ctx.transform.decompose(),bt=J(Ve.rotate.shx),at=new l,Ee=(at=(at=(at=at.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new a(oe-W*ot,ge-Q*H,te*Be,re*je));if(this.autoPaging){for(var He,ze=B.call(this,Ee),ft=[],rt=0;rt<ze.length;rt+=1)ft.indexOf(ze[rt])===-1&&ft.push(ze[rt]);R(ft);for(var Yt=ft[0],Nt=ft[ft.length-1],wt=Yt;wt<Nt+1;wt++){this.pdf.setPage(wt);var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=wt===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=wt===1?0:Ze+(wt-2)*Tt;if(this.ctx.clip_path.length!==0){var En=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(He,this.posX+this.margin[3],-We+jt+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=En}var Ot=JSON.parse(JSON.stringify(Ee));Ot=P([Ot],this.posX+this.margin[3],-We+jt+this.ctx.prevPageLastElemOffset)[0];var dt=(wt>Yt||wt<Nt)&&E.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Tt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,bt),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,bt)};var B=function(F,W,Q){var te=[];W=W||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":te.push(Math.floor((F.y+re)/Q)+1);break;case"arc":te.push(Math.floor((F.y+re-F.radius)/Q)+1),te.push(Math.floor((F.y+re+F.radius)/Q)+1);break;case"qct":var oe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);te.push(Math.floor((oe.y+re)/Q)+1),te.push(Math.floor((oe.y+oe.h+re)/Q)+1);break;case"bct":var ge=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);te.push(Math.floor((ge.y+re)/Q)+1),te.push(Math.floor((ge.y+ge.h+re)/Q)+1);break;case"rect":te.push(Math.floor((F.y+re)/Q)+1),te.push(Math.floor((F.y+F.h+re)/Q)+1)}for(var ve=0;ve<te.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<te[ve];)x.call(this);return te},x=function(){var F=this.fillStyle,W=this.strokeStyle,Q=this.font,te=this.lineCap,re=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=W,this.font=Q,this.lineCap=te,this.lineWidth=re,this.lineJoin=oe},P=function(F,W,Q){for(var te=0;te<F.length;te++)switch(F[te].type){case"bct":F[te].x2+=W,F[te].y2+=Q;case"qct":F[te].x1+=W,F[te].y1+=Q;default:F[te].x+=W,F[te].y+=Q}return F},R=function(F){return F.sort(function(W,Q){return W-Q})},U=function(F,W){var Q=this.fillStyle,te=this.strokeStyle,re=this.lineCap,oe=this.lineWidth,ge=Math.abs(oe*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var Ie,Le,Be=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),ot=[],H=0;H<je.length;H++)if(je[H].x!==void 0)for(var Ve=B.call(this,je[H]),bt=0;bt<Ve.length;bt+=1)ot.indexOf(Ve[bt])===-1&&ot.push(Ve[bt]);for(var at=0;at<ot.length;at++)for(;this.pdf.internal.getNumberOfPages()<ot[at];)x.call(this);R(ot);for(var Ee=ot[0],He=ot[ot.length-1],ze=Ee;ze<He+1;ze++){this.pdf.setPage(ze),this.fillStyle=Q,this.strokeStyle=te,this.lineCap=re,this.lineWidth=ge,this.lineJoin=ve;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=ze===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=ze===1?0:Yt+(ze-2)*Nt;if(this.ctx.clip_path.length!==0){var Lt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ie,this.posX+this.margin[3],-wt+rt+this.ctx.prevPageLastElemOffset),Z.call(this,F,!0),this.path=Lt}if(Le=JSON.parse(JSON.stringify(Be)),this.path=P(Le,this.posX+this.margin[3],-wt+rt+this.ctx.prevPageLastElemOffset),W===!1||ze===0){var jt=(ze>Ee||ze<He)&&E.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Nt,null).clip().discardPath()),Z.call(this,F,W),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}this.path=Be}else this.lineWidth=ge,Z.call(this,F,W),this.lineWidth=oe},Z=function(F,W){if((F!=="stroke"||W||!k.call(this))&&(F==="stroke"||W||!p.call(this))){for(var Q,te,re=[],oe=this.path,ge=0;ge<oe.length;ge++){var ve=oe[ge];switch(ve.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ve,deltas:[],abs:[]});break;case"lt":var Ie=re.length;if(oe[ge-1]&&!isNaN(oe[ge-1].x)&&(Q=[ve.x-oe[ge-1].x,ve.y-oe[ge-1].y],Ie>0)){for(;Ie>=0;Ie--)if(re[Ie-1].close!==!0&&re[Ie-1].begin!==!0){re[Ie-1].deltas.push(Q),re[Ie-1].abs.push(ve);break}}break;case"bct":Q=[ve.x1-oe[ge-1].x,ve.y1-oe[ge-1].y,ve.x2-oe[ge-1].x,ve.y2-oe[ge-1].y,ve.x-oe[ge-1].x,ve.y-oe[ge-1].y],re[re.length-1].deltas.push(Q);break;case"qct":var Le=oe[ge-1].x+2/3*(ve.x1-oe[ge-1].x),Be=oe[ge-1].y+2/3*(ve.y1-oe[ge-1].y),je=ve.x+2/3*(ve.x1-ve.x),ot=ve.y+2/3*(ve.y1-ve.y),H=ve.x,Ve=ve.y;Q=[Le-oe[ge-1].x,Be-oe[ge-1].y,je-oe[ge-1].x,ot-oe[ge-1].y,H-oe[ge-1].x,Ve-oe[ge-1].y],re[re.length-1].deltas.push(Q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ve)}}te=W?null:F==="stroke"?"stroke":"fill";for(var bt=!1,at=0;at<re.length;at++)if(re[at].arc)for(var Ee=re[at].abs,He=0;He<Ee.length;He++){var ze=Ee[He];ze.type==="arc"?I.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,W,!bt):T.call(this,ze.x,ze.y),bt=!0}else if(re[at].close===!0)this.pdf.internal.out("h"),bt=!1;else if(re[at].begin!==!0){var ft=re[at].start.x,rt=re[at].start.y;X.call(this,re[at].deltas,ft,rt),bt=!0}te&&S.call(this,te),W&&D.call(this)}},ie=function(F){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Q;case"top":return F+W-Q;case"hanging":return F+W-2*Q;case"middle":return F+W/2-Q;default:return F}},M=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(W,Q){this.colorStops.push([W,Q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(F,W,Q,te,re,oe,ge,ve,Ie){for(var Le=me.call(this,Q,te,re,oe),Be=0;Be<Le.length;Be++){var je=Le[Be];Be===0&&(Ie?w.call(this,je.x1+F,je.y1+W):T.call(this,je.x1+F,je.y1+W)),ce.call(this,F,W,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}ve?D.call(this):S.call(this,ge)},S=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},w=function(F,W){this.pdf.internal.out(n(F)+" "+r(W)+" m")},N=function(F){var W;switch(F.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var Q,te,re,oe=this.pdf.getTextDimensions(F.text),ge=ie.call(this,F.y),ve=M.call(this,ge)-oe.h,Ie=this.ctx.transform.applyToPoint(new o(F.x,ge));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Be=new l;Be=(Be=(Be=Be.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var je=this.ctx.transform.applyToRectangle(new a(F.x,ge,oe.w,oe.h)),ot=Be.applyToRectangle(new a(F.x,ve,oe.w,oe.h)),H=B.call(this,ot),Ve=[],bt=0;bt<H.length;bt+=1)Ve.indexOf(H[bt])===-1&&Ve.push(H[bt]);R(Ve);for(var at=Ve[0],Ee=Ve[Ve.length-1],He=at;He<Ee+1;He++){this.pdf.setPage(He);var ze=He===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],Yt=rt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],wt=Nt-this.margin[3],Lt=He===1?0:ft+(He-2)*Yt;if(this.ctx.clip_path.length!==0){var jt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Q,this.posX+this.margin[3],-1*Lt+ze),Z.call(this,"fill",!0),this.path=jt}var Ze=P([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Lt+ze+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*F.scale),re=this.lineWidth,this.lineWidth=re*F.scale);var Tt=this.autoPaging!=="text";if(Tt||Ze.y+Ze.h<=rt){if(Tt||Ze.y>=ze&&Ze.x<=Nt){var We=Tt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Nt-Ze.x)[0],En=P([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Lt+ze+this.ctx.prevPageLastElemOffset)[0],Ot=Tt&&(He>at||He<Ee)&&E.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Yt,null).clip().discardPath()),this.pdf.text(We,En.x,En.y,{angle:F.angle,align:W,renderingMode:F.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else Ze.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-Ze.y);F.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=re)}}else F.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*F.scale),re=this.lineWidth,this.lineWidth=re*F.scale),this.pdf.text(F.text,Ie.x+this.posX,Ie.y+this.posY,{angle:F.angle,align:W,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=re)},T=function(F,W,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(F+Q)+" "+r(W+te)+" l")},X=function(F,W,Q){return this.pdf.lines(F,W,Q,null,null)},ce=function(F,W,Q,te,re,oe,ge,ve){this.pdf.internal.out([e(i(Q+F)),e(s(te+W)),e(i(re+F)),e(s(oe+W)),e(i(ge+F)),e(s(ve+W)),"c"].join(" "))},me=function(F,W,Q,te){for(var re=2*Math.PI,oe=Math.PI/2;W>Q;)W-=re;var ge=Math.abs(Q-W);ge<re&&te&&(ge=re-ge);for(var ve=[],Ie=te?-1:1,Le=W;ge>1e-5;){var Be=Le+Ie*Math.min(ge,oe);ve.push(ye.call(this,F,Le,Be)),ge-=Math.abs(Be-Le),Le=Be}return ve},ye=function(F,W,Q){var te=(Q-W)/2,re=F*Math.cos(te),oe=F*Math.sin(te),ge=re,ve=-oe,Ie=ge*ge+ve*ve,Le=Ie+ge*re+ve*oe,Be=4/3*(Math.sqrt(2*Ie*Le)-Le)/(ge*oe-ve*re),je=ge-Be*ve,ot=ve+Be*ge,H=je,Ve=-ot,bt=te+W,at=Math.cos(bt),Ee=Math.sin(bt);return{x1:F*Math.cos(W),y1:F*Math.sin(W),x2:je*at-ot*Ee,y2:je*Ee+ot*at,x3:H*at-Ve*Ee,y3:H*Ee+Ve*at,x4:F*Math.cos(Q),y4:F*Math.sin(Q)}},J=function(F){return 180*F/Math.PI},le=function(F,W,Q,te,re,oe){var ge=F+.5*(Q-F),ve=W+.5*(te-W),Ie=re+.5*(Q-re),Le=oe+.5*(te-oe),Be=Math.min(F,re,ge,Ie),je=Math.max(F,re,ge,Ie),ot=Math.min(W,oe,ve,Le),H=Math.max(W,oe,ve,Le);return new a(Be,ot,je-Be,H-ot)},we=function(F,W,Q,te,re,oe,ge,ve){var Ie,Le,Be,je,ot,H,Ve,bt,at,Ee,He,ze,ft,rt,Yt=Q-F,Nt=te-W,wt=re-Q,Lt=oe-te,jt=ge-re,Ze=ve-oe;for(Le=0;Le<41;Le++)at=(Ve=(Be=F+(Ie=Le/40)*Yt)+Ie*((ot=Q+Ie*wt)-Be))+Ie*(ot+Ie*(re+Ie*jt-ot)-Ve),Ee=(bt=(je=W+Ie*Nt)+Ie*((H=te+Ie*Lt)-je))+Ie*(H+Ie*(oe+Ie*Ze-H)-bt),Le==0?(He=at,ze=Ee,ft=at,rt=Ee):(He=Math.min(He,at),ze=Math.min(ze,Ee),ft=Math.max(ft,at),rt=Math.max(rt,Ee));return new a(Math.round(He),Math.round(ze),Math.round(ft-He),Math.round(rt-ze))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,W,Q=(F=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:W}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ht.API),function(t){var e=function(o){var a,l,u,d,g,v,p,k,E,B;for(l=[],u=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(g=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(v=(g=((g=((g=((g=(g-(B=g%85))/85)-(E=g%85))/85)-(k=g%85))/85)-(p=g%85))/85)%85,l.push(v+33,p+33,k+33,E+33,B+33)):l.push(122);return function(x,P){for(var R=P;R>0;R--)x.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,d,g,v=String,p="length",k=255,E="charCodeAt",B="slice",x="replace";for(o[B](-2),o=o[B](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,g=(o+=a="uuuuu"[B](o[p]%5||5))[p];g>d;d+=5)l=52200625*(o[E](d)-33)+614125*(o[E](d+1)-33)+7225*(o[E](d+2)-33)+85*(o[E](d+3)-33)+(o[E](d+4)-33),u.push(k&l>>24,k&l>>16,k&l>>8,k&l);return function(P,R){for(var U=R;U>0;U--)P.pop()}(u,a[p]),v.fromCharCode.apply(v,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=N2(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,d){var g=new XMLHttpRequest,v=0,p=function(k){var E=k.length,B=[],x=String.fromCharCode;for(v=0;v<E;v+=1)B.push(x(255&k.charCodeAt(v)));return B.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?d(p(this.responseText)):d(void 0)}),g.send(null),u&&g.status===200)return p(g.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(Et.html2canvas?Promise.resolve(Et.html2canvas):Cm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Et.DOMPurify?Promise.resolve(Et.DOMPurify):Cm(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=mn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function a(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(a(g,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return(d=d.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var k=d[p],E=k.src.find(function(B){return B.format==="truetype"});E&&u.addFont(E.url,k.ref.name,k.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,d){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(d,g){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,d),v}).then(d,g).then(function(v){return u.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),v=u.call(g,a,l);return o.convert(v,d.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ht.getPageSize=function(a,l,u){if(mn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,v=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var k,E=0,B=0;if(p.hasOwnProperty(v))E=p[v][1]/g,B=p[v][0]/g;else try{E=u[1],B=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",B>E&&(k=B,B=E,E=k);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>B&&(k=B,B=E,E=k)}return{width:B,height:E,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(tg):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(ht.API),ht.API.addJS=function(t){return K4=t,this.internal.events.subscribe("postPutResources",function(){fp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fp!==void 0&&G4!==void 0&&this.internal.out("/Names <</JavaScript "+fp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var g=n.internal.newObject();d.push(g);var v=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var v,p=256*g.charCodeAt(4)+g.charCodeAt(5),k=g.length,E={width:0,height:0,numcomponents:1},B=4;B<k;B+=2){if(B+=p,e.indexOf(g.charCodeAt(B+1))!==-1){v=256*g.charCodeAt(B+5)+g.charCodeAt(B+6),E={width:256*g.charCodeAt(B+7)+g.charCodeAt(B+8),height:v,numcomponents:g.charCodeAt(B+9)};break}p=256*g.charCodeAt(B+2)+g.charCodeAt(B+3)}return E}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Uj(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,d=s.depth;i=u&&l===1?function(I){for(var S=I.width,D=I.height,w=I.data,N=I.palette,T=I.depth,X=!1,ce=[],me=[],ye=void 0,J=!1,le=0,we=0;we<N.length;we++){var _e=zb(N[we],4),F=_e[0],W=_e[1],Q=_e[2],te=_e[3];ce.push(F,W,Q),te!=null&&(te===0?(le++,me.length<1&&me.push(we)):te<255&&(J=!0))}if(J||le>1){X=!0,me=void 0;var re=S*D;ye=new Uint8Array(re);for(var oe=new DataView(w.buffer),ge=0;ge<re;ge++){var ve=rg(oe,ge,T),Ie=zb(N[ve],4)[3];ye[ge]=Ie}}else le===0&&(me=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:w,alphaBytes:ye,needSMask:X,palette:ce,mask:me}}(s):l===2||l===4?function(I){for(var S=I.data,D=I.width,w=I.height,N=I.channels,T=I.depth,X=N===2?"DeviceGray":"DeviceRGB",ce=N-1,me=D*w,ye=ce,J=me*ye,le=1*me,we=Math.ceil(J*T/8),_e=Math.ceil(le*T/8),F=new Uint8Array(we),W=new Uint8Array(_e),Q=new DataView(S.buffer),te=new DataView(F.buffer),re=new DataView(W.buffer),oe=!1,ge=0;ge<me;ge++){for(var ve=ge*N,Ie=0;Ie<ye;Ie++)r3(te,rg(Q,ve+Ie,T),ge*ye+Ie,T);var Le=rg(Q,ve+ye,T);Le<(1<<T)-1&&(oe=!0),r3(re,Le,1*ge,T)}return{colorSpace:X,colorsPerPixel:ce,sMaskBitsPerComponent:oe?T:void 0,colorBytes:F,alphaBytes:W,needSMask:oe}}(s):function(I){var S=I.data,D=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:S instanceof Uint16Array?function(w){for(var N=w.length,T=new Uint8Array(2*N),X=new DataView(T.buffer,T.byteOffset,T.byteLength),ce=0;ce<N;ce++)X.setUint16(2*ce,w[ce],!1);return T}(S):S,needSMask:!1}}(s);var g,v,p,k=i,E=k.colorSpace,B=k.colorsPerPixel,x=k.sMaskBitsPerComponent,P=k.colorBytes,R=k.alphaBytes,U=k.needSMask,Z=k.palette,ie=k.mask,M=null;return r!==ht.API.image_compression.NONE&&typeof N2=="function"?(M=function(I){var S;switch(I){case ht.API.image_compression.FAST:S=11;break;case ht.API.image_compression.MEDIUM:S=13;break;case ht.API.image_compression.SLOW:S=14;break;default:S=12}return S}(r),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(M," /Colors ").concat(B," /BitsPerComponent ").concat(d," /Columns ").concat(o),t=J4(P,Math.ceil(o*B*d/8),B,d,r),U&&(p=J4(R,Math.ceil(o*x/8),1,x,r))):(g=void 0,v=void 0,t=P,U&&(p=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:g,decodeParameters:v,transparency:ie,palette:Z,sMask:p,predictor:M,width:o,height:a,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:E}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new aV(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},d=new ig(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),qs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Sn.log("bit decode error:"+n)}},qs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},qs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},qs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},qs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},qs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},qs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},qs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},qs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new qs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new ig(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ht.API),s3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new s3(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new ig(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var d=r[u],g=r[u+1],v=r[u+2],p=r[u+3];s[a++]=d,s[a++]=g,s[a++]=v,o[l++]=p}var k=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:k,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qu=ht.API,dp=Qu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,g=e.doKerning!==!1,v=0,p=t.length,k=0,E=a[0]||l,B=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?B.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(v=g&&mn(u[r])==="object"&&!isNaN(parseInt(u[r][k],10))?u[r][k]/d:0,B.push((a[r]||E)/l+v)),k=r;return B},Y4=Qu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Qu.processArabic&&(t=Qu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:dp.apply(this,arguments).reduce(function(s,o){return s+o},0)},Q4=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},X4=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,d=[],g=[d],v=n.textIndent||0,p=0,k=0,E=t.split(" "),B=dp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),P=[];E.map(function(U){(U=U.split(/\s*\n/)).length>1?P=P.concat(U.map(function(Z,ie){return(ie&&Z.length?`
`:"")+Z})):P.push(U[0])}),E=P,l=Y4.apply(this,[x,n])}for(s=0,o=E.length;s<o;s++){var R=0;if(r=E[s],l&&r[0]==`
`&&(r=r.substr(1),R=1),v+p+(k=(i=dp.apply(this,[r,n])).reduce(function(U,Z){return U+Z},0))>e||R){if(k>e){for(a=Q4.apply(this,[r,i,e-(v+p),e]),d.push(a.shift()),d=[a.pop()];a.length;)g.push([a.shift()]);k=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(U,Z){return U+Z},0)}else d=[r];g.push(d),v=k+l,p=B}else d.push(r),v+=p+k,p=B}return u=l?function(U,Z){return(Z?x:"")+U.join(" ")}:function(U){return U.join(" ")},g.map(u)},Qu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(X4.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var p,k,E,B,x=["{"];for(var P in v){if(p=v[P],isNaN(parseInt(P,10))?k="'"+P+"'":(P=parseInt(P,10),k=(k=o(P).slice(2)).slice(0,-1)+i[k.slice(-1)]),typeof p=="number")p<0?(E=o(p).slice(3),B="-"):(E=o(p).slice(2),B=""),E=B+E.slice(0,-1)+i[E.slice(-1)];else{if(mn(p)!=="object")throw new Error("Don't know what to do with value type "+mn(p)+".");E=a(p)}x.push(k+E)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,k,E,B,x={},P=1,R=x,U=[],Z="",ie="",M=v.length-1,I=1;I<M;I+=1)(B=v[I])=="'"?p?(E=p.join(""),p=void 0):p=[]:p?p.push(B):B=="{"?(U.push([R,E]),R={},E=void 0):B=="}"?((k=U.pop())[0][k[1]]=R,E=void 0,R=k[0]):B=="-"?P=-1:E===void 0?r.hasOwnProperty(B)?(Z+=r[B],E=parseInt(Z,16)*P,P=1,Z=""):Z+=B:r.hasOwnProperty(B)?(ie+=r[B],R[E]=parseInt(ie,16)*P,P=1,E=void 0,ie=""):ie+=B;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var p=v.font,k=g.Unicode[p.postScriptName];k&&(p.metadata.Unicode={},p.metadata.Unicode.widths=k.widths,p.metadata.Unicode.kerning=k.kerning);var E=d.Unicode[p.postScriptName];E&&(p.metadata.Unicode.encoding=E,p.encoding=E.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Vp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw Sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Et.canvg?Promise.resolve(Et.canvg):Cm(()=>import("./index.es-D4MViomJ.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(d)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,d=0,g=0;function v(k,E){var B,x=!1;for(B=0;B<k.length;B+=1)k[B]===E&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(g=0;g<p;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(mn(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&v(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,E=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?E.push("/"+k+" /"+n[k].value):E.push("/"+k+" "+n[k].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ht.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],g=0,v=s.length;g<v;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(u[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,u,d,g,v;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,v=(a=Object.keys(s).sort(function(p,k){return p-k})).length;g<v;g++)o=a[g],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",k=0;k<v.length;k++)p+=String.fromCharCode(v[k]);var E=u();d({data:p,addLength1:!0,objectId:E}),l("endobj");var B=u();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:B}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+nc(a.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var P=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+nc(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+B+" 0 R"),l("/BaseFont /"+nc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+P+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,v="",p=0;p<g.length;p++)v+=String.fromCharCode(g[p]);var k=u();d({data:v,addLength1:!0,objectId:k}),l("endobj");var E=u();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var B=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+k+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+nc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+nc(a.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,d=s.options||{},g=s.mutex||{},v=g.pdfEscape,p=g.activeFontKey,k=g.fonts,E=p,B="",x=0,P="",R=k[E].encoding;if(k[E].encoding!=="Identity-H")return{text:a,x:l,y:u,options:d,mutex:g};for(P=a,E=p,Array.isArray(a)&&(P=a[0]),x=0;x<P.length;x+=1)k[E].metadata.hasOwnProperty("cmap")&&(o=k[E].metadata.cmap.unicode.codeMap[P[x].charCodeAt(0)]),o||P[x].charCodeAt(0)<256&&k[E].metadata.hasOwnProperty("Unicode")?B+=P[x]:B+="";var U="";return parseInt(E.slice(1))<14||R==="WinAnsiEncoding"?U=v(B,E).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(U=n(B,k[E])),g.isHex=!0,{text:U,x:l,y:u,options:d,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,d,g=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,R=0;this.__bidiEngine__={};var U=function(w){var N=w.charCodeAt(),T=N>>8,X=E[T];return X!==void 0?g[256*X+(255&N)]:T===252||T===253?"AL":x.test(T)?"L":T===8?"R":"N"},Z=function(w){for(var N,T=0;T<w.length;T++){if((N=U(w.charAt(T)))==="L")return!1;if(N==="R")return!0}return!1},ie=function(w,N,T,X){var ce,me,ye,J,le=N[X];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(le="AN");break;case"AL":P=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":X<1||X+1>=N.length||(ce=T[X-1])!=="EN"&&ce!=="AN"||(me=N[X+1])!=="EN"&&me!=="AN"?le="N":P&&(me="AN"),le=me===ce?me:"N";break;case"ES":le=(ce=X>0?T[X-1]:"B")==="EN"&&X+1<N.length&&N[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&T[X-1]==="EN"){le="EN";break}if(P){le="N";break}for(ye=X+1,J=N.length;ye<J&&N[ye]==="ET";)ye++;le=ye<J&&N[ye]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(J=N.length,ye=X+1;ye<J&&N[ye]==="NSM";)ye++;if(ye<J){var we=w[X],_e=we>=1425&&we<=2303||we===64286;if(ce=N[ye],_e&&(ce==="R"||ce==="AL")){le="R";break}}}le=X<1||(ce=N[X-1])==="B"?"N":T[X-1];break;case"B":P=!1,i=!0,le=R;break;case"S":s=!0,le="N"}return le},M=function(w,N,T){var X=w.split("");return T&&I(X,T,{hiLevel:R}),X.reverse(),N&&N.reverse(),X.join("")},I=function(w,N,T){var X,ce,me,ye,J,le=-1,we=w.length,_e=0,F=[],W=R?p:v,Q=[];for(P=!1,i=!1,s=!1,ce=0;ce<we;ce++)Q[ce]=U(w[ce]);for(me=0;me<we;me++){if(J=_e,F[me]=ie(w,Q,F,me),X=240&(_e=W[J][k[F[me]]]),_e&=15,N[me]=ye=W[_e][5],X>0)if(X===16){for(ce=le;ce<me;ce++)N[ce]=1;le=-1}else le=-1;if(W[_e][6])le===-1&&(le=me);else if(le>-1){for(ce=le;ce<me;ce++)N[ce]=ye;le=-1}Q[me]==="B"&&(N[me]=0),T.hiLevel|=ye}s&&function(te,re,oe){for(var ge=0;ge<oe;ge++)if(te[ge]==="S"){re[ge]=R;for(var ve=ge-1;ve>=0&&te[ve]==="WS";ve--)re[ve]=R}}(Q,N,we)},S=function(w,N,T,X,ce){if(!(ce.hiLevel<w)){if(w===1&&R===1&&!i)return N.reverse(),void(T&&T.reverse());for(var me,ye,J,le,we=N.length,_e=0;_e<we;){if(X[_e]>=w){for(J=_e+1;J<we&&X[J]>=w;)J++;for(le=_e,ye=J-1;le<ye;le++,ye--)me=N[le],N[le]=N[ye],N[ye]=me,T&&(me=T[le],T[le]=T[ye],T[ye]=me);_e=J}_e++}}},D=function(w,N,T){var X=w.split(""),ce={hiLevel:R};return T||(T=[]),I(X,T,ce),function(me,ye,J){if(J.hiLevel!==0&&d)for(var le,we=0;we<me.length;we++)ye[we]===1&&(le=B.indexOf(me[we]))>=0&&(me[we]=B[le+1])}(X,T,ce),S(2,X,N,T,ce),S(1,X,N,T,ce),X.join("")};return this.__bidiEngine__.doBidiReorder=function(w,N,T){if(function(ce,me){if(me)for(var ye=0;ye<ce.length;ye++)me[ye]=ye;a===void 0&&(a=Z(ce)),u===void 0&&(u=Z(ce))}(w,N),o||!l||u)if(o&&l&&a^u)R=a?1:0,w=M(w,N,T);else if(!o&&l&&u)R=a?1:0,w=D(w,N,T),w=M(w,N);else if(!o||a||l||u){if(o&&!l&&a^u)w=M(w,N),a?(R=0,w=D(w,N,T)):(R=1,w=D(w,N,T),w=M(w,N));else if(o&&a&&!l&&u)R=1,w=D(w,N,T),w=M(w,N);else if(!o&&!l&&a^u){var X=d;a?(R=1,w=D(w,N,T),R=0,d=!1,w=D(w,N,T),d=X):(R=0,w=D(w,N,T),w=M(w,N),R=1,d=!1,w=D(w,N,T),d=X,w=M(w,N))}}else R=0,w=D(w,N,T);else R=a?1:0,w=D(w,N,T);return w},this.__bidiEngine__.setOptions=function(w){w&&(o=w.isInputVisual,l=w.isOutputVisual,a=w.isInputRtl,u=w.isOutputRtl,d=w.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new xV(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lV(this.contents),this.head=new cV(this),this.name=new mV(this),this.cmap=new SI(this),this.toUnicode={},this.hhea=new hV(this),this.maxp=new gV(this),this.hmtx=new yV(this),this.post=new dV(this),this.os2=new fV(this),this.loca=new bV(this),this.glyf=new vV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var so,Cl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),lV=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,d,g,v,p,k,E;for(E in p=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(p)/l),o=Math.floor(g/l),d=16*p-g,(i=new Cl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(g),i.writeShort(o),i.writeShort(d),s=16*p,u=i.pos+s,a=null,k=[],n)for(v=n[E],i.writeString(E),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),k=k.concat(v),E==="head"&&(a=u),u+=v.length;u%4;)k.push(0),u++;return i.write(k),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=EI.call(n);n.length%4;)n.push(0);for(s=new Cl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),uV={}.hasOwnProperty,Bo=function(t,e){for(var n in e)uV.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};so=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var cV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Cl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),o3=function(){function t(e,n){var r,i,s,o,a,l,u,d,g,v,p,k,E,B,x,P,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),v=p/2,e.pos+=6,s=function(){var U,Z;for(Z=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)Z.push(e.readUInt16());return Z}(),e.pos+=2,E=function(){var U,Z;for(Z=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)Z.push(e.readUInt16());return Z}(),u=function(){var U,Z;for(Z=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)Z.push(e.readUInt16());return Z}(),d=function(){var U,Z;for(Z=[],l=U=0;0<=v?U<v:U>v;l=0<=v?++U:--U)Z.push(e.readUInt16());return Z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var U,Z;for(Z=[],l=U=0;0<=i?U<i:U>i;l=0<=i?++U:--U)Z.push(e.readUInt16());return Z}(),l=x=0,R=s.length;x<R;l=++x)for(B=s[l],r=P=k=E[l];k<=B?P<=B:P>=B;r=k<=B?++P:--P)d[l]===0?o=r+u[l]:(o=a[d[l]/2+(r-k)-(v-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=g}return t.encode=function(e,n){var r,i,s,o,a,l,u,d,g,v,p,k,E,B,x,P,R,U,Z,ie,M,I,S,D,w,N,T,X,ce,me,ye,J,le,we,_e,F,W,Q,te,re,oe,ge,ve,Ie,Le,Be;switch(X=new Cl,o=Object.keys(e).sort(function(je,ot){return je-ot}),n){case"macroman":for(E=0,B=function(){var je=[];for(k=0;k<256;++k)je.push(0);return je}(),P={0:0},s={},ce=0,le=o.length;ce<le;ce++)P[ve=e[i=o[ce]]]==null&&(P[ve]=++E),s[i]={old:e[i],new:P[e[i]]},B[i]=P[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(B),{charMap:s,subtable:X.data,maxGlyphID:E+1};case"unicode":for(N=[],g=[],R=0,P={},r={},x=u=null,me=0,we=o.length;me<we;me++)P[Z=e[i=o[me]]]==null&&(P[Z]=++R),r[i]={old:Z,new:P[Z]},a=P[Z]-i,x!=null&&a===u||(x&&g.push(x),N.push(i),u=a),x=i;for(x&&g.push(x),g.push(65535),N.push(65535),D=2*(S=N.length),I=2*Math.pow(Math.log(S)/Math.LN2,2),v=Math.log(I/2)/Math.LN2,M=2*S-I,l=[],ie=[],p=[],k=ye=0,_e=N.length;ye<_e;k=++ye){if(w=N[k],d=g[k],w===65535){l.push(0),ie.push(0);break}if(w-(T=r[w].new)>=32768)for(l.push(0),ie.push(2*(p.length+S-k)),i=J=w;w<=d?J<=d:J>=d;i=w<=d?++J:--J)p.push(r[i].new);else l.push(T-w),ie.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*S+2*p.length),X.writeUInt16(0),X.writeUInt16(D),X.writeUInt16(I),X.writeUInt16(v),X.writeUInt16(M),oe=0,F=g.length;oe<F;oe++)i=g[oe],X.writeUInt16(i);for(X.writeUInt16(0),ge=0,W=N.length;ge<W;ge++)i=N[ge],X.writeUInt16(i);for(Ie=0,Q=l.length;Ie<Q;Ie++)a=l[Ie],X.writeUInt16(a);for(Le=0,te=ie.length;Le<te;Le++)U=ie[Le],X.writeUInt16(U);for(Be=0,re=p.length;Be<re;Be++)E=p[Be],X.writeUInt16(E);return{charMap:r,subtable:X.data,maxGlyphID:R+1}}},t}(),SI=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new o3(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=o3.encode(e,n),(i=new Cl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),hV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),fV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),dV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),pV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,d,g,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=d=0,g=r.length;d<g;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new pV(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),gV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),yV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,g,v;for(v=[],u=0,d=(g=this.metrics).length;u<d;u++)s=g[u],v.push(s.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),EI=[].slice,vV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,d,g;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Cl(n.read(i))).readShort(),u=a.readShort(),g=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[e]=o===-1?new wV(a,u,g,l,d):new _V(a,o,u,g,l,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),_V=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),wV=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cl(EI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),bV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bo(t,so),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),xV=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,d,g,v,p,k,E,B,x;for(i in r=SI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},x=r.charMap)p[(l=x[i]).old]=l.new;for(k in v=r.maxGlyphID,o)k in p||(p[k]=v++);return d=function(P){var R,U;for(R in U={},P)U[P[R]]=R;return U}(p),g=Object.keys(d).sort(function(P,R){return P-R}),E=function(){var P,R,U;for(U=[],P=0,R=g.length;P<R;P++)a=g[P],U.push(d[a]);return U}(),s=this.font.glyf.encode(o,E,p),u=this.font.loca.encode(s.offsets,E),B={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const Hn={baseFare:50,waitingRate:3,distanceRates:[{min:0,max:3.99,price:50},{min:4,max:4.99,price:55},{min:5,max:5.99,price:60},{min:6,max:6.99,price:65},{min:7,max:7.99,price:70},{min:8,max:1/0,basePrice:80,extraRate:16}],paradaRapida:20,paradaServicio:50},pp=[{id:"normal",name:"Viaje Normal",description:"Tarifa por distancia recorrida"},{id:"walmart",name:"Ruta Walmart",description:"Centro  Walmart Guzmn",distanceKm:5.2,fixedPrice:60},{id:"tecnologico",name:"Ruta Tecnolgico",description:"Centro  Tec. Guzmn",distanceKm:5.9,fixedPrice:70},{id:"cristoRey",name:"Ruta Cristo Rey",description:"Centro  Cerro Cristo Rey",subTrips:[{id:"cristoRey-cano",name:"Cao",fixedPrice:60},{id:"cristoRey-mitad",name:"Mitad",fixedPrice:70},{id:"cristoRey-arriba",name:"Arriba",fixedPrice:80}]},{id:"colmena",name:"La Colmena",description:"Precio base $120",fixedPrice:120}],AV=(t,e)=>{const r=6356752314245e-6,i=1/298.257223563,s=t.latitude*Math.PI/180,o=e.latitude*Math.PI/180,l=(e.longitude-t.longitude)*Math.PI/180,u=Math.atan((1-i)*Math.tan(s)),d=Math.atan((1-i)*Math.tan(o)),g=Math.sin(u),v=Math.cos(u),p=Math.sin(d),k=Math.cos(d);let E=l,B,x=100,P,R,U,Z,ie;do{const T=Math.sin(E),X=Math.cos(E);if(R=Math.sqrt(k*T*(k*T)+(v*p-g*k*X)*(v*p-g*k*X)),R===0)return 0;Z=g*p+v*k*X,ie=Math.atan2(R,Z);const ce=v*k*T/R;P=1-ce*ce,U=Z-2*g*p/P,isNaN(U)&&(U=0);const me=i/16*P*(4+i*(4-3*P));B=E,E=l+(1-me)*i*ce*(ie+me*R*(U+me*Z*(-1+2*U*U)))}while(Math.abs(E-B)>1e-12&&--x>0);if(x===0){const X=(e.latitude-t.latitude)*Math.PI/180,ce=(e.longitude-t.longitude)*Math.PI/180,me=Math.sin(X/2)*Math.sin(X/2)+Math.cos(t.latitude*Math.PI/180)*Math.cos(e.latitude*Math.PI/180)*Math.sin(ce/2)*Math.sin(ce/2);return 6371e3*(2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me)))}const M=P*(6378137*6378137-r*r)/(r*r),I=1+M/16384*(4096+M*(-768+M*(320-175*M))),S=M/1024*(256+M*(-128+M*(74-47*M))),D=S*R*(U+S/4*(Z*(-1+2*U*U)-S/6*U*(-3+4*R*R)*(-3+4*U*U)));return r*I*(ie-D)*1.15};function SV({isAdmin:t=!1}){const[e,n]=$e.useState({distance:0,cost:Hn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1,rawDistance:0}),[r,i]=$e.useState(null),[s,o]=$e.useState(null),[a,l]=$e.useState("requesting"),[u,d]=$e.useState(pp[0]),[g,v]=$e.useState(null);$e.useState(!1),$e.useState(!1);const[p,k]=$e.useState(!1),[E,B]=$e.useState(null),[x,P]=$e.useState(!1);$e.useState(""),$e.useState(!1);const[R,U]=$e.useState(0),[Z,ie]=$e.useState(!1),[M,I]=$e.useState(!1),[S,D]=$e.useState(!1),[w,N]=$e.useState({active:!1,withCage:null,cost:0}),[T,X]=$e.useState(!1),[ce,me]=$e.useState({active:!1,type:"recoger",cost:0});$e.useState(!1);const[ye,J]=$e.useState(0),[le,we]=$e.useState(0),[_e,F]=$e.useState(!1),[W,Q]=$e.useState({active:!1,ninos:0,adultos:0,cost:0}),[te,re]=$e.useState(!1),[oe,ge]=$e.useState(!1),[ve,Ie]=$e.useState(null),[Le,Be]=$e.useState(!1),je=$e.useRef(null),[ot,H]=$e.useState(!1),[Ve,bt]=$e.useState(!1),[at,Ee]=$e.useState(0),[He,ze]=$e.useState(!1),[ft,rt]=$e.useState(!1),[Yt,Nt]=$e.useState(""),[wt,Lt]=$e.useState([]),[jt,Ze]=$e.useState([]),[Tt,We]=$e.useState(!1),[En,Ot]=$e.useState(!1),[dt,Pt]=$e.useState(null),[Jt,et]=$e.useState(!1),[tn,pt]=$e.useState(!1),[gt,sn]=$e.useState(!1),lt=$e.useRef(!1),tt=$e.useRef(null),Mt=$e.useRef(null),Nr=$e.useRef(null),hr=be=>g&&be.id==="cristoRey"?g.fixedPrice:be.fixedPrice||Hn.baseFare,Pi=(be,Re=!1)=>{we(ct=>ct+1),J(ct=>ct+be),Re&&(n(ct=>({...ct,distance:0,rawDistance:0})),tt.current=null),re(!1)},wn=$e.useCallback((be,Re,ct=!1,St=ye)=>{const Fe=w.active?w.cost:0,Bt=W.active?W.cost:0;if(ct&&ve)return St+70+Re*Hn.waitingRate+Fe+Bt;if(u.id==="colmena"){let Mn=120;if(be>4.9){const Pr=be-4.9;Mn=120+Math.ceil(Pr)*10}return St+Mn+Re*Hn.waitingRate+Fe+Bt}const on=(u.id!=="normal"||ct&&!ve)&&be>=3.7?5:0;let Xe;ce.active?Xe=ce.cost:u.id==="cristoRey"&&g?Xe=g.fixedPrice:Xe=u.fixedPrice||Hn.baseFare;let On=Xe;if(u.id!=="normal"){if(be>5){const Mn=be-5;On+=Mn*10}}else for(const Mn of Hn.distanceRates)if(be>=Mn.min&&be<=Mn.max){if(Mn.extraRate&&be>8){const Pr=be-8;On=Mn.basePrice-Hn.baseFare+Xe+Pr*Mn.extraRate}else{const Pr=Mn.price-Hn.baseFare;On=Xe+Pr}break}return St+On+Re*Hn.waitingRate+Fe+Bt+on},[u,g,w,ce,W,ye,ve]),yt=be=>{const Re=Math.floor(be/60),ct=be%60;return`${Re}:${ct.toString().padStart(2,"0")}`},Wi=$e.useCallback(be=>{if(i(be),l("available"),lt.current&&!e.isPaused)if(tt.current){const Re=AV(tt.current,be);if(Re>15){const St=Re/1e3;n(Fe=>{const Bt=Fe.rawDistance+St,Xe=Math.floor(Bt)*.125,On=Math.max(0,Bt-Xe),Mn=Math.floor(Fe.waitingTime/60);return{...Fe,rawDistance:Bt,distance:On,cost:wn(On,Mn,oe)}}),tt.current=be}}else tt.current=be},[wn,e.isPaused,oe]);$e.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(be=>{const Re={latitude:be.coords.latitude,longitude:be.coords.longitude,timestamp:Date.now()};i(Re),tt.current=Re,l("available")},be=>{be.code===be.PERMISSION_DENIED?l("denied"):l("unavailable")},{enableHighAccuracy:!0}):l("unavailable")},[]);const Xr=()=>{Mt.current=Date.now(),Nr.current=setInterval(()=>{if(Mt.current){const be=Math.floor((Date.now()-Mt.current)/1e3),Re=R+be;n(ct=>({...ct,waitingTime:Re}))}},1e3)},Tr=()=>{if(Nr.current&&(clearInterval(Nr.current),Nr.current=null),Mt.current){const be=Math.floor((Date.now()-Mt.current)/1e3);U(Re=>Re+be)}Mt.current=null},Fr=()=>{if(r){lt.current=!0,tt.current=null,U(0),n(Re=>({...Re,distance:0,rawDistance:0,waitingTime:0,isRunning:!0,isPaused:!1}));const be=navigator.geolocation.watchPosition(Re=>{const ct={latitude:Re.coords.latitude,longitude:Re.coords.longitude,timestamp:Date.now()};Wi(ct)},Re=>console.error("GPS Error:",Re),{enableHighAccuracy:!0,maximumAge:500,timeout:1e4});o(be)}},yn=()=>{n(be=>{const Re=!be.isPaused;return Re?Xr():Tr(),{...be,isPaused:Re}})},In=()=>{s&&(navigator.geolocation.clearWatch(s),o(null)),Tr();const be={tripType:u.name,distance:e.distance,waitingTime:e.waitingTime,cost:e.cost,timestamp:new Date().toLocaleString(),isSorianaActive:oe,petConfig:{...w},servicioEspecialConfig:{...ce},personasExtrasConfig:{...W},numeroParadas:le,costoParadas:ye};B(be),k(!0),lt.current=!1,U(0);const Re=pp[0];d(Re),v(null),n({distance:0,rawDistance:0,cost:Hn.baseFare,waitingTime:0,isRunning:!1,isPaused:!1}),I(!1),N({active:!1,withCage:null,cost:0}),me({active:!1,type:null,cost:0}),Q({active:!1,ninos:0,adultos:0,cost:0}),ge(!1),Ie(null),J(0),we(0),tt.current=r},tr=()=>{Le?(je.current&&(clearInterval(je.current),je.current=null),Be(!1)):(Be(!0),je.current=setInterval(()=>{n(be=>{const Re=be.distance+.1,ct=Math.floor(be.waitingTime/60);return{...be,distance:Re,rawDistance:Re,cost:wn(Re,ct,oe)}})},1e3))};$e.useEffect(()=>()=>{je.current&&clearInterval(je.current)},[]),$e.useEffect(()=>{if(!e.isRunning){const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:wn(Re.distance,be,oe)}))}},[u,g,e.isRunning,wn,oe,e.distance,e.waitingTime]),$e.useEffect(()=>{if(e.isRunning){const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:wn(Re.distance,be,oe)}))}},[wn,e.waitingTime,e.isRunning,oe]),$e.useEffect(()=>{if(W.active||e.isRunning||w.active||ce.active||oe||ye>0){const be=Math.floor(e.waitingTime/60);n(Re=>({...Re,cost:wn(Re.distance,be,oe)}))}},[wn,W,w,ce,oe,ye,e.isRunning,e.distance,e.waitingTime]),$e.useEffect(()=>{(async()=>{try{const Re=as.currentUser;if(Re){const ct=new Date().toISOString().split("T")[0],St=So(ra,"gananciasDiarias",`${Re.uid}_${ct}`),Fe=await A2(St);if(Fe.exists()){const Bt=Fe.data();Ee(Bt.totalGanancias||0)}}}catch(Re){console.error("Error al cargar ganancias del da:",Re)}})()},[]),$e.useEffect(()=>{(async()=>{try{const Re=as.currentUser;if(Re){const ct=So(ra,"usuarios",Re.uid),St=await A2(ct);if(St.exists()){const Fe=St.data();Pt({email:Fe.email||"",nombre:Fe.nombre||"",telefono:Fe.telefono||"",idZello:Fe.idZello||""})}}}catch(Re){console.error("Error al cargar datos del usuario:",Re)}})()},[]);const kr=()=>{const be=[],Re=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],ct=new Date;for(let St=0;St<12;St++){const Fe=new Date(ct.getFullYear(),ct.getMonth()-St,1),Bt=`${Re[Fe.getMonth()]}_${Fe.getFullYear()}`;be.push(Bt)}return be},Gi=async be=>{try{const Re=as.currentUser;if(Re&&be){const ct=So(ra,"bitacora_ganancias",Re.uid),St=Pm(ct,be),Fe=Cb(St,Lb("dia","asc")),Bt=await Ob(Fe),on=[];Bt.forEach(Xe=>{const On=Xe.data();on.push({dia:On.dia,ganancia:On.ganancia||0})}),Lt(on)}}catch(Re){console.error("Error al cargar datos mensuales:",Re),Lt([])}},Jr=async()=>{try{sn(!0);const be=as.currentUser;if(!be){alert("Usuario no autenticado");return}const Re=new Date,ct=[];for(let ln=0;ln<3;ln++){const hn=new Date(Re.getFullYear(),Re.getMonth()-ln,1),zt=hn.toLocaleString("es-MX",{month:"long",year:"numeric"}).toUpperCase(),ei=`${hn.getFullYear()}_${String(hn.getMonth()+1).padStart(2,"0")}`;ct.push(ei)}const St=[];for(const ln of ct)try{const hn=So(ra,"bitacora_ganancias",be.uid),zt=Pm(hn,ln),ei=Cb(zt,Lb("dia","asc")),dr=await Ob(ei),_n=[];let Li=0;dr.forEach(Ol=>{const $o=Ol.data();_n.push({dia:$o.dia,ganancia:$o.ganancia||0}),Li+=$o.ganancia||0});const qo=new Date(ln.split("_")[0],parseInt(ln.split("_")[1])-1).toLocaleString("es-MX",{month:"long",year:"numeric"});St.push({month:qo,days:_n,total:Li})}catch(hn){console.error(`Error al cargar datos de ${ln}:`,hn)}const Fe=new ht,Bt=Fe.internal.pageSize.getHeight(),on=Fe.internal.pageSize.getWidth();let Xe=20;const On=new Date,Mn="Ciudad Guzmn, Jalisco",Pr=On.toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"});Fe.setTextColor(0,0,0),Fe.setFontSize(11),Fe.text(`${Mn} a ${Pr}`,20,Xe),Xe+=15,Fe.setFontSize(11),Fe.setFont(void 0,"bold"),Fe.text("PRESENTE",20,Xe),Xe+=15,Fe.setFont(void 0,"normal"),Fe.setFontSize(10);const zn=Fe.splitTextToSize("SpeedCabsZapotlan S.A.S de C.V., a travs de su Director General, Ernesto Ruiz Arellano, hace constar lo siguiente:",on-40);Fe.text(zn,20,Xe),Xe+=zn.length*5+10;const Ki=(dt==null?void 0:dt.nombre)||"N/A",gs=`${Ki}, con correo electrnico ${be.email}${dt!=null&&dt.telefono?" y telfono "+dt.telefono:""}, trabaja actualmente en esta compaa ocupando el puesto de Conductor de Taxi. ${Ki} ha prestado sus servicios a esta empresa.`,oo=Fe.splitTextToSize(gs,on-40);Fe.text(oo,20,Xe),Xe+=oo.length*5+10;const ao=St.reduce((ln,hn)=>ln+hn.total,0),zo=ao/3;Fe.setFont(void 0,"bold"),Fe.setFontSize(11),Fe.text("RESUMEN DE INGRESOS NETOS",20,Xe),Xe+=10,Fe.setFont(void 0,"normal"),Fe.setFontSize(10),St.forEach(ln=>{const hn=ln.month.charAt(0).toUpperCase()+ln.month.slice(1);Fe.text(`- ${hn}: $${ln.total.toFixed(2)} MXN`,30,Xe),Xe+=7}),Xe+=5,Fe.setFont(void 0,"bold");const Ci=`Ingreso Promedio Mensual: $${zo.toFixed(2)} MXN`;Fe.text(Ci,20,Xe),Xe+=7;const Vr=`Total 3 Meses: $${ao.toFixed(2)} MXN`;Fe.text(Vr,20,Xe),Xe+=15,Fe.setFont(void 0,"normal"),Fe.text("Se extiende la presente constancia para los fines que al interesado convengan.",20,Xe),Xe+=20,Fe.text("Atentamente,",20,Xe),Xe+=20,Fe.setFont(void 0,"bold"),Fe.text("Ernesto Ruiz Arellano",20,Xe),Xe+=5,Fe.setFont(void 0,"normal"),Fe.text("Director General",20,Xe),Xe+=5,Fe.text("SpeedCabsZapotlan S.A.S de C.V.",20,Xe),Fe.addPage(),Xe=20,Fe.setFont(void 0,"bold"),Fe.setFontSize(12),Fe.text("DETALLE DE GANANCIAS POR MES Y DA",20,Xe),Xe+=15,Fe.setFont(void 0,"normal"),Fe.setFontSize(9),St.forEach(ln=>{Xe>Bt-40&&(Fe.addPage(),Xe=20),Fe.setFont(void 0,"bold"),Fe.setFontSize(10);const hn=ln.month.charAt(0).toUpperCase()+ln.month.slice(1);Fe.text(hn,20,Xe),Xe+=8,Fe.setFont(void 0,"normal"),Fe.setFontSize(9);const zt=ln.days.map(ei=>[`${ei.dia}`,`$${ei.ganancia.toFixed(2)}`]);Fe.autoTable({head:[["Da","Ganancia (MXN)"]],body:zt,startY:Xe,styles:{fontSize:8},headStyles:{fillColor:[31,41,55],textColor:255},margin:{left:20,right:20}}),Xe=Fe.lastAutoTable.finalY+10,Fe.setFont(void 0,"bold"),Fe.setFontSize(9),Fe.text(`Total ${hn}: $${ln.total.toFixed(2)} MXN`,20,Xe),Xe+=10});const vn=`Comprobante_Ingresos_${be.uid}_${new Date().toISOString().split("T")[0]}.pdf`;Fe.save(vn),pt(!1),et(!1),sn(!1),alert("Comprobante de ingresos generado exitosamente")}catch(be){console.error("Error al generar comprobante:",be),alert("Error al generar el comprobante"),sn(!1)}},_r=(be,Re)=>{Q(ct=>{const St=Math.max(0,ct[be]+Re),Fe=be==="adultos"?St:ct.adultos,Bt=be==="ninos"?St:ct.ninos,on=Fe*20+Bt*10;return{active:Fe>0||Bt>0,adultos:Fe,ninos:Bt,cost:on}})},jr=()=>e.isRunning?e.isPaused?"bg-yellow-400":"bg-green-500":a==="available"?"bg-blue-400":"bg-red-500",Zr=()=>{if(e.isRunning)return e.isPaused?"EN PAUSA - ESPERANDO":"VIAJE EN CURSO";switch(a){case"available":return"GPS DISPONIBLE";case"requesting":return"BUSCANDO SEAL GPS...";case"denied":return"ACCESO GPS DENEGADO";case"unavailable":return"GPS NO DISPONIBLE";default:return"ESTADO DESCONOCIDO"}};return O.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 font-sans text-white",children:[O.jsxs("button",{onClick:()=>ze(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-green-600 hover:bg-green-500 text-white rounded-full shadow-lg flex items-center justify-center font-bold text-lg transition duration-200 z-40 border-2 border-green-400",children:["$",at.toFixed(0)]}),O.jsx("button",{onClick:()=>We(!0),className:"fixed bottom-24 right-6 w-16 h-16 bg-blue-700 hover:bg-blue-600 text-white rounded-full shadow-lg flex items-center justify-center transition duration-200 z-40 border-2 border-blue-500",children:O.jsx(Xd,{className:"w-8 h-8"})}),t&&O.jsx("button",{onClick:()=>bt(!0),className:"fixed bottom-42 right-6 w-16 h-16 bg-gray-700 hover:bg-gray-600 text-white rounded-full shadow-lg flex items-center justify-center transition duration-200 z-40 border-2 border-red-500",title:"Panel de Administracin",children:O.jsx(Q_,{className:"w-8 h-8"})}),O.jsxs("div",{className:"max-w-md mx-auto",children:[He&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-green-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ganancias del Da"}),O.jsx("button",{onClick:()=>ze(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),O.jsxs("div",{className:"bg-gray-700 border border-green-500/50 p-6 rounded-lg mb-6 text-center",children:[O.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"Total Acumulado"}),O.jsxs("p",{className:"text-5xl font-extrabold text-green-400",children:["$",at.toFixed(0),O.jsx("span",{className:"text-lg text-gray-400 ml-2",children:"MXN"})]})]}),O.jsx("button",{onClick:async()=>{try{const be=as.currentUser;if(be&&at>0){const Re=new Date,St=`${["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][Re.getMonth()]}_${Re.getFullYear()}`,Fe=So(ra,"bitacora_ganancias",be.uid),Bt=Pm(Fe,St);await gO(Bt,{dia:Re.getDate(),fecha_cierre:Tc(),ganancia:at});const on=new Date().toISOString().split("T")[0],Xe=So(ra,"gananciasDiarias",`${be.uid}_${on}`);await D0(Xe,{userId:be.uid,fecha:on,totalGanancias:0,ultimaActualizacion:Tc()},{merge:!0})}Ee(0),ze(!1)}catch(be){console.error("Error al guardar bitcora:",be)}},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-2 rounded-xl transition duration-200 mb-2",children:"Terminar Da"}),O.jsx("button",{onClick:()=>ze(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cerrar"})]})}),ft&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-2",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 w-full h-full shadow-2xl flex flex-col overflow-hidden",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsx("h2",{className:"text-3xl font-bold text-white",children:"Ganancias Mensuales"}),O.jsx("button",{onClick:()=>{rt(!1),Nt(""),Lt([])},className:"text-gray-400 hover:text-white text-4xl",children:""})]}),O.jsxs("div",{className:"mb-6",children:[O.jsx("label",{className:"block text-gray-300 text-lg mb-2",children:"Selecciona el mes:"}),O.jsxs("select",{value:Yt,onChange:be=>{Nt(be.target.value),be.target.value?Gi(be.target.value):Lt([])},className:"w-full bg-gray-700 text-white p-4 rounded-lg border border-gray-600 text-lg",children:[O.jsx("option",{value:"",children:"-- Selecciona un mes --"}),jt.map(be=>O.jsx("option",{value:be,children:be.replace("_"," ").toUpperCase()},be))]})]}),Yt&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"bg-gray-700 border border-blue-500/50 p-6 rounded-lg mb-6",children:[O.jsx("p",{className:"text-gray-300 text-xl mb-2 text-center",children:"Total del Mes"}),O.jsxs("p",{className:"text-6xl font-extrabold text-blue-400 text-center",children:["$",wt.reduce((be,Re)=>be+Re.ganancia,0).toFixed(0),O.jsx("span",{className:"text-2xl text-gray-400 ml-2",children:"MXN"})]})]}),O.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 flex-1 overflow-hidden flex flex-col",children:[O.jsx("h3",{className:"text-white font-bold mb-4 text-center text-2xl",children:"Ganancias por Da"}),wt.length>0?O.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:O.jsx("div",{className:"grid grid-cols-3 gap-4",children:wt.map((be,Re)=>O.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-600 hover:border-blue-500 transition text-center",children:[O.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-2",children:O.jsx("span",{className:"text-white font-bold text-lg",children:be.dia})}),O.jsxs("span",{className:"text-green-400 font-bold text-xl block",children:["$",be.ganancia.toFixed(0)]})]},Re))})}):O.jsx("p",{className:"text-gray-400 text-center text-xs py-2",children:"No hay datos para este mes"})]})]}),O.jsx("button",{onClick:()=>{rt(!1),Nt(""),Lt([])},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-4 rounded-xl transition duration-200 mt-6 text-xl",children:"Cerrar"})]})}),Tt&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Xd,{className:"w-6 h-6 text-blue-500 mr-2"}),O.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel de Usuario"})]}),O.jsx("button",{onClick:()=>We(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),O.jsx("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Opciones de usuario"}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{onClick:()=>{We(!1),Ot(!0)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:O.jsxs("div",{className:"flex items-center justify-center",children:[O.jsx(Xd,{className:"w-5 h-5 mr-2"}),"Ver Perfil"]})}),O.jsx("button",{onClick:()=>{We(!1),Ze(kr()),rt(!0)},className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:O.jsxs("div",{className:"flex items-center justify-center",children:[O.jsx(Uk,{className:"w-5 h-5 mr-2"}),"Ganancias Mensuales"]})}),O.jsx("button",{onClick:()=>{We(!1),et(!0)},className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:O.jsxs("div",{className:"flex items-center justify-center",children:[O.jsx(H_,{className:"w-5 h-5 mr-2"}),"Comprobante de Ingresos"]})}),O.jsx("button",{onClick:async()=>{try{await KL(as),We(!1)}catch(be){console.error("Error al cerrar sesin:",be)}},className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:O.jsxs("div",{className:"flex items-center justify-center",children:[O.jsx(Wk,{className:"w-5 h-5 mr-2"}),"Salir"]})})]}),O.jsx("button",{onClick:()=>We(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-4",children:"Cerrar"})]})}),Jt&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(H_,{className:"w-6 h-6 text-purple-500 mr-2"}),O.jsx("h2",{className:"text-2xl font-bold text-white",children:"Comprobante de Ingresos"})]}),O.jsx("button",{onClick:()=>et(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),O.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Se generar un comprobante de ingresos de los ltimos 3 meses"}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{onClick:()=>pt(!0),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Aceptar"}),O.jsx("button",{onClick:()=>et(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cancelar"})]})]})}),tn&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-purple-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Generando Comprobante"}),O.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Se descargar un documento PDF con tu comprobante de ingresos de los ltimos 3 meses"}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{onClick:Jr,disabled:gt,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${gt?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:gt?"Generando...":"Confirmar y Descargar"}),O.jsx("button",{onClick:()=>{pt(!1),et(!1)},disabled:gt,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${gt?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-500 text-white"}`,children:"Cancelar"})]})]})}),En&&dt&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Xd,{className:"w-6 h-6 text-blue-500 mr-2"}),O.jsx("h2",{className:"text-2xl font-bold text-white",children:"Mi Perfil"})]}),O.jsx("button",{onClick:()=>Ot(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[O.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Nombre"}),O.jsx("p",{className:"text-white font-semibold text-lg",children:dt.nombre})]}),O.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[O.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Email"}),O.jsx("p",{className:"text-white font-semibold text-sm",children:dt.email})]}),O.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[O.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Telfono"}),O.jsx("p",{className:"text-white font-semibold text-lg",children:dt.telefono})]}),O.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[O.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"ID Zello"}),O.jsx("p",{className:"text-white font-semibold text-lg",children:dt.idZello})]})]}),O.jsx("button",{onClick:()=>Ot(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-6",children:"Cerrar"})]})}),Ve&&t&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-red-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Q_,{className:"w-6 h-6 text-red-500 mr-2"}),O.jsx("h2",{className:"text-2xl font-bold text-white",children:"Panel Admin"})]}),O.jsx("button",{onClick:()=>bt(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),O.jsx("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Funciones administrativas del sistema"}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{onClick:()=>{tr(),bt(!1)},className:`w-full font-bold py-3 rounded-xl transition duration-200 text-sm ${Le?"bg-green-600 hover:bg-green-500":"bg-yellow-600 hover:bg-yellow-500"} text-white`,children:O.jsxs("div",{className:"flex items-center justify-center",children:[O.jsx(Jk,{className:"w-5 h-5 mr-2"}),Le?"Detener Simulacin":"Iniciar Simulacin"]})}),O.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Bk,{className:"w-5 h-5 text-blue-400 mr-2"}),O.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Tipo de Ruta:"})]}),O.jsx("span",{className:"text-sm font-bold text-white",children:u.name})]})}),O.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Kk,{className:"w-5 h-5 text-blue-400 mr-2"}),O.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Zona Especial ($70)"})]}),O.jsx("button",{onClick:()=>ge(!oe),className:`px-4 py-1.5 rounded-full text-xs font-semibold transition ${oe?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:oe?"Activo":"Inactivo"})]})}),O.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Ver estadsticas generales"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Ver Estadsticas"}),O.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Ver todos los viajes"),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Ver Todos los Viajes"}),O.jsx("button",{onClick:()=>alert("Funcionalidad en desarrollo: Configuracin avanzada"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 rounded-xl transition duration-200 text-sm",children:"Configuracin Avanzada"})]}),O.jsx("button",{onClick:()=>bt(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200 mt-4",children:"Cerrar"})]})}),ot&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsx("h2",{className:"text-2xl font-bold text-white",children:"Precios Forneos"}),O.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white text-2xl",children:""})]}),O.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"Consulta los precios para viajes forneos"}),O.jsx("a",{href:"https://precios.speedcabszapotlan.com",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 shadow-lg block text-center mb-3",children:"Abrir Precios Forneos"}),O.jsx("button",{onClick:()=>H(!1),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 rounded-xl transition duration-200",children:"Cerrar"})]})}),p&&E&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:O.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500 rounded-xl p-6 max-w-sm w-full shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-center mb-4",children:[O.jsx(W_,{className:"w-8 h-8 text-blue-400 mr-2"}),O.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:"Resumen del Viaje"})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("div",{className:"bg-gray-700 border border-gray-600 p-3 rounded-lg",children:O.jsx("div",{className:"text-center",children:O.jsx("span",{className:"text-blue-400 font-bold text-lg",children:E.tripType})})}),O.jsxs("div",{className:"bg-gray-700 border border-gray-600 p-4 rounded-lg",children:[O.jsxs("div",{className:"flex justify-between items-center mb-2",children:[O.jsx("span",{className:"text-gray-300",children:"Distancia recorrida:"}),O.jsxs("span",{className:"font-bold text-lg text-blue-400",children:[E.distance.toFixed(3)," km"]})]}),O.jsxs("div",{className:"flex justify-between items-center mb-2",children:[O.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),O.jsx("span",{className:"font-bold text-lg text-blue-400",children:yt(E.waitingTime)})]}),O.jsx("div",{className:"border-t border-gray-600 pt-3 mt-3",children:O.jsxs("div",{className:"space-y-2 mb-2",children:[(()=>{var On,Mn,Pr,fr;const Re=Math.floor(E.waitingTime/60)*Hn.waitingRate,ct=E.petConfig.active?E.petConfig.cost:0,St=E.personasExtrasConfig.active?E.personasExtrasConfig.cost:0;if(E.isSorianaActive&&Math.abs(E.cost-(70+E.costoParadas+Re+ct+St))<1)return O.jsxs(O.Fragment,{children:[E.numeroParadas>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm bg-blue-900/30 p-2 rounded",children:[O.jsxs("span",{className:"text-blue-300",children:["Paradas (",E.numeroParadas,"):"]}),O.jsxs("span",{className:"text-white font-semibold",children:["$",E.costoParadas," MXN"]})]}),O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Zona especial (tarifa fija):"}),O.jsx("span",{className:"text-white font-semibold",children:"$70 MXN"})]}),Re>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",Re.toFixed(0)," MXN"]})]}),ct>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Mascota:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",ct," MXN"]})]}),St>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Pasajeros adicionales:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",St," MXN"]})]})]});let Bt;E.servicioEspecialConfig.active?Bt=E.servicioEspecialConfig.cost:E.tripType.includes("Cristo Rey")?Bt=((Pr=(Mn=(On=pp.find(zn=>zn.name===E.tripType))==null?void 0:On.subTrips)==null?void 0:Mn.find(zn=>zn.name===E.tripType))==null?void 0:Pr.fixedPrice)||Hn.baseFare:Bt=((fr=pp.find(zn=>zn.name===E.tripType))==null?void 0:fr.fixedPrice)||Hn.baseFare;let on=0;if(E.tripType.includes("Colmena"))E.distance>4.9&&E.distance-4.9;else if(E.tripType!=="Viaje Normal")E.distance>5&&E.distance-5;else for(const zn of Hn.distanceRates)if(E.distance>=zn.min&&E.distance<=zn.max){if(zn.extraRate&&E.distance>8){const Ki=E.distance-8;zn.basePrice-Hn.baseFare+Bt+Ki*zn.extraRate}else zn.price-Hn.baseFare;break}(E.tripType!=="Viaje Normal"||E.isSorianaActive&&!E.costoParadas)&&E.distance>=3.7&&(on=5);const Xe=E.cost-E.costoParadas-Re-ct-St-on;return O.jsxs(O.Fragment,{children:[E.numeroParadas>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm bg-blue-900/30 p-2 rounded",children:[O.jsxs("span",{className:"text-blue-300",children:["Paradas (",E.numeroParadas,"):"]}),O.jsxs("span",{className:"text-white font-semibold",children:["$",E.costoParadas," MXN"]})]}),O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Tarifa de ruta:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",Xe.toFixed(2)," MXN"]})]}),Re>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Tiempo de espera:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",Re.toFixed(0)," MXN"]})]}),ct>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Mascota:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",ct," MXN"]})]}),St>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Pasajeros adicionales:"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",St," MXN"]})]}),on>0&&O.jsxs("div",{className:"flex justify-between items-center text-sm",children:[O.jsx("span",{className:"text-gray-300",children:"Cargo adicional (>3.7 km):"}),O.jsxs("span",{className:"text-white font-semibold",children:["$",on," MXN"]})]})]})})(),O.jsxs("div",{className:"flex justify-between items-center mt-3 border-t border-blue-500/50 pt-3",children:[O.jsx("span",{className:"text-xl text-white",children:"TOTAL:"}),O.jsxs("span",{className:"text-3xl font-extrabold text-blue-400",children:["$",E.cost.toFixed(0)]})]})]})})]}),O.jsx("button",{onClick:async()=>{const be=at+E.cost;Ee(be);try{const Re=as.currentUser;if(Re){const ct=new Date().toISOString().split("T")[0],St=So(ra,"gananciasDiarias",`${Re.uid}_${ct}`);await D0(St,{userId:Re.uid,fecha:ct,totalGanancias:be,ultimaActualizacion:Tc()},{merge:!0})}}catch(Re){console.error("Error al guardar ganancias:",Re)}k(!1)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 shadow-lg",children:"Cerrar"})]})]})}),O.jsxs("header",{className:"mb-6",children:[O.jsxs("h1",{className:"text-4xl font-extrabold text-white text-center mb-1 flex items-center justify-center",children:[O.jsx($k,{className:"w-8 h-8 text-blue-400 mr-2"}),"Recorrido GPS"]}),O.jsxs("div",{className:`text-center py-1.5 px-3 rounded-full text-sm font-semibold text-gray-900 ${jr()}`,children:[O.jsx(Gk,{className:"w-4 h-4 inline-block mr-1"}),Zr()]}),O.jsx("div",{className:"mt-3 text-center",children:O.jsx("button",{onClick:()=>H(!0),className:"inline-block bg-blue-600 hover:bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Foraneos"})})]}),O.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-2xl mb-6 border border-gray-700",children:[O.jsxs("div",{className:"flex justify-between items-end mb-4",children:[O.jsxs("div",{className:"text-left",children:[O.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase",children:"Distancia Recorrida"}),O.jsxs("p",{className:"text-4xl font-bold text-white leading-none",children:[e.distance.toFixed(3),O.jsx("span",{className:"text-lg font-normal text-gray-400 ml-1",children:"km"})]})]}),O.jsxs("div",{className:"text-right",children:[O.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase",children:"Tiempo de Espera"}),O.jsx("p",{className:"text-2xl font-bold text-white leading-none",children:yt(e.waitingTime)})]})]}),O.jsxs("div",{className:"text-center bg-black/50 p-3 rounded-xl border border-blue-500/50",children:[O.jsx("span",{className:"text-xs font-medium text-blue-400 uppercase block",children:"Tarifa Total"}),O.jsxs("p",{className:"text-6xl font-extrabold text-blue-400 mt-1",children:["$",Math.ceil(e.cost).toFixed(0),O.jsx("span",{className:"text-xl font-normal text-gray-400 ml-1",children:"MXN"})]}),O.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(Tarifa Base: $",hr(u).toFixed(2),")"]})]})]}),O.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:e.isRunning?O.jsxs(O.Fragment,{children:[O.jsxs("button",{onClick:yn,className:`flex flex-col items-center justify-center p-3 rounded-xl shadow-lg transition duration-200 ${e.isPaused?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:[e.isPaused?O.jsx(K_,{className:"w-6 h-6 text-white"}):O.jsx(Yk,{className:"w-6 h-6 text-white"}),O.jsx("span",{className:"text-xs mt-1 font-bold text-white",children:e.isPaused?"Reanudar":"Pausar"})]}),O.jsxs("button",{onClick:In,className:"col-span-2 flex flex-col items-center justify-center p-3 rounded-xl bg-red-600 hover:bg-red-500 text-white shadow-lg transition duration-200",children:[O.jsx(Xk,{className:"w-6 h-6"}),O.jsx("span",{className:"text-xs mt-1 font-bold",children:"Finalizar"})]})]}):O.jsx(O.Fragment,{children:O.jsxs("button",{onClick:Fr,className:`col-span-3 flex flex-col items-center justify-center p-3 rounded-xl shadow-lg transition duration-200 ${a==="available"?"bg-green-600 hover:bg-green-500 text-white":"bg-gray-600 text-gray-300 cursor-not-allowed"}`,disabled:a!=="available",children:[O.jsx(K_,{className:"w-8 h-8"}),O.jsx("span",{className:"text-md mt-1 font-bold",children:"INICIAR VIAJE"})]})})}),e.isRunning&&O.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700 relative",children:[O.jsxs("h3",{className:"text-lg font-bold text-white mb-2 flex items-center",children:[O.jsx(W_,{className:"w-5 h-5 text-blue-400 mr-2"}),"Paradas"]}),O.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[O.jsx("span",{className:"text-gray-300",children:"Nmero de paradas:"}),O.jsx("span",{className:"font-bold text-white",children:le})]}),O.jsxs("div",{className:"flex justify-between items-center text-sm mb-4",children:[O.jsx("span",{className:"text-gray-300",children:"Costo acumulado:"}),O.jsxs("span",{className:"font-bold text-blue-400",children:["$",ye.toFixed(0)," MXN"]})]}),O.jsx("button",{onClick:()=>re(!0),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-xl transition duration-200",disabled:te,children:"Aadir Parada"}),te&&O.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center p-4 rounded-xl z-10",children:O.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg w-full max-w-xs shadow-2xl border border-blue-500/50",children:[O.jsx("h4",{className:"text-lg font-bold text-white mb-3 text-center",children:"Tipo de Parada:"}),O.jsxs("div",{className:"space-y-3",children:[O.jsxs("button",{onClick:()=>Pi(Hn.paradaRapida),className:"w-full flex items-center justify-between p-3 rounded-lg bg-green-600 hover:bg-green-500 text-white font-bold transition duration-150",children:[O.jsx(qk,{className:"w-5 h-5"}),O.jsx("span",{className:"text-sm",children:"Parada Rpida"}),O.jsxs("span",{className:"text-lg font-extrabold",children:["+$",Hn.paradaRapida]})]}),O.jsxs("button",{onClick:()=>Pi(Hn.paradaServicio,!0),className:"w-full flex items-center justify-between p-3 rounded-lg bg-yellow-600 hover:bg-yellow-500 text-white font-bold transition duration-150",children:[O.jsx(Qk,{className:"w-5 h-5"}),O.jsx("span",{className:"text-sm",children:"Parada con Servicio"}),O.jsxs("span",{className:"text-lg font-extrabold",children:["+$",Hn.paradaServicio]})]})]}),O.jsx("button",{onClick:()=>re(!1),className:"w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white text-sm py-2 rounded-lg",children:"Cancelar"})]})})]}),O.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:[O.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>ie(be=>!be),children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(zk,{className:"w-5 h-5 text-blue-400 mr-2"}),O.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Servicios Adicionales"})]}),Z?O.jsx($_,{className:"w-5 h-5 text-white"}):O.jsx(q_,{className:"w-5 h-5 text-white"})]}),Z&&O.jsxs("div",{className:"mt-3 border-t border-gray-700 pt-3 space-y-3",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("div",{className:"flex items-center",children:O.jsxs("span",{className:"text-sm text-white",children:["Mascota (+$",w.withCage?20:30," MXN)"]})}),O.jsx("button",{onClick:()=>D(be=>!be),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${w.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:w.active?"Activo":"Aadir"})]}),S&&O.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("span",{className:"text-xs text-gray-300",children:"Con jaula/transportadora?"}),O.jsxs("div",{className:"flex space-x-2",children:[O.jsx("button",{onClick:()=>{N({active:!0,withCage:!0,cost:20}),D(!1)},className:`px-3 py-1 text-xs rounded-full ${w.withCage===!0?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"S ($20)"}),O.jsx("button",{onClick:()=>{N({active:!0,withCage:!1,cost:30}),D(!1)},className:`px-3 py-1 text-xs rounded-full ${w.withCage===!1?"bg-red-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"No ($30)"})]})]}),O.jsx("button",{onClick:()=>{N({active:!1,withCage:null,cost:0}),D(!1)},className:"w-full bg-red-700 text-white text-xs py-1 rounded",disabled:e.isRunning,children:"Eliminar"})]}),O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("div",{className:"flex items-center",children:O.jsx("span",{className:"text-sm text-white",children:"Servicio Especial (Recoger +$60 / Comprar +$70)"})}),O.jsx("button",{onClick:()=>X(be=>!be),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ce.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:ce.active?"Activo":"Aadir"})]}),T&&O.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("span",{className:"text-xs text-gray-300",children:"Selecciona tipo de servicio:"}),O.jsxs("div",{className:"flex space-x-2",children:[O.jsx("button",{onClick:()=>{me({active:!0,type:"recoger",cost:60}),X(!1)},className:`px-3 py-1 text-xs rounded-full ${ce.type==="recoger"?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"Recoger ($60)"}),O.jsx("button",{onClick:()=>{me({active:!0,type:"comprar",cost:70}),X(!1)},className:`px-3 py-1 text-xs rounded-full ${ce.type==="comprar"?"bg-blue-500 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:"Comprar ($70)"})]})]}),O.jsx("button",{onClick:()=>{me({active:!1,type:null,cost:0}),X(!1)},className:"w-full bg-red-700 text-white text-xs py-1 rounded",disabled:e.isRunning,children:"Eliminar"})]}),O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("div",{className:"flex items-center",children:O.jsx("span",{className:"text-sm text-white",children:"Pasajeros Adicionales (+ $20/Adulto, $10/Nio)"})}),O.jsx("button",{onClick:()=>F(be=>!be),className:`px-3 py-1 rounded-full text-xs font-semibold transition ${W.active?"bg-green-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,disabled:e.isRunning,children:W.active?"Activo":"Aadir"})]}),_e&&O.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg space-y-2",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("span",{className:"text-xs text-gray-300",children:"Adultos ($20 c/u):"}),O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx("button",{onClick:()=>_r("adultos",-1),className:`p-1 rounded-full transition ${W.adultos>0&&!e.isRunning?"bg-red-500 hover:bg-red-400":"bg-gray-600 cursor-not-allowed"}`,disabled:W.adultos===0||e.isRunning,children:O.jsx(G_,{className:"w-4 h-4 text-white"})}),O.jsx("span",{className:"w-6 text-center text-white font-bold text-sm",children:W.adultos}),O.jsx("button",{onClick:()=>_r("adultos",1),className:`p-1 rounded-full transition ${e.isRunning?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-400"}`,disabled:e.isRunning,children:O.jsx(Y_,{className:"w-4 h-4 text-white"})})]})]}),O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("span",{className:"text-xs text-gray-300",children:"Nios ($10 c/u):"}),O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx("button",{onClick:()=>_r("ninos",-1),className:`p-1 rounded-full transition ${W.ninos>0&&!e.isRunning?"bg-red-500 hover:bg-red-400":"bg-gray-600 cursor-not-allowed"}`,disabled:W.ninos===0||e.isRunning,children:O.jsx(G_,{className:"w-4 h-4 text-white"})}),O.jsx("span",{className:"w-6 text-center text-white font-bold text-sm",children:W.ninos}),O.jsx("button",{onClick:()=>_r("ninos",1),className:`p-1 rounded-full transition ${e.isRunning?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-400"}`,disabled:e.isRunning,children:O.jsx(Y_,{className:"w-4 h-4 text-white"})})]})]}),O.jsxs("p",{className:"text-right text-sm font-bold text-blue-400",children:["Costo adicional: $",W.cost," MXN"]}),O.jsx("button",{onClick:()=>F(!1),className:"w-full bg-blue-700 text-white text-xs py-1 rounded",children:"Guardar"})]})]})]}),O.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl shadow-lg mb-6 border border-gray-700",children:[O.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>P(be=>!be),children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Hk,{className:"w-5 h-5 text-gray-400 mr-2"}),O.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Informacin de Tarifas"})]}),x?O.jsx($_,{className:"w-5 h-5 text-white"}):O.jsx(q_,{className:"w-5 h-5 text-white"})]}),x&&O.jsxs("div",{className:"mt-3 border-t border-gray-700 pt-3 space-y-3 text-sm text-gray-300",children:[O.jsxs("p",{className:"font-bold text-white",children:["Tarifa Base: $",Hn.baseFare," MXN"]}),O.jsxs("p",{className:"font-bold text-white",children:["Costo por Tiempo de Espera: $",Hn.waitingRate," MXN/min"]}),O.jsx("h4",{className:"font-bold text-blue-400 mt-3",children:"Tarifas por Distancia (Viaje Normal):"}),O.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2",children:Hn.distanceRates.map((be,Re)=>O.jsx("li",{children:be.max===1/0?`> ${be.min.toFixed(2)} km: Base $${be.basePrice} + $${be.extraRate}/km extra`:`${be.min.toFixed(2)} - ${be.max.toFixed(2)} km: $${be.price} MXN`},Re))}),O.jsx("h4",{className:"font-bold text-blue-400 mt-3",children:"Tarifas Adicionales:"}),O.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[O.jsx("li",{children:"**Ajuste GPS:** Se aplica un ajuste del **12.5%** a la distancia total (0.125 km por cada km) para compensar desvos."}),O.jsx("li",{children:"**Rutas Fijas:** Rutas especficas (Walmart, Tecnolgico, etc.) tienen tarifa fija que se usa como base para clculos."}),O.jsx("li",{children:"**Rutas Especiales/Zonas:** +$5 MXN si la distancia es  3.7 km."}),O.jsx("li",{children:"**Mascota:** Con jaula: **+$20**; Sin jaula: **+$30**."}),O.jsx("li",{children:"**Servicio Especial:** Recoger: **+$60**; Comprar: **+$70**."}),O.jsx("li",{children:"**Pasajeros Adicionales:** Adultos **+$20**, Nios **+$10**."}),O.jsx("li",{children:"**Parada Rpida:** **+$20** MXN."}),O.jsx("li",{children:"**Parada con Servicio:** **+$50** MXN."})]})]})]}),O.jsxs("footer",{className:"mt-6 text-center text-xs text-gray-500",children:[r&&O.jsxs("p",{children:["GPS: Lat ",r.latitude.toFixed(6),", Lon ",r.longitude.toFixed(6)]}),e.isRunning&&O.jsxs("p",{children:["Distancia Cruda: ",e.rawDistance.toFixed(3)," km"]})]})]})]})}const EV=({children:t})=>{const[e,n]=$e.useState(null),[r,i]=$e.useState(!0),[s,o]=$e.useState(!1),[a,l]=$e.useState({email:"",idZello:"",nombre:"",telefono:""}),[u,d]=$e.useState(!1);$e.useEffect(()=>{const k=GL(as,E=>{(async()=>E?await g(E):(n(null),i(!1)))()});return()=>k()},[]);const g=async k=>{try{const E=So(ra,"usuarios",k.uid);(await A2(E)).exists()?(await D0(E,{ultimaConexion:Tc()},{merge:!0}),n(k),i(!1)):(l({email:k.email||"",idZello:"",nombre:k.displayName||"",telefono:""}),o(!0),i(!1))}catch(E){console.error("Error al verificar usuario:",E),n(k),i(!1)}},v=async k=>{if(k.preventDefault(),!!as.currentUser){d(!0);try{const E=So(ra,"usuarios",as.currentUser.uid);await D0(E,{uid:as.currentUser.uid,email:a.email,idZello:a.idZello,nombre:a.nombre,telefono:a.telefono,createdAt:Tc(),ultimaConexion:Tc()}),n(as.currentUser),o(!1)}catch(E){console.error("Error al registrar usuario:",E),alert("Error al registrar los datos. Por favor, intenta de nuevo.")}finally{d(!1)}}},p=async()=>{try{await pR(as,_O)}catch(k){console.error("Error al iniciar sesin:",k)}};return r?O.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:O.jsx("div",{className:"text-white text-xl",children:"Cargando..."})}):s?O.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700 max-w-md w-full",children:[O.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-4",children:"Registro de Usuario"}),O.jsx("p",{className:"text-gray-300 text-center mb-6",children:"Completa tus datos para continuar"}),O.jsxs("form",{onSubmit:v,className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),O.jsx("input",{type:"email",value:a.email,onChange:k=>l({...a,email:k.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"ID Zello"}),O.jsx("input",{type:"text",value:a.idZello,onChange:k=>l({...a,idZello:k.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Tu ID de Zello"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Nombre"}),O.jsx("input",{type:"text",value:a.nombre,onChange:k=>l({...a,nombre:k.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Nombre completo"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Telfono"}),O.jsx("input",{type:"tel",value:a.telefono,onChange:k=>l({...a,telefono:k.target.value}),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",required:!0,placeholder:"Nmero de telfono"})]}),O.jsx("button",{type:"submit",disabled:u,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${u?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:u?"Registrando...":"Completar Registro"}),O.jsx("button",{type:"button",onClick:()=>o(!1),disabled:u,className:`w-full font-bold py-3 rounded-xl transition duration-200 ${u?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:"Cancelar"})]})]})}):e?O.jsx("div",{className:"relative",children:Mv.isValidElement(t)&&typeof t.type!="string"?Mv.cloneElement(t,{isAdmin:(e==null?void 0:e.email)==="trabajoonline88@gmail.com"}):t}):O.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl border border-gray-700 max-w-md w-full",children:[O.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-6",children:"Recorrido GPS"}),O.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Inicia sesin para continuar"}),O.jsxs("button",{onClick:p,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition duration-200 flex items-center justify-center gap-3",children:[O.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[O.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),O.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),O.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),O.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Iniciar sesin con Google"]})]})})};_A(document.getElementById("root")).render(O.jsx($e.StrictMode,{children:O.jsx(EV,{children:O.jsx(SV,{})})}));export{mn as _,NV as c,hN as g};
